{"version":3,"sources":["../../modules/BrowserRouter.js","../../modules/HashRouter.js","../../modules/utils/locationUtils.js","../../modules/Link.js","../../modules/NavLink.js","components/EntitySelectModal/index.tsx","components/EntitySelectModal/style.module.scss","../node_modules/antd/es/divider/index.js","pages/devtool/querySchema/list/style.module.scss","pages/devtool/querySchema/list/index.tsx"],"names":["React","Component","resolveToLocation","to","currentLocation","normalizeToLocation","createLocation","forwardRefShim","C","forwardRef","LinkAnchor","innerRef","navigate","onClick","rest","target","props","event","ex","isModifiedEvent","forwardedRef","Link","component","replace","RouterContext","context","history","location","href","method","ariaCurrent","activeClassName","activeStyle","classNameProp","className","exact","isActiveProp","isActive","locationProp","sensitive","strict","styleProp","style","toLocation","path","escapedPath","match","matchPath","classnames","i","joinClassnames","EntitySelectModal","entityList","map","entity","label","name","value","setState","entityName","onOk","state","title","this","okText","cancelText","onCancel","okButtonProps","disabled","styles","options","getOptions","onChange","module","exports","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","length","propertyIsEnumerable","Divider","ConfigConsumer","_ref","_classNames","getPrefixCls","direction","customizePrefixCls","prefixCls","_props$type","type","_props$orientation","orientation","children","dashed","plain","restProps","orientationPrefix","concat","hasChildren","classString","classNames","_defineProperty","_extends","role","useEffect","cols","onDelete","dataIndex","render","val","record","onConfirm","size","FormMode","Edit","QueryColumnList","list","setList","getList","fetchQuerySchemaList","then","data","template","removeTemplate","id","err","message","error","onCreate","metadata","filter","some","opt","Modals","show","push","Create","rowKey","columns","dataSource","pagination"],"mappings":"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","file":"static/js/7.83bd37da.chunk.js","sourcesContent":["import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<BrowserRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\"\n    );\n  };\n}\n\nexport default BrowserRouter;\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createHashHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<HashRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n    );\n  };\n}\n\nexport default HashRouter;\n","import { createLocation } from \"history\";\n\nexport const resolveToLocation = (to, currentLocation) =>\n  typeof to === \"function\" ? to(currentLocation) : to;\n\nexport const normalizeToLocation = (to, currentLocation) => {\n  return typeof to === \"string\"\n    ? createLocation(to, null, null, currentLocation)\n    : to;\n};\n","import React from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nconst LinkAnchor = forwardRef(\n  (\n    {\n      innerRef, // TODO: deprecate\n      navigate,\n      onClick,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const { target } = rest;\n\n    let props = {\n      ...rest,\n      onClick: event => {\n        try {\n          if (onClick) onClick(event);\n        } catch (ex) {\n          event.preventDefault();\n          throw ex;\n        }\n\n        if (\n          !event.defaultPrevented && // onClick prevented default\n          event.button === 0 && // ignore everything but left clicks\n          (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n          !isModifiedEvent(event) // ignore clicks with modifier keys\n        ) {\n          event.preventDefault();\n          navigate();\n        }\n      }\n    };\n\n    // React 15 compat\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.ref = innerRef;\n    }\n\n    /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n    return <a {...props} />;\n  }\n);\n\nif (__DEV__) {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = forwardRef(\n  (\n    {\n      component = LinkAnchor,\n      replace,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Link> outside a <Router>\");\n\n          const { history } = context;\n\n          const location = normalizeToLocation(\n            resolveToLocation(to, context.location),\n            context.location\n          );\n\n          const href = location ? history.createHref(location) : \"\";\n          const props = {\n            ...rest,\n            href,\n            navigate() {\n              const location = resolveToLocation(to, context.location);\n              const method = replace ? history.replace : history.push;\n\n              method(location);\n            }\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return React.createElement(component, props);\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  const toType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.func\n  ]);\n  const refType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any })\n  ]);\n\n  Link.displayName = \"Link\";\n\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nexport default Link;\n","import React from \"react\";\nimport { __RouterContext as RouterContext, matchPath } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport Link from \"./Link.js\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction joinClassnames(...classnames) {\n  return classnames.filter(i => i).join(\" \");\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = forwardRef(\n  (\n    {\n      \"aria-current\": ariaCurrent = \"page\",\n      activeClassName = \"active\",\n      activeStyle,\n      className: classNameProp,\n      exact,\n      isActive: isActiveProp,\n      location: locationProp,\n      sensitive,\n      strict,\n      style: styleProp,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <NavLink> outside a <Router>\");\n\n          const currentLocation = locationProp || context.location;\n          const toLocation = normalizeToLocation(\n            resolveToLocation(to, currentLocation),\n            currentLocation\n          );\n          const { pathname: path } = toLocation;\n          // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n          const escapedPath =\n            path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n\n          const match = escapedPath\n            ? matchPath(currentLocation.pathname, {\n                path: escapedPath,\n                exact,\n                sensitive,\n                strict\n              })\n            : null;\n          const isActive = !!(isActiveProp\n            ? isActiveProp(match, currentLocation)\n            : match);\n\n          const className = isActive\n            ? joinClassnames(classNameProp, activeClassName)\n            : classNameProp;\n          const style = isActive ? { ...styleProp, ...activeStyle } : styleProp;\n\n          const props = {\n            \"aria-current\": (isActive && ariaCurrent) || null,\n            className,\n            style,\n            to: toLocation,\n            ...rest\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return <Link {...props} />;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n\n  const ariaCurrentType = PropTypes.oneOf([\n    \"page\",\n    \"step\",\n    \"location\",\n    \"date\",\n    \"time\",\n    \"true\"\n  ]);\n\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.object\n  };\n}\n\nexport default NavLink;\n","import {IEntity} from '@src/interfaces/entity';\nimport {Modal, Select} from 'antd';\nimport * as React from 'react';\nimport {ModalsComponentProps} from '../Modals';\n\nimport styles from './style.module.scss';\n\nexport interface EntitySelectModalProps extends ModalsComponentProps {\n  entityList: Array<IEntity>;\n}\n\ntype EntitySelectModalState = {\n  entityName?: string;\n};\n\nexport default class EntitySelectModal extends React.Component<EntitySelectModalProps, EntitySelectModalState> {\n  constructor(props: EntitySelectModalProps) {\n    super(props);\n\n    this.state = {\n      entityName: '',\n    };\n  }\n\n  private getOptions = () => {\n    const {entityList = []} = this.props;\n\n    return entityList.map((entity) => ({\n      label: entity.name,\n      value: entity.name,\n    }));\n  };\n\n  onChange = (value: string) => {\n    this.setState({\n      entityName: value,\n    });\n  };\n\n  onOk = () => {\n    this.props.onOk && this.props.onOk(this.state.entityName);\n  };\n\n  render() {\n    return (\n      <Modal\n        title=\"选择业务对象\"\n        {...this.props}\n        okText=\"确定\"\n        cancelText=\"取消\"\n        onOk={this.onOk}\n        onCancel={this.props.onCancel}\n        // 没有选择不允许点确定\n        okButtonProps={{disabled: !this.state.entityName}}\n      >\n        <Select className={styles['entity-selector']} options={this.getOptions()} onChange={this.onChange} />\n      </Modal>\n    );\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"entity-selector\":\"style_entity-selector__2eNfB\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Divider = function Divider(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$type = props.type,\n        type = _props$type === void 0 ? 'horizontal' : _props$type,\n        _props$orientation = props.orientation,\n        orientation = _props$orientation === void 0 ? 'center' : _props$orientation,\n        className = props.className,\n        children = props.children,\n        dashed = props.dashed,\n        plain = props.plain,\n        restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\", \"plain\"]);\n\n    var prefixCls = getPrefixCls('divider', customizePrefixCls);\n    var orientationPrefix = orientation.length > 0 ? \"-\".concat(orientation) : orientation;\n    var hasChildren = !!children;\n    var classString = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\"), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\").concat(orientationPrefix), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dashed\"), !!dashed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-plain\"), !!plain), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classString\n    }, restProps, {\n      role: \"separator\"\n    }), children && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-inner-text\")\n    }, children));\n  });\n};\n\nexport default Divider;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1C_JS\",\"header\":\"style_header__3eo7U\"};","import * as React from 'react';\nimport { Button, Divider, message, Popconfirm, Table } from \"antd\";\nimport { fetchTemplateList, removeTemplate } from '@src/http';\n// import { Template } from '../form/template';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport styles from './style.module.scss';\nimport { FormMode } from '@src/bizForm/formMode';\nimport { fetchQuerySchemaList } from '@src/http/querySchema';\nimport { QueryColumn } from '@src/components/QueryListSolution/ListSolution/queryColumn';\nimport { metadata } from '@src/metadata/metadata';\nimport { Modals } from '@src/components/Modals';\nimport EntitySelectModal from '@src/components/EntitySelectModal';\nconst { useEffect } = React;\n\n\ninterface ICols {\n    onDelete: (data: QueryColumn) => void;\n\n}\nconst cols = ({ onDelete }: ICols) => [\n    {\n        title: '业务对象',\n        dataIndex: 'entityName'\n    },\n    {\n        title: '操作',\n        dataIndex: 'actions',\n        render: (val: any, record: any) => <span>\n            <Popconfirm\n                title=\"确定删除?\"\n                onConfirm={() => onDelete(record)}\n                okText=\"确定\"\n                cancelText=\"取消\"\n            >\n                <Button size=\"small\">删除</Button>\n                <Divider type=\"vertical\" />\n                <Button size=\"small\">\n                    <Link to={`/devtool/querySchema/${record.entityName}/${FormMode.Edit}`}>\n                        编辑\n                    </Link>\n                </Button>\n            </Popconfirm>\n        </span>\n    }\n]\n\ninterface IQueryColumnList extends RouteComponentProps<any> { }\n\nexport default function QueryColumnList(props: IQueryColumnList) {\n    const [list, setList] = React.useState([]);\n\n    const getList = React.useCallback(() => {\n        fetchQuerySchemaList({\n            'page[offset]': 0,\n            'page[limit]': 9999,\n        })\n            .then(data => {\n                setList(data.data);\n            })\n    }, [])\n\n    const onDelete = React.useCallback((template: QueryColumn) => {\n        try {\n            removeTemplate({ id: template.id });\n            getList();\n        } catch (err) {\n            message.error('删除失败');\n        }\n    }, []);\n\n    // 新增按钮\n\n    const onCreate = React.useCallback(() => {\n        const entityList = metadata.getList().filter((entity) => {\n          return !list.some((opt) => opt.entityName === entity.name);\n        });\n    \n        Modals.show(EntitySelectModal, {\n          entityList: entityList,\n          onOk: (entityName: string) => {\n            const {history} = props;\n            history.push(`/devtool/querySchema/${entityName}/${FormMode.Create}`);\n          },\n        });\n      }, [list]);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(getList, []);\n\n    return <div className={styles[\"container\"]}>\n        <div className={styles[\"header\"]}>\n            <Button type=\"primary\" size=\"small\" onClick={onCreate}>新增</Button>\n        </div>\n        <Table rowKey=\"id\" columns={cols({ onDelete })} dataSource={list} pagination={false}></Table>\n    </div>\n}"],"sourceRoot":""}