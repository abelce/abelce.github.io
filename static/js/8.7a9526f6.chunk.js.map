{"version":3,"sources":["pages/settings/Avatar/style.module.scss","pages/settings/style/index.module.scss","pages/settings/components/SettingsMenu/style.module.scss","pages/settings/Avatar/index.tsx","pages/settings/config.ts","pages/settings/components/SettingsMenu/index.tsx","pages/settings/index.tsx"],"names":["module","exports","layout","labelCol","span","wrapperCol","tailLayout","offset","SettingMenuList","label","route","component","props","useState","loading","setLoading","Form","useForm","form","onFinish","values","a","asyncUpdateAvatar","message","success","error","className","styles","initialValues","operator","Item","name","rules","required","type","htmlType","React","lazy","SettingMenu","options","location","history","map","item","classnames","pathname","onClick","RouteUtils","to","Settings","console","log","block","find","operatorStore","useMemo","OperatorStore","data","path"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,iBAAiB,gC,oBCAnCD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,iBAAiB,8BAA8B,mBAAmB,gCAAgC,0BAA0B,yC,oBCAjLD,EAAOC,QAAU,CAAC,YAAc,2BAA2B,mBAAmB,gCAAgC,0BAA0B,yC,0KCMlIC,EAAS,CACbC,SAAU,CAACC,KAAM,GACjBC,WAAY,CAACD,KAAM,KAEfE,EAAa,CACjBD,WAAY,CAACE,OAAQ,EAAGH,KAAM,KCNnBI,EAA0C,CAMrD,CACEC,MAAO,2BACPC,MAAO,mBACPC,UDA4B,SAACC,GAC/B,MAA8BC,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAeC,IAAKC,UAAbC,EAAP,oBAEMC,EAAQ,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACfN,GAAW,GADI,kBAGPO,YAAkBF,GAHX,OAIbG,IAAQC,QAAQ,4BAJH,gDAMbD,IAAQE,MAAM,4BAND,yBAQbV,GAAW,GARE,4EAAH,sDAYd,OACE,qBAAKW,UAAWC,IAAM,UAAtB,SACE,eAAC,IAAD,yBACEzB,OAAO,WACPwB,UAAWC,IAAO,mBACdzB,GAHN,IAIEgB,KAAMA,EACNU,cAAehB,EAAMiB,SACrBV,SAAUA,EANZ,UAQE,cAAC,IAAKW,KAAN,CAAWC,KAAK,SAASC,MAAO,CAAC,CAACC,UAAU,IAA5C,SACE,cAAC,IAAD,MAEF,cAAC,IAAKH,KAAN,2BAAexB,GAAf,aACE,cAAC,IAAD,CAAQ4B,KAAK,UAAUC,SAAS,SAASrB,QAASA,EAAlD,qCC5BR,CACEL,MAAO,2BACPC,MAAO,2BACPC,UAhBmByB,IAAMC,MAAK,kBAAM,oC,mECE3BC,EAAoC,SAAC1B,GAChD,MAGIA,EAFF2B,eADF,MACY,GADZ,EAEYC,EACR5B,EADF6B,QAAUD,SAKZ,OACE,qBAAKd,UAAWC,IAAM,YAAtB,SACGY,EAAQG,KAAI,SAACC,GAAD,OACX,qBACEjB,UAAWkB,IAAWjB,IAAO,oBAAR,eAClBA,IAAO,2BAA6BgB,EAAKjC,QAAU8B,EAASK,WAE/DC,QAAS,kBAVQpC,EAUciC,EAAKjC,WAT1CqC,IAAWC,GAAGtC,GADQ,IAACA,GAMnB,SAMGiC,EAAKlC,c,kBCqBDwC,UAnCqB,SAACrC,GAAW,IAAD,EACtC6B,EAAW7B,EAAX6B,QACPS,QAAQC,IAAIX,SAASK,UACrB,IFY8BnC,EEZxB0C,GFYwB1C,EEZA8B,SAASK,SFahCrC,EAAgB6C,MAAK,SAACV,GAAD,OAAUA,EAAKjC,QAAUA,MEV/C4C,EAAgBC,mBAAQ,WAC5B,OAAOC,IAAcC,OACpB,IACH,OACE,sBAAK/B,UAAWC,IAAM,SAAtB,UACE,qBAAKD,UAAWC,IAAO,kBAAvB,SACE,cAAC,EAAD,CAAaY,QAAS/B,EAAiBiC,QAASA,MAElD,sBAAKf,UAAWC,IAAO,oBAAvB,UACE,qBAAKD,UAAWC,IAAO,2BAAvB,SACE,oCAAKyB,QAAL,IAAKA,OAAL,EAAKA,EAAO3C,UAId,eAAC,IAAD,WACGD,EAAgBkC,KAAI,SAACC,GAAD,OACnB,cAAC,IAAD,CAEEe,KAAMf,EAAKjC,MACXC,UAAW,SAACC,GAAD,OAAgB,cAAC+B,EAAKhC,UAAN,2BAAoBC,GAApB,IAA2BiB,SAAUyB,OAF3DX,EAAKjC,UAKd,cAAC,IAAD,CAAUsC,GAAE,UAAExC,EAAgB,UAAlB,aAAE,EAAoBE","file":"static/js/8.7a9526f6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container-form\":\"style_container-form__2xq8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"style_settings__3X6Qg\",\"settings-sider\":\"style_settings-sider__36fsh\",\"settings-content\":\"style_settings-content__21L1x\",\"settings-content-header\":\"style_settings-content-header__1YxCZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingMenu\":\"style_settingMenu__3gmjd\",\"settingMenu-item\":\"style_settingMenu-item__28jBq\",\"settingMenu-item_active\":\"style_settingMenu-item_active__32Wp1\"};","import React, {FC, useState} from \"react\";\nimport {Button, Form, message} from \"antd\";\nimport styles from \"./style.module.scss\";\nimport {asyncUpdateAvatar} from \"@src/http\";\nimport {AvatarProps} from \"./stypes\";\nimport {SimpleUpload} from \"@src/components/Upload\";\n\nconst layout = {\n  labelCol: {span: 8},\n  wrapperCol: {span: 16},\n};\nconst tailLayout = {\n  wrapperCol: {offset: 8, span: 16},\n};\n\nconst Avatar: FC<AvatarProps> = (props) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [form] = Form.useForm();\n\n  const onFinish = async (values: any) => {\n    setLoading(true);\n    try {\n      await asyncUpdateAvatar(values);\n      message.success(\"更新成功\");\n    } catch (err) {\n      message.error(\"更新失败\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={styles[\"container\"]}>\n      <Form\n        layout=\"vertical\"\n        className={styles[\"container-form\"]}\n        {...layout}\n        form={form}\n        initialValues={props.operator}\n        onFinish={onFinish}\n      >\n        <Form.Item name=\"avatar\" rules={[{required: true}]}>\n          <SimpleUpload />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            提交\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\nimport Avatar from './Avatar';\n// import Profile from './Profile';\nimport {SettingMenuItem} from './types';\nconst ChangePassword = React.lazy(() => import('@src/pages/settings/ChangePassword'));\n\nexport const SettingMenuList: Array<SettingMenuItem> = [\n  // {\n  //   label: '个人信息',\n  //   route: '/settings/profile',\n  //   component: null,\n  // },\n  {\n    label: '修改头像',\n    route: '/settings/avatar',\n    component: Avatar,\n  },\n  {\n    label: '修改密码',\n    route: '/settings/changePassword',\n    component: ChangePassword,\n  },\n];\n\nexport const getSettingBlock = (route: string) => {\n  return SettingMenuList.find((item) => item.route === route);\n};\n","import React, {FC} from 'react';\nimport styles from './style.module.scss';\nimport {SettingMenuProps} from './types';\nimport classnames from 'classnames';\nimport {RouteUtils} from '@src/router/routeUtils';\n\nexport const SettingMenu: FC<SettingMenuProps> = (props) => {\n  const {\n    options = [],\n    history: {location},\n  } = props;\n  const handleMenuClick = (route: string) => {\n    RouteUtils.to(route);\n  };\n  return (\n    <div className={styles['settingMenu']}>\n      {options.map((item) => (\n        <div\n          className={classnames(styles['settingMenu-item'], {\n            [styles['settingMenu-item_active']]: item.route === location.pathname,\n          })}\n          onClick={() => handleMenuClick(item.route)}\n        >\n          {item.label}\n        </div>\n      ))}\n    </div>\n  );\n};\n","import {List} from \"antd\";\nimport React, {FC, useMemo} from \"react\";\nimport {getSettingBlock, SettingMenuList} from \"./config\";\nimport {SettingsProps} from \"./types\";\nimport styles from \"./style/index.module.scss\";\nimport {SettingMenu} from \"./components/SettingsMenu\";\nimport OperatorStore from \"@src/operator\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\n\nconst Settings: FC<SettingsProps> = (props) => {\n  const {history} = props;\n  console.log(location.pathname);\n  const block = getSettingBlock(location.pathname);\n  // const Content = block.component;\n\n  const operatorStore = useMemo(() => {\n    return OperatorStore.data;\n  }, []);\n  return (\n    <div className={styles[\"settings\"]}>\n      <div className={styles[\"settings-sider\"]}>\n        <SettingMenu options={SettingMenuList} history={history} />\n      </div>\n      <div className={styles[\"settings-content\"]}>\n        <div className={styles[\"settings-content-header\"]}>\n          <h3>{block?.label}</h3>\n        </div>\n        {/* {Content && <Content operator={operatorStore}/>} */}\n\n        <Switch>\n          {SettingMenuList.map((item) => (\n            <Route\n              key={item.route}\n              path={item.route}\n              component={(props: any) => <item.component {...props} operator={operatorStore} />}\n            ></Route>\n          ))}\n          <Redirect to={SettingMenuList[0]?.route} />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n"],"sourceRoot":""}