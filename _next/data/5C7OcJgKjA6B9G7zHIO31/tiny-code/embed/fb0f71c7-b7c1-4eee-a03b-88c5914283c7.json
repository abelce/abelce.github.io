{"pageProps":{"data":{"createTime":1676181282095,"css":"body {\n  24px;\n}","html":"    <input type=\"file\" class=\"upload_inp\" />\n    <div id=\"preview\" style=\"margin-top: 8px\">\n      <div>图片预览：</div>\n      <img style=\"width: 200px\" />\n    </div>\n    <div id=\"result\"></div>","id":"fb0f71c7-b7c1-4eee-a03b-88c5914283c7","javascript":"      let upload_inp = document.querySelector(\".upload_inp\");\n      upload_inp.addEventListener(\"change\", function () {\n        console.log(upload_inp.files);\n        const url = URL.createObjectURL(upload_inp.files[0]);\n        const preview = document.querySelector(\"#preview img\");\n        preview.src = url;\n\n        const result = document.querySelector(\"#result\");\n\n        setTimeout(() => {\n          const barcodeDetector = new BarcodeDetector({\n            formats: [\"qr_code\"],\n          });\n          barcodeDetector\n            .detect(preview)\n            .then((barcodes) => {\n              barcodes.forEach((barcode) => {\n                console.log(barcode.rawValue);\n                result.innerHTML = `<span style=\"color:green;\">解析结果：</span>` + barcode.rawValue;\n              });\n            })\n            .catch((err) => {\n              console.log(err);\n              result.innerHTML = `<span style=\"color:red;\">解析失败</span>`;\n            });\n        }, 10);\n      });","name":"BarcodeDetector API现在演示","operator":{"avatar":"//file.vwood.xyz/2022/07/13/upload_xtola9p0z8ctzyg5g014tfmjkokb7ydq.jpg","id":"96f16846-31f2-489c-9af0-d4ca13e836e4","name":"文钦"},"updateTime":1676181810852},"id":"fb0f71c7-b7c1-4eee-a03b-88c5914283c7"},"initialMobxState":{"userStore":{"currentUser":null,"users":[],"token":"","qiniuToken":"","userCount":0,"productCount":0,"commentCount":0,"settingType":"products"},"productStore":{"products":[],"total":0,"type":"","url":"","current":1,"product":null,"likesMap":{},"tabpane":"all","token":"","loading":false,"todayHunters":[],"today":[],"yesterday":[],"relatedProducts":[],"search":""},"commentStore":{"comments":[],"total":0,"current":0},"noteStore":{"token":"","notes":[],"total":0,"note":null},"askStore":{"token":"","asks":[],"total":0,"ask":null},"stypeStore":{"data":[]}},"__N_SSG":true}