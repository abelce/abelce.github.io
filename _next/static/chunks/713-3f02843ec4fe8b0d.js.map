{"version":3,"file":"static/chunks/713-3f02843ec4fe8b0d.js","mappings":"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","sources":["webpack://_N_E/./pages/tiny-code/Editor/components/Box/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Resizer.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Item.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/index.jsx","webpack://_N_E/./pages/tiny-code/components/Previewer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Box/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/style.module.scss","webpack://_N_E/./pages/tiny-code/components/Previewer/style.module.scss","webpack://_N_E/<anon>"],"sourcesContent":["import React, { FC, memo } from \"react\";\nimport { BoxProps } from \"./types\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\n\nconst Box: FC<BoxProps> = (props): JSX.Element => {\n  const { title, extra, children } = props;\n\n  return (\n    <div className={classNames(style[\"box\"], props.className)} style={props.style ?? {}}>\n      <div className={style[\"box-header\"]}>\n        <div className={style[\"box-header-left\"]}>{title}</div>\n        <div className={style[\"box-header-right\"]}>{extra}</div>\n      </div>\n      <div className={style[\"box-body\"]}>{children}</div>\n    </div>\n  );\n};\n\nexport default memo(Box);\n","import React, { FC, memo, useCallback, useEffect, useRef } from \"react\";\nimport { CodeEditorProps } from \"./types\";\nimport { EditorView, basicSetup } from \"codemirror\";\nimport { javascript as langJS } from \"@codemirror/lang-javascript\";\nimport { css as langCSS } from \"@codemirror/lang-css\";\nimport { html as langHtml } from \"@codemirror/lang-html\";\nimport style from \"./style.module.scss\";\nimport { Compartment, EditorState } from \"@codemirror/state\";\nimport { oneDark } from \"@codemirror/theme-one-dark\";\nimport {\n  drawSelection,\n  keymap,\n  lineNumbers,\n  ViewUpdate,\n} from \"@codemirror/view\";\nimport { defaultKeymap, historyKeymap, history } from \"@codemirror/commands\";\n\nconst editorTheme = new Compartment();\nconst darkTheme = editorTheme.of(oneDark)\n// react-codemirror 地址\n// https://github.com/uiwjs/react-codemirror/blob/master/core/src/useCodeMirror.ts\n\n\nconst LangMap = {\n  javascript: langJS,\n  css: langCSS,\n  html: langHtml,\n}\n\nconst CodeEditor: FC<CodeEditorProps> = (props): JSX.Element => {\n  const codeRef = useRef<HTMLDivElement>();\n\n  const handleChange = useCallback((vu: ViewUpdate) => {\n    if (vu.docChanged && typeof props.onChange === \"function\") {\n      const doc = vu.state.doc;\n      const value = doc.toString();\n      props.onChange(value);\n    }\n  }, []);\n\n  useEffect(() => {\n\n    const lang = LangMap[props.lang || \"html\"]\n\n    const extensions = [\n      basicSetup,\n      lang(),\n      darkTheme,\n      history(),\n      drawSelection(),\n      lineNumbers(),\n      keymap.of([\n        ...defaultKeymap,\n        ...historyKeymap,\n        {\n          key: \"Mod-s\",\n          mac: \"Mod-s\",\n          run: () => {\n            // 出发保存行为\n            props.onChange?.(editor.state.doc.toString());\n          },\n        },\n      ] as any),\n      EditorView.updateListener.of(handleChange),\n    ];\n    if (props.readonly) {\n      extensions.push(EditorState.readOnly.of(true));\n    }\n\n    const editor = new EditorView({\n      doc: props.value,\n      extensions: extensions,\n      parent: codeRef.current,\n    });\n\n    return () => {\n      props.onChange?.(editor.state.doc.toString());\n    };\n  }, []);\n\n  return <div ref={codeRef} className={style[\"code-editor\"]}></div>;\n};\n\nexport default memo(CodeEditor);\n","import React, { FC, memo, useEffect, useMemo, useRef, useState } from \"react\";\nimport { ResizerProps } from \"./types\";\nimport { ResizeCallbackData } from \"react-resizable\";\nimport { useDebounceFn, useMount } from \"let-hooks\";\nimport classNames from \"classnames\";\nimport \"react-resizable/css/styles.css\";\nimport style from \"./style.module.scss\";\n\nconst Resizer: FC<ResizerProps> = (props): JSX.Element => {\n  const items = React.Children.toArray(props.children);\n  const avgValue = 1 / items.length;\n  const isVertical = props.type === \"vertical\";\n\n  const _ref = useRef<HTMLDivElement>(null);\n\n  const [load, setLoad] = useState(false);\n  const [resizing, setEesizing] = useState(false);\n\n  // value 根据type来确定，默认为宽度,type=vertical时为高度\n  const [valueMap, setValueMap] = useState<{ width: number; height: number }[]>(\n    []\n  );\n\n  const getParentValue = () =>\n    isVertical ? _ref.current.clientHeight : _ref.current.clientWidth;\n\n  // 计算初始宽度\n  const calcWidth = () => {\n    const parentValue = getParentValue();\n\n    items.map((_, index) => {\n      const value =\n        index !== items.length - 1\n          ? avgValue * parentValue\n          : (1 - avgValue * (items.length - 1)) * parentValue;\n      valueMap[index] = {\n        width: isVertical ? _ref.current.clientWidth : value,\n        height: isVertical ? value : _ref.current.clientHeight,\n      };\n    });\n    setValueMap([...valueMap]);\n  };\n\n  const onResize = useDebounceFn(() => {\n    // 窗口改变的时候修改最后一个元素的高度和宽度\n    const newValueMap = valueMap.map(item => {\n      if (isVertical) {\n        item.width = _ref.current.clientWidth\n      } else {\n        item.height = _ref.current.clientHeight\n      }\n\n      return item;\n    })\n\n    setValueMap([...newValueMap])\n  }, 100)\n\n  useMount(() => {\n    setLoad(true);\n    calcWidth();\n  });\n\n\n  useEffect(() => {\n    let observer = new ResizeObserver(onResize.run);\n    observer.observe(_ref.current);\n    return () => {\n      observer.unobserve(_ref.current);\n    };\n  }, []);\n\n  const handleResize =\n    (index: number) =>\n      (e: React.SyntheticEvent<Element>, data: ResizeCallbackData) => {\n        const attr = isVertical ? \"height\" : \"width\";\n        // 确定index所对应的元素大小应该增大还是减少，减少就压缩左右的元素，增大就压缩右边的元素\n        const isGT = data.size[attr] - valueMap[index][attr];\n        valueMap[index] = data.size;\n        // 确定应该减少宽度的index\n        let needIncIndex = 0;\n        if (items.length > 1) {\n          if (isGT) {\n            needIncIndex = index + 1;\n          } else {\n            // 减少左边的宽度\n            if (index - 1 >= 0) {\n              needIncIndex = index - 1;\n            } else if (index + 1 <= items.length - 1) {\n              needIncIndex = index + 1;\n            }\n          }\n\n          // 计算needIncIndex元素的大小\n          const usedValue = valueMap.reduce((prev, cur, index) => {\n            if (needIncIndex !== index) {\n              return prev + cur[attr];\n            }\n            return prev;\n          }, 0);\n          const parentValue = getParentValue();\n          valueMap[needIncIndex] = {\n            ...valueMap[needIncIndex],\n            [attr]: parentValue - usedValue,\n          };\n        }\n\n        setValueMap([...valueMap]);\n      };\n\n  const onResizeStart = () => {\n    setEesizing(true);\n  };\n\n  const onResizeStop = () => {\n    setEesizing(false);\n  };\n\n  const realItems = useMemo(() => {\n    return items.map((ele: React.ReactElement, index) => {\n      const value = valueMap[index];\n      return React.cloneElement(ele, {\n        index,\n        value: value,\n        onResize: handleResize(index),\n        isFirst: index === 0,\n        isLast: index === items.length - 1,\n        type: props.type,\n        resizing,\n        onResizeStart,\n        onResizeStop,\n      });\n    });\n  }, [items, valueMap, load, resizing]);\n\n  return (\n    <div\n      className={classNames(style[\"vwood-resizer\"], {\n        [style[\"vwood-resizer-vertical\"]]: isVertical,\n      })}\n      ref={_ref}\n    >\n      {load ? realItems : null}\n    </div>\n  );\n};\n\nexport default memo(Resizer);\n","import { CSSProperties, useMemo } from \"react\";\nimport React from \"react\";\nimport { Resizable } from \"react-resizable\";\nimport { ResizerItemProps } from \"./types\";\nimport styles from \"./style.module.scss\";\n\nconst ResizerItem = (\n  props: ResizerItemProps\n) => {\n  const { onResize, value, children, isLast } = props;\n\n  const isVertical = props.type === \"vertical\";\n\n  const style = useMemo((): CSSProperties => {\n    return {\n      width: `${value.width}px`,\n      height: `${value.height}px`,\n      pointerEvents: props.resizing ? \"none\" : undefined,\n      userSelect: props.resizing ? \"none\" : undefined,\n    };\n  }, [value.height, value.width, isVertical, props.resizing]);\n\n  const render = () => {\n    return (\n      <div className={styles[\"editor-resizer-item\"]} style={style}>\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            overflow: \"hidden\",\n          }}\n          className={styles[\"editor-resizer-item-content\"]}\n        >\n          {children}\n        </div>\n      </div>\n    );\n  };\n\n  if (isLast) {\n    return render();\n  }\n\n  return (\n    <Resizable\n      width={value.width}\n      height={value.height}\n      axis={isVertical ? \"y\" : \"x\"}\n      onResizeStart={props.onResizeStart}\n      onResizeStop={props.onResizeStop}\n      handle={\n        isLast ? null : (\n          <div\n            className={\n              isVertical\n                ? \"react-resizable-handle-vertical\"\n                : \"react-resizable-handle\"\n            }\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          />\n        )\n      }\n      onResize={onResize}\n      draggableOpts={{ enableUserSelectHack: true, allowAnyClick: true }}\n    >\n      {render()}\n    </Resizable>\n  );\n};\n\nexport default ResizerItem;\n","import Resizer from \"./Resizer\";\nimport Item from \"./Item\";\n\nexport default Object.assign(Resizer, { Item });\n","import { FC, memo, useEffect, useRef, useState } from \"react\";\nimport Box from \"../Box\";\nimport CodeEditor from \"../CodeEditor\";\nimport Resizer from \"../Resizer\";\nimport style from \"./style.module.scss\";\nimport { CodeBoxsProps } from \"./types\";\n\nconst CodeBoxs: FC<CodeBoxsProps> = (props) => {\n  const codeDivRef = useRef<HTMLDivElement>();\n  const [loaded, setLoaded] = useState(false);\n  const [codeDivRect, setCodeDivRect] = useState({ width: 0, height: 0 });\n  //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n\n  const windowResize = (e) => {\n    codeDivRef.current &&\n      setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"resize\", windowResize);\n\n    setLoaded(true);\n    return () => {\n      document.removeEventListener(\"resize\", windowResize);\n    };\n  }, []);\n\n  return (\n    <div className={style[\"code-div\"]} ref={codeDivRef}>\n      {loaded ? (\n        <>\n          <Resizer>\n            <Resizer.Item>\n              <Box title={\"HTML\"}>\n                <CodeEditor\n                  lang=\"html\"\n                  value={props.value.get(\"html\")}\n                  onChange={(value) => {\n                    props.onChange(\"html\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box title={\"CSS\"}>\n                <CodeEditor\n                  lang=\"css\"\n                  value={props.value.get(\"css\")}\n                  onChange={(value) => {\n                    props.onChange(\"css\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box title={\"JS\"}>\n                <CodeEditor\n                  lang=\"javascript\"\n                  value={props.value.get(\"javascript\")}\n                  onChange={(value) => {\n                    props.onChange(\"javascript\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n          </Resizer>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default memo(CodeBoxs);\n","import React, { memo, useEffect, useState } from \"react\";\nimport CodeBoxs from \"./components/CodeBoxs\";\nimport Previewer from \"../components/Previewer\";\nimport style from \"./style.module.scss\";\nimport Resizer from \"./components/Resizer\";\n\nconst keydown = function (e) {\n  if (\n    e.keyCode == 83 &&\n    (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\n  ) {\n    e.preventDefault();\n    // 阻止浏览器的默认保存行为\n  }\n};\n\nconst Editor = (props) => {\n  const useCacheData = typeof window !== \"undefined\" && props.cachaValue;\n  const initValue = [\n    [\n      \"javascript\",\n      useCacheData\n        ? localStorage?.getItem?.(`${location.pathname}_javascript`)\n        : props.data?.javascript,\n    ],\n    [\n      \"css\",\n      useCacheData\n        ? localStorage?.getItem?.(`${location.pathname}_css`)\n        : props.data?.css,\n    ],\n    [\n      \"html\",\n      useCacheData\n        ? localStorage?.getItem?.(`${location.pathname}_html`)\n        : props.data?.html,\n    ],\n  ];\n  const [codeValue, setCodeValue] = useState(new Map(initValue));\n\n  const onCodeChange = (lang, value) => {\n    codeValue.set(lang, value);\n    setCodeValue(new Map(codeValue));\n    if (useCacheData) {\n      localStorage?.setItem?.(`${location.pathname}_${lang}`, value);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keydown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", keydown);\n    };\n  }, []);\n\n  return (\n    <div className={style[\"editor\"]}>\n      <div className={style[\"iframe-div\"]}>\n        <Resizer type=\"vertical\">\n          <Resizer.Item>\n            <CodeBoxs value={codeValue} onChange={onCodeChange} />\n          </Resizer.Item>\n          <Resizer.Item>\n            <Previewer\n              className={style[\"preview-iframe\"]}\n              codeMap={codeValue}\n            />\n          </Resizer.Item>\n        </Resizer>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Editor);\n","import React, { FC, memo, useMemo } from \"react\";\nimport { PreviewProps } from \"./types\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\n\nconst Preview: FC<PreviewProps> = (props): JSX.Element => {\n  const codeMap = props.codeMap ?? new Map();\n  const srcDoc = useMemo(() => {\n    return `\n      <html lang=\"en\">\n      <head>\n          <meta charset=\"UTF-8\">\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\n          <title>code preview</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n            }\n            body {\n              width: 100vw;\n              height: 100vh;\n            }\n          </style>\n          <style>\n          ${codeMap.get(\"css\") ?? \"\"}\n          </style>\n\n          <script>\n          window.console = window.console || function(t) {};\n          </script>\n\n          <script>\n          if (document.location.search.match(/type=embed/gi)) {\n              window.parent.postMessage(\"resize\", \"*\");\n          }\n          </script>\n\n      </head>\n\n      <body translate=\"no\">\n          ${codeMap.get(\"html\") ?? \"\"}\n          <script>\n          ${codeMap.get(\"javascript\") ?? \"\"}\n          </script>\n      </body>\n      </html>\n    `;\n  }, [codeMap]);\n\n  return (\n    <iframe\n      // height=\"100%\"\n      width=\"100%\"\n      srcDoc={srcDoc}\n      title=\"code preview\"\n      sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\"\n      allow=\"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\"\n      scrolling=\"auto\"\n      allowTransparency\n      //   allowpaymentrequest=\"true\"\n      allowFullScreen\n      className={classNames(style[\"iframe\"], props.className) }\n      loading=\"lazy\"\n      frameBorder=\"none\"\n    ></iframe>\n  );\n};\n\nexport default memo(Preview);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-editor\":\"style_code-editor__Yc3lP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vwood-resizer\":\"style_vwood-resizer__uV7xv\",\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"vwood-resizer-vertical\":\"style_vwood-resizer-vertical__Y6Ddg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[713],{\n\n/***/ 94079:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ tiny_code_Editor; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Box/style.module.scss\nvar style_module = __webpack_require__(2620);\nvar style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(94184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Box/index.tsx\n\n\n\n\nconst Box = (props)=>{\n    const { title , extra , children  } = props;\n    var _style;\n    return /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n        className: classnames_default()((style_module_default()).box, props.className),\n        style: (_style = props.style) !== null && _style !== void 0 ? _style : {},\n        children: [\n            /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n                className: (style_module_default())[\"box-header\"],\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-left\"],\n                        children: title\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-right\"],\n                        children: extra\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                className: (style_module_default())[\"box-body\"],\n                children: children\n            })\n        ]\n    });\n};\n/* harmony default export */ var components_Box = (/*#__PURE__*/(0,react.memo)(Box));\n\n// EXTERNAL MODULE: ./node_modules/codemirror/dist/index.js + 3 modules\nvar dist = __webpack_require__(43070);\n// EXTERNAL MODULE: ./node_modules/@codemirror/view/dist/index.js\nvar view_dist = __webpack_require__(47421);\n// EXTERNAL MODULE: ./node_modules/@codemirror/lang-javascript/dist/index.js + 1 modules\nvar lang_javascript_dist = __webpack_require__(58037);\n// EXTERNAL MODULE: ./node_modules/@codemirror/lang-css/dist/index.js + 1 modules\nvar lang_css_dist = __webpack_require__(61426);\n// EXTERNAL MODULE: ./node_modules/@codemirror/lang-html/dist/index.js + 1 modules\nvar lang_html_dist = __webpack_require__(13804);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeEditor/style.module.scss\nvar CodeEditor_style_module = __webpack_require__(37761);\nvar CodeEditor_style_module_default = /*#__PURE__*/__webpack_require__.n(CodeEditor_style_module);\n// EXTERNAL MODULE: ./node_modules/@codemirror/state/dist/index.js\nvar state_dist = __webpack_require__(78120);\n// EXTERNAL MODULE: ./node_modules/@codemirror/theme-one-dark/dist/index.js\nvar theme_one_dark_dist = __webpack_require__(23732);\n// EXTERNAL MODULE: ./node_modules/@codemirror/commands/dist/index.js\nvar commands_dist = __webpack_require__(45383);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeEditor/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nconst editorTheme = new state_dist/* Compartment */.F6();\nconst darkTheme = editorTheme.of(theme_one_dark_dist/* oneDark */.vk);\n// react-codemirror 地址\n// https://github.com/uiwjs/react-codemirror/blob/master/core/src/useCodeMirror.ts\nconst LangMap = {\n    javascript: lang_javascript_dist/* javascript */.eJ,\n    css: lang_css_dist/* css */.iv,\n    html: lang_html_dist/* html */.dy\n};\nconst CodeEditor = (props)=>{\n    const codeRef = (0,react.useRef)();\n    const handleChange = (0,react.useCallback)((vu)=>{\n        if (vu.docChanged && typeof props.onChange === \"function\") {\n            const doc = vu.state.doc;\n            const value = doc.toString();\n            props.onChange(value);\n        }\n    }, []);\n    (0,react.useEffect)(()=>{\n        const lang = LangMap[props.lang || \"html\"];\n        const extensions = [\n            dist/* basicSetup */.Xy,\n            lang(),\n            darkTheme,\n            (0,commands_dist/* history */.m8)(),\n            (0,view_dist/* drawSelection */.Uw)(),\n            (0,view_dist/* lineNumbers */.Eu)(),\n            view_dist/* keymap.of */.$f.of([\n                ...commands_dist/* defaultKeymap */.wQ,\n                ...commands_dist/* historyKeymap */.f$,\n                {\n                    key: \"Mod-s\",\n                    mac: \"Mod-s\",\n                    run: ()=>{\n                        var // 出发保存行为\n                        ref;\n                        (ref = props.onChange) === null || ref === void 0 ? void 0 : ref.call(props, editor.state.doc.toString());\n                    }\n                }\n            ]),\n            view_dist/* EditorView.updateListener.of */.tk.updateListener.of(handleChange)\n        ];\n        if (props.readonly) {\n            extensions.push(state_dist/* EditorState.readOnly.of */.yy.readOnly.of(true));\n        }\n        const editor = new view_dist/* EditorView */.tk({\n            doc: props.value,\n            extensions: extensions,\n            parent: codeRef.current\n        });\n        return ()=>{\n            var ref;\n            (ref = props.onChange) === null || ref === void 0 ? void 0 : ref.call(props, editor.state.doc.toString());\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        ref: codeRef,\n        className: (CodeEditor_style_module_default())[\"code-editor\"]\n    });\n};\n/* harmony default export */ var components_CodeEditor = (/*#__PURE__*/(0,react.memo)(CodeEditor));\n\n// EXTERNAL MODULE: ./node_modules/let-hooks/es/index.js + 59 modules\nvar es = __webpack_require__(82327);\n// EXTERNAL MODULE: ./node_modules/react-resizable/css/styles.css\nvar styles = __webpack_require__(28725);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Resizer/style.module.scss\nvar Resizer_style_module = __webpack_require__(23337);\nvar Resizer_style_module_default = /*#__PURE__*/__webpack_require__.n(Resizer_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Resizer.tsx\n\n\n\n\n\n\nconst Resizer = (props)=>{\n    const items = react.Children.toArray(props.children);\n    const avgValue = 1 / items.length;\n    const isVertical = props.type === \"vertical\";\n    const _ref = (0,react.useRef)(null);\n    const [load, setLoad] = (0,react.useState)(false);\n    const [resizing, setEesizing] = (0,react.useState)(false);\n    // value 根据type来确定，默认为宽度,type=vertical时为高度\n    const [valueMap, setValueMap] = (0,react.useState)([]);\n    const getParentValue = ()=>isVertical ? _ref.current.clientHeight : _ref.current.clientWidth;\n    // 计算初始宽度\n    const calcWidth = ()=>{\n        const parentValue = getParentValue();\n        items.map((_, index)=>{\n            const value = index !== items.length - 1 ? avgValue * parentValue : (1 - avgValue * (items.length - 1)) * parentValue;\n            valueMap[index] = {\n                width: isVertical ? _ref.current.clientWidth : value,\n                height: isVertical ? value : _ref.current.clientHeight\n            };\n        });\n        setValueMap([\n            ...valueMap\n        ]);\n    };\n    const onResize = (0,es/* useDebounceFn */.DI)(()=>{\n        // 窗口改变的时候修改最后一个元素的高度和宽度\n        const newValueMap = valueMap.map((item)=>{\n            if (isVertical) {\n                item.width = _ref.current.clientWidth;\n            } else {\n                item.height = _ref.current.clientHeight;\n            }\n            return item;\n        });\n        setValueMap([\n            ...newValueMap\n        ]);\n    }, 100);\n    (0,es/* useMount */.b6)(()=>{\n        setLoad(true);\n        calcWidth();\n    });\n    (0,react.useEffect)(()=>{\n        let observer = new ResizeObserver(onResize.run);\n        observer.observe(_ref.current);\n        return ()=>{\n            observer.unobserve(_ref.current);\n        };\n    }, []);\n    const handleResize = (index)=>(e, data)=>{\n            const attr = isVertical ? \"height\" : \"width\";\n            // 确定index所对应的元素大小应该增大还是减少，减少就压缩左右的元素，增大就压缩右边的元素\n            const isGT = data.size[attr] - valueMap[index][attr];\n            valueMap[index] = data.size;\n            // 确定应该减少宽度的index\n            let needIncIndex = 0;\n            if (items.length > 1) {\n                if (isGT) {\n                    needIncIndex = index + 1;\n                } else {\n                    // 减少左边的宽度\n                    if (index - 1 >= 0) {\n                        needIncIndex = index - 1;\n                    } else if (index + 1 <= items.length - 1) {\n                        needIncIndex = index + 1;\n                    }\n                }\n                // 计算needIncIndex元素的大小\n                const usedValue = valueMap.reduce((prev, cur, index)=>{\n                    if (needIncIndex !== index) {\n                        return prev + cur[attr];\n                    }\n                    return prev;\n                }, 0);\n                const parentValue = getParentValue();\n                valueMap[needIncIndex] = {\n                    ...valueMap[needIncIndex],\n                    [attr]: parentValue - usedValue\n                };\n            }\n            setValueMap([\n                ...valueMap\n            ]);\n        };\n    const onResizeStart = ()=>{\n        setEesizing(true);\n    };\n    const onResizeStop = ()=>{\n        setEesizing(false);\n    };\n    const realItems = (0,react.useMemo)(()=>{\n        return items.map((ele, index)=>{\n            const value = valueMap[index];\n            return /*#__PURE__*/ react.cloneElement(ele, {\n                index,\n                value: value,\n                onResize: handleResize(index),\n                isFirst: index === 0,\n                isLast: index === items.length - 1,\n                type: props.type,\n                resizing,\n                onResizeStart,\n                onResizeStop\n            });\n        });\n    }, [\n        items,\n        valueMap,\n        load,\n        resizing\n    ]);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: classnames_default()((Resizer_style_module_default())[\"vwood-resizer\"], {\n            [(Resizer_style_module_default())[\"vwood-resizer-vertical\"]]: isVertical\n        }),\n        ref: _ref,\n        children: load ? realItems : null\n    });\n};\n/* harmony default export */ var Resizer_Resizer = (/*#__PURE__*/(0,react.memo)(Resizer));\n\n// EXTERNAL MODULE: ./node_modules/react-resizable/index.js\nvar react_resizable = __webpack_require__(1706);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Item.tsx\n\n\n\n\n\nconst ResizerItem = (props)=>{\n    const { onResize , value , children , isLast  } = props;\n    const isVertical = props.type === \"vertical\";\n    const style = (0,react.useMemo)(()=>{\n        return {\n            width: \"\".concat(value.width, \"px\"),\n            height: \"\".concat(value.height, \"px\"),\n            pointerEvents: props.resizing ? \"none\" : undefined,\n            userSelect: props.resizing ? \"none\" : undefined\n        };\n    }, [\n        value.height,\n        value.width,\n        isVertical,\n        props.resizing\n    ]);\n    const render = ()=>{\n        return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: (Resizer_style_module_default())[\"editor-resizer-item\"],\n            style: style,\n            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                style: {\n                    flex: 1,\n                    display: \"flex\",\n                    overflow: \"hidden\"\n                },\n                className: (Resizer_style_module_default())[\"editor-resizer-item-content\"],\n                children: children\n            })\n        });\n    };\n    if (isLast) {\n        return render();\n    }\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(react_resizable.Resizable, {\n        width: value.width,\n        height: value.height,\n        axis: isVertical ? \"y\" : \"x\",\n        onResizeStart: props.onResizeStart,\n        onResizeStop: props.onResizeStop,\n        handle: isLast ? null : /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: isVertical ? \"react-resizable-handle-vertical\" : \"react-resizable-handle\",\n            onClick: (e)=>{\n                e.stopPropagation();\n            }\n        }),\n        onResize: onResize,\n        draggableOpts: {\n            enableUserSelectHack: true,\n            allowAnyClick: true\n        },\n        children: render()\n    });\n};\n/* harmony default export */ var Item = (ResizerItem);\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/index.tsx\n\n\n/* harmony default export */ var components_Resizer = (Object.assign(Resizer_Resizer, {\n    Item: Item\n}));\n\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss\nvar CodeBoxs_style_module = __webpack_require__(21779);\nvar CodeBoxs_style_module_default = /*#__PURE__*/__webpack_require__.n(CodeBoxs_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/index.tsx\n\n\n\n\n\n\nconst CodeBoxs = (props)=>{\n    const codeDivRef = (0,react.useRef)();\n    const [loaded, setLoaded] = (0,react.useState)(false);\n    const [codeDivRect, setCodeDivRect] = (0,react.useState)({\n        width: 0,\n        height: 0\n    });\n    //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n    const windowResize = (e)=>{\n        codeDivRef.current && setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"resize\", windowResize);\n        setLoaded(true);\n        return ()=>{\n            document.removeEventListener(\"resize\", windowResize);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (CodeBoxs_style_module_default())[\"code-div\"],\n        ref: codeDivRef,\n        children: loaded ? /*#__PURE__*/ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            title: \"HTML\",\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeEditor, {\n                                lang: \"html\",\n                                value: props.value.get(\"html\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"html\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            title: \"CSS\",\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeEditor, {\n                                lang: \"css\",\n                                value: props.value.get(\"css\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"css\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            title: \"JS\",\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeEditor, {\n                                lang: \"javascript\",\n                                value: props.value.get(\"javascript\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"javascript\", value);\n                                }\n                            })\n                        })\n                    })\n                ]\n            })\n        }) : null\n    });\n};\n/* harmony default export */ var components_CodeBoxs = (/*#__PURE__*/(0,react.memo)(CodeBoxs));\n\n// EXTERNAL MODULE: ./pages/tiny-code/components/Previewer/index.tsx\nvar Previewer = __webpack_require__(35825);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/style.module.scss\nvar Editor_style_module = __webpack_require__(63602);\nvar Editor_style_module_default = /*#__PURE__*/__webpack_require__.n(Editor_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/index.jsx\n\n\n\n\n\n\nconst keydown = function(e) {\n    if (e.keyCode == 83 && (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\n        e.preventDefault();\n    // 阻止浏览器的默认保存行为\n    }\n};\nconst Editor = (props)=>{\n    var ref, ref1, ref2, ref3, ref4, ref5;\n    const useCacheData =  true && props.cachaValue;\n    const initValue = [\n        [\n            \"javascript\",\n            useCacheData ? localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.getItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_javascript\")) : (ref1 = props.data) === null || ref1 === void 0 ? void 0 : ref1.javascript\n        ],\n        [\n            \"css\",\n            useCacheData ? localStorage === null || localStorage === void 0 ? void 0 : (ref2 = localStorage.getItem) === null || ref2 === void 0 ? void 0 : ref2.call(localStorage, \"\".concat(location.pathname, \"_css\")) : (ref3 = props.data) === null || ref3 === void 0 ? void 0 : ref3.css\n        ],\n        [\n            \"html\",\n            useCacheData ? localStorage === null || localStorage === void 0 ? void 0 : (ref4 = localStorage.getItem) === null || ref4 === void 0 ? void 0 : ref4.call(localStorage, \"\".concat(location.pathname, \"_html\")) : (ref5 = props.data) === null || ref5 === void 0 ? void 0 : ref5.html\n        ]\n    ];\n    const [codeValue, setCodeValue] = (0,react.useState)(new Map(initValue));\n    const onCodeChange = (lang, value)=>{\n        codeValue.set(lang, value);\n        setCodeValue(new Map(codeValue));\n        if (useCacheData) {\n            var ref;\n            localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.setItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_\").concat(lang), value);\n        }\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"keydown\", keydown);\n        return ()=>{\n            document.removeEventListener(\"keydown\", keydown);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (Editor_style_module_default()).editor,\n        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: (Editor_style_module_default())[\"iframe-div\"],\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                type: \"vertical\",\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeBoxs, {\n                            value: codeValue,\n                            onChange: onCodeChange\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(Previewer/* default */.Z, {\n                            className: (Editor_style_module_default())[\"preview-iframe\"],\n                            codeMap: codeValue\n                        })\n                    })\n                ]\n            })\n        })\n    });\n};\n/* harmony default export */ var tiny_code_Editor = (/*#__PURE__*/(0,react.memo)(Editor));\n\n\n/***/ }),\n\n/***/ 35825:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85893);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);\n/* harmony import */ var _style_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16856);\n/* harmony import */ var _style_module_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_module_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94184);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst Preview = (props)=>{\n    var _codeMap;\n    const codeMap = (_codeMap = props.codeMap) !== null && _codeMap !== void 0 ? _codeMap : new Map();\n    const srcDoc = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var ref, ref1, ref2;\n        return '\\n      <html lang=\"en\">\\n      <head>\\n          <meta charset=\"UTF-8\">\\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\\n          <title>code preview</title>\\n          <style>\\n            * {\\n              margin: 0;\\n              padding: 0;\\n            }\\n            body {\\n              width: 100vw;\\n              height: 100vh;\\n            }\\n          </style>\\n          <style>\\n          '.concat((ref = codeMap.get(\"css\")) !== null && ref !== void 0 ? ref : \"\", '\\n          </style>\\n\\n          <script>\\n          window.console = window.console || function(t) {};\\n          </script>\\n\\n          <script>\\n          if (document.location.search.match(/type=embed/gi)) {\\n              window.parent.postMessage(\"resize\", \"*\");\\n          }\\n          </script>\\n\\n      </head>\\n\\n      <body translate=\"no\">\\n          ').concat((ref1 = codeMap.get(\"html\")) !== null && ref1 !== void 0 ? ref1 : \"\", \"\\n          <script>\\n          \").concat((ref2 = codeMap.get(\"javascript\")) !== null && ref2 !== void 0 ? ref2 : \"\", \"\\n          </script>\\n      </body>\\n      </html>\\n    \");\n    }, [\n        codeMap\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"iframe\", {\n        // height=\"100%\"\n        width: \"100%\",\n        srcDoc: srcDoc,\n        title: \"code preview\",\n        sandbox: \"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\",\n        allow: \"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\",\n        scrolling: \"auto\",\n        allowTransparency: true,\n        //   allowpaymentrequest=\"true\"\n        allowFullScreen: true,\n        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_style_module_scss__WEBPACK_IMPORTED_MODULE_3___default().iframe), props.className),\n        loading: \"lazy\",\n        frameBorder: \"none\"\n    });\n};\n/* harmony default export */ __webpack_exports__[\"Z\"] = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(Preview));\n\n\n/***/ }),\n\n/***/ 2620:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};\n\n/***/ }),\n\n/***/ 21779:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};\n\n/***/ }),\n\n/***/ 37761:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-editor\":\"style_code-editor__Yc3lP\"};\n\n/***/ }),\n\n/***/ 23337:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"vwood-resizer\":\"style_vwood-resizer__uV7xv\",\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"vwood-resizer-vertical\":\"style_vwood-resizer-vertical__Y6Ddg\"};\n\n/***/ }),\n\n/***/ 63602:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};\n\n/***/ }),\n\n/***/ 16856:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};\n\n/***/ })\n\n}]);"],"names":["self","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","tiny_code_Editor","jsx_runtime","react","style_module","style_module_default","n","classnames","classnames_default","Box","_style","title","extra","children","props","jsxs","className","box","style","jsx","components_Box","memo","dist","view_dist","lang_javascript_dist","lang_css_dist","lang_html_dist","CodeEditor_style_module","CodeEditor_style_module_default","state_dist","theme_one_dark_dist","commands_dist","editorTheme","F6","darkTheme","of","vk","LangMap","javascript","eJ","css","iv","html","dy","CodeEditor","codeRef","useRef","handleChange","useCallback","vu","docChanged","onChange","doc","state","value","toString","useEffect","lang","extensions","Xy","m8","Uw","Eu","$f","wQ","f$","key","mac","ref","call","editor","tk","updateListener","readonly","yy","readOnly","parent","current","components_CodeEditor","es","Resizer_style_module","Resizer_style_module_default","Resizer","items","Children","toArray","avgValue","length","isVertical","type","_ref","load","setLoad","useState","resizing","setEesizing","valueMap","setValueMap","getParentValue","clientHeight","clientWidth","calcWidth","parentValue","map","_","index","width","height","onResize","DI","newValueMap","item","b6","observer","ResizeObserver","run","observe","unobserve","handleResize","e","data","attr","isGT","size","needIncIndex","usedValue","reduce","prev","cur","onResizeStart","onResizeStop","realItems","useMemo","ele","cloneElement","isFirst","isLast","Resizer_Resizer","react_resizable","ResizerItem","concat","pointerEvents","undefined","userSelect","render","flex","display","overflow","Resizable","axis","handle","stopPropagation","draggableOpts","enableUserSelectHack","allowAnyClick","components_Resizer","Object","assign","Item","CodeBoxs_style_module","CodeBoxs_style_module_default","CodeBoxs","codeDivRef","loaded","setLoaded","codeDivRect","setCodeDivRect","windowResize","getBoundingClientRect","document","addEventListener","removeEventListener","Fragment","get","components_CodeBoxs","Previewer","Editor_style_module","Editor_style_module_default","keydown","keyCode","navigator","platform","match","metaKey","ctrlKey","preventDefault","Editor","ref1","ref2","ref3","ref4","ref5","useCacheData","cachaValue","initValue","localStorage","getItem","location","pathname","codeValue","setCodeValue","Map","onCodeChange","set","setItem","Z","codeMap","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_style_module_scss__WEBPACK_IMPORTED_MODULE_3__","_style_module_scss__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","Preview","_codeMap","srcDoc","sandbox","allow","scrolling","allowTransparency","allowFullScreen","iframe","loading","frameBorder","module","exports"],"sourceRoot":""}