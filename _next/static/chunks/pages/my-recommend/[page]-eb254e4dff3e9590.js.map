{"version":3,"file":"static/chunks/pages/my-recommend/[page]-eb254e4dff3e9590.js","mappings":"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","sources":["webpack://_N_E/?7601","webpack://_N_E/./components/MyPagination/index.tsx","webpack://_N_E/./pages/my-recommend/[page]/index.page.jsx","webpack://_N_E/./pages/my-recommend/[page]/style.module.scss","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/my-recommend/[page]\",\n      function () {\n        return require(\"private-next-pages/my-recommend/[page]/index.page.jsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/my-recommend/[page]\"])\n      });\n    }\n  ","import { Button, Pagination, PaginationProps } from \"antd\";\nimport Link from \"next/link\";\nimport { ReactNode } from \"react\";\n\ninterface Props extends PaginationProps {\n  pathPrefix: string;\n}\n\nconst MyPagination = (props: Props) => {\n  const itemRender = (page: number, type: string, originalElemen: ReactNode) => {\n    const href = `/${props.pathPrefix}/${page}`\n    if (type === \"page\") {\n      // 在翻页按钮上添加<a>便于nextjs导出静态页面\n      return (\n        <Link href={href} passHref rel={href}>\n          {page}\n        </Link>\n      );\n    }\n    if (type === \"prev\") {\n      return (\n        <Button>\n          <Link href={href} passHref rel={href}>\n            上一页\n          </Link>\n        </Button>\n      );\n    }\n    if (type === \"next\") {\n      return (\n        <Button>\n          <Link href={href} passHref rel={href}>\n            下一页\n          </Link>\n        </Button>\n      );\n    }\n    return originalElemen;\n  };\n  return (\n    <Pagination\n      {...props}\n      itemRender={itemRender}\n    />\n  );\n};\n\nexport default MyPagination;\n","import React, { createRef } from \"react\";\nimport { FormatListBlog } from \"~/domain/blog\";\nimport { Request } from \"~/http/request\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _debouce from \"lodash/debounce\";\nimport Style from \"./style.module.scss\";\n\nimport qs from \"qs\";\nimport { withRouter } from \"next/router\";\nimport MyPagination from \"~/components/MyPagination\";\nimport Link from \"next/link\";\n\nconst PAGE_SIZE = 10;\n\nclass MyRecommends extends React.Component {\n  contentRef = createRef();\n  listRef = createRef();\n\n  constructor(props) {\n    super(props);\n    const {\n      router,\n      router: { asPath },\n    } = props;\n    const queryObj = qs.parse(asPath.split(\"?\")[1]);\n    this.state = {\n      pageSize: this.props.pageSize || 10,\n      pageNo: this.props.pageNo || 0,\n      loading: false,\n      current: queryObj.current ? Number(queryObj.current) : 1,\n    };\n  }\n  render() {\n    const { blogs = [], total, current, pageSize } = this.props;\n    const totalPage = Math.ceil(total / pageSize);\n\n    return (\n      <div className={Style.blog}>\n        <div className={Style[\"blog-content\"]} ref={this.contentRef}>\n          {blogs.map((blog) => (\n            <div key={blog.id} className={Style.item}>\n              <Link\n                href={blog.url ? blog.url : `/blog/${blog.id}`}\n                passHref\n                title={blog.name}\n                rel=\"bookmark\"\n                target={blog.url ? \"_blank\" : undefined}\n              >\n                {blog.name}\n              </Link>\n            </div>\n          ))}\n          {totalPage > 1 ? (\n            <div className={Style[\"pagination\"]}>\n              <MyPagination\n                showQuickJumper={false}\n                showSizeChanger={false}\n                current={+current}\n                total={total}\n                pathPrefix=\"my-recommend\"\n              />\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport async function getStaticProps(context) {\n  const { params: { page = 1 } = {} } = context;\n  // 所有文章\n  const pageNo = Math.max(+page, 0);\n  const res = await Request.getArticleRecommendList({\n    pageNo: pageNo,\n    pageSize: PAGE_SIZE,\n  });\n\n  const blogs = res.data.data.map((dt) => FormatListBlog(dt));\n\n  return {\n    props: {\n      current: +page,\n      blogs,\n      total: res.data.count,\n      pageSize: PAGE_SIZE,\n    },\n  };\n}\n\nexport async function getStaticPaths() {\n  const res = await Request.getArticleRecommendList({\n    pageNo: 0,\n    pageSize: 9999,\n  });\n\n  const count = res.data.count;\n  const pageCount = Math.ceil(count / PAGE_SIZE);\n  const paths = new Array(pageCount).fill(1).map((_, index) => {\n    return {\n      params: { page: `${index + 1}` },\n    };\n  });\n\n  return {\n    paths: paths,\n    fallback: \"blocking\", // false or 'blocking'\n  };\n}\n\nexport default withRouter(MyRecommends);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blog\":\"style_blog__FxTsF\",\"blog-content\":\"style_blog-content___vt55\",\"item\":\"style_item__GFCSV\",\"blog-sidebar\":\"style_blog-sidebar__HUTdv\",\"pagination\":\"style_pagination__BUQ2y\"};","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[517],{\n\n/***/ 34777:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/my-recommend/[page]\",\n      function () {\n        return __webpack_require__(55407);\n      }\n    ]);\n    if(false) {}\n  \n\n/***/ }),\n\n/***/ 6809:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85893);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11889);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3698);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41664);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nconst MyPagination = (props)=>{\n    const itemRender = (page, type, originalElemen)=>{\n        const href = \"/\".concat(props.pathPrefix, \"/\").concat(page);\n        if (type === \"page\") {\n            // 在翻页按钮上添加<a>便于nextjs导出静态页面\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                href: href,\n                passHref: true,\n                rel: href,\n                children: page\n            });\n        }\n        if (type === \"prev\") {\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z, {\n                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                    href: href,\n                    passHref: true,\n                    rel: href,\n                    children: \"上一页\"\n                })\n            });\n        }\n        if (type === \"next\") {\n            return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_2__/* [\"default\"] */ .Z, {\n                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n                    href: href,\n                    passHref: true,\n                    rel: href,\n                    children: \"下一页\"\n                })\n            });\n        }\n        return originalElemen;\n    };\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_3__/* [\"default\"] */ .Z, {\n        ...props,\n        itemRender: itemRender\n    });\n};\n/* harmony default export */ __webpack_exports__[\"Z\"] = (MyPagination);\n\n\n/***/ }),\n\n/***/ 55407:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__N_SSG\": function() { return /* binding */ __N_SSG; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(14924);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85893);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);\n/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(45578);\n/* harmony import */ var lodash_uniqBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqBy__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23279);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _style_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(66280);\n/* harmony import */ var _style_module_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_style_module_scss__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80129);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11163);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _components_MyPagination__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6809);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41664);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n\n\nclass MyRecommends extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    render() {\n        const { blogs =[] , total , current , pageSize  } = this.props;\n        const totalPage = Math.ceil(total / pageSize);\n        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: (_style_module_scss__WEBPACK_IMPORTED_MODULE_8___default().blog),\n            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: (_style_module_scss__WEBPACK_IMPORTED_MODULE_8___default()[\"blog-content\"]),\n                ref: this.contentRef,\n                children: [\n                    blogs.map((blog)=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: (_style_module_scss__WEBPACK_IMPORTED_MODULE_8___default().item),\n                            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                href: blog.url ? blog.url : \"/blog/\".concat(blog.id),\n                                passHref: true,\n                                title: blog.name,\n                                rel: \"bookmark\",\n                                target: blog.url ? \"_blank\" : undefined,\n                                children: blog.name\n                            })\n                        }, blog.id)),\n                    totalPage > 1 ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: (_style_module_scss__WEBPACK_IMPORTED_MODULE_8___default().pagination),\n                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_MyPagination__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z, {\n                            showQuickJumper: false,\n                            showSizeChanger: false,\n                            current: +current,\n                            total: total,\n                            pathPrefix: \"my-recommend\"\n                        })\n                    }) : null\n                ]\n            })\n        });\n    }\n    constructor(props){\n        super(props);\n        (0,_swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_9__/* [\"default\"] */ .Z)(this, \"contentRef\", /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)());\n        (0,_swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_9__/* [\"default\"] */ .Z)(this, \"listRef\", /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)());\n        const { router , router: { asPath  }  } = props;\n        const queryObj = qs__WEBPACK_IMPORTED_MODULE_4___default().parse(asPath.split(\"?\")[1]);\n        this.state = {\n            pageSize: this.props.pageSize || 10,\n            pageNo: this.props.pageNo || 0,\n            loading: false,\n            current: queryObj.current ? Number(queryObj.current) : 1\n        };\n    }\n}\nvar __N_SSG = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,next_router__WEBPACK_IMPORTED_MODULE_5__.withRouter)(MyRecommends));\n\n\n/***/ }),\n\n/***/ 66280:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"blog\":\"style_blog__FxTsF\",\"blog-content\":\"style_blog-content___vt55\",\"item\":\"style_item__GFCSV\",\"blog-sidebar\":\"style_blog-sidebar__HUTdv\",\"pagination\":\"style_pagination__BUQ2y\"};\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [889,819,495,774,888,179], function() { return __webpack_exec__(34777); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ _N_E = __webpack_exports__;\n/******/ }\n]);"],"names":["self","push","__unused_webpack_module","__unused_webpack_exports","__webpack_require__","window","__NEXT_P","__webpack_exports__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","antd__WEBPACK_IMPORTED_MODULE_2__","antd__WEBPACK_IMPORTED_MODULE_3__","next_link__WEBPACK_IMPORTED_MODULE_1__","next_link__WEBPACK_IMPORTED_MODULE_1___default","n","MyPagination","itemRender","page","type","originalElemen","href","concat","props","pathPrefix","jsx","passHref","rel","children","Z","r","d","__N_SSG","_swc_helpers_src_define_property_mjs__WEBPACK_IMPORTED_MODULE_9__","react__WEBPACK_IMPORTED_MODULE_1__","_style_module_scss__WEBPACK_IMPORTED_MODULE_8__","_style_module_scss__WEBPACK_IMPORTED_MODULE_8___default","qs__WEBPACK_IMPORTED_MODULE_4__","qs__WEBPACK_IMPORTED_MODULE_4___default","next_router__WEBPACK_IMPORTED_MODULE_5__","_components_MyPagination__WEBPACK_IMPORTED_MODULE_6__","next_link__WEBPACK_IMPORTED_MODULE_7__","next_link__WEBPACK_IMPORTED_MODULE_7___default","MyRecommends","Component","render","blogs","total","current","pageSize","className","blog","jsxs","ref","contentRef","map","item","url","id","title","name","target","undefined","totalPage","ceil","pagination","showQuickJumper","showSizeChanger","constructor","createRef","router","asPath","queryObj","parse","split","state","pageNo","loading","Number","withRouter","module","exports","O","s","_N_E"],"sourceRoot":""}