(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{66780:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/code-editor",function(){return n(77062)}])},56726:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var l=n(85893),o=n(67294),r=n(63474),s=n.n(r);n(28725);let i=e=>{var t;let{title:n,extra:o,children:r}=e;return(0,l.jsxs)("div",{className:s().box,style:null!==(t=e.style)&&void 0!==t?t:{},children:[(0,l.jsxs)("div",{className:s()["box-header"],children:[(0,l.jsx)("div",{className:s()["box-header-left"],children:n}),(0,l.jsx)("div",{className:s()["box-header-right"],children:o})]}),(0,l.jsx)("div",{className:s()["box-body"],children:r})]})};var a=(0,o.memo)(i),c=n(47421),d=n(43070),u=n(58037),m=n(61426),h=n(13804),v=n(13242),p=n.n(v),_=n(78120),x=n(23732),f=n(45383);let w=new _.F6,g=e=>{let t=(0,o.useRef)();return(0,o.useEffect)(()=>{let n={js:u.eJ,css:m.iv,html:h.dy}[e.lang||"html"],l=new c.tk({doc:void 0,extensions:[d.Xy,n(),w.of(x.vk),(0,f.m8)(),(0,c.Uw)(),(0,c.Eu)(),c.$f.of([...f.wQ,...f.f$,{key:"Mod-s",mac:"Mod-s",run(){var t;null===(t=e.onChange)||void 0===t||t.call(e,l.state.doc.toString())}}])],parent:t.current});return()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,l.state.doc.toString())}},[]),(0,l.jsx)("div",{ref:t,className:p()["code-editor"]})};var y=(0,o.memo)(g);let b=e=>{let t=o.Children.toArray(e.children),n=1/t.length,[r,s]=(0,o.useState)(t.map((e,l)=>l!==t.length-1?1-n*(t.length-1):n)),i=t.map((e,t)=>{let n=r[t];return o.cloneElement(e,{index:t,value:null!=n?n:""})});return(0,l.jsx)(l.Fragment,{children:i})};var j=(0,o.memo)(b),N=n(82354),C=n.n(N);let M=e=>{let t=(0,o.useRef)(),[n,r]=(0,o.useState)(),[s,i]=(0,o.useState)(),a=e=>{r(!0),i({x:e.clientX,y:e.clientY})},c=()=>{i(null),r(!1)},d=()=>{i(null),r(!1)},u=e=>{if(!n||!s)return;console.log(e);let t={x:e.clientX-s.x,y:e.clientY-s.y};console.log(t)},m=o.cloneElement(e.children,{...e.children.props,style:{width:"".concat(100*(e.value||0),"%")}});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:C()["editor-resizer-item"],ref:t,onMouseMove:u,onClick:a,onMouseUp:c,onMouseLeave:d}),m]})};var E=Object.assign(j,{Item:(0,o.memo)(M)}),k=n(96985),S=n.n(k);let z=e=>{let t=(0,o.useRef)(),[n,r]=(0,o.useState)(!1),[s,i]=(0,o.useState)({width:0,height:0}),c=e=>{t.current&&i(t.current.getBoundingClientRect())};return(0,o.useEffect)(()=>(document.addEventListener("resize",c),r(!0),()=>{document.removeEventListener("resize",c)}),[]),(0,l.jsx)("div",{className:S()["code-div"],ref:t,children:n?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(E,{children:[(0,l.jsx)(E.Item,{children:(0,l.jsx)(a,{title:"HTML",children:(0,l.jsx)(y,{lang:"html",onChange(t){e.onChange("html",t)}})})}),(0,l.jsx)(E.Item,{children:(0,l.jsx)(a,{title:"CSS",children:(0,l.jsx)(y,{lang:"css",onChange(t){e.onChange("css",t)}})})}),(0,l.jsx)(E.Item,{children:(0,l.jsx)(a,{title:"JS",children:(0,l.jsx)(y,{lang:"js",onChange(t){e.onChange("js",t)}})})})]})}):null})};var F=(0,o.memo)(z);let L=e=>{var t;console.log(e.codeMap);let n=null!==(t=e.codeMap)&&void 0!==t?t:new Map,r=(0,o.useMemo)(()=>{var e,t,l;return'\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="apple-mobile-web-app-title" content="code preview">\n    <title>code preview</title>\n    <style>\n    '.concat(null!==(e=n.get("css"))&&void 0!==e?e:"",'\n    </style>\n\n    <script>\n    window.console = window.console || function(t) {};\n    </script>\n\n    <script>\n    if (document.location.search.match(/type=embed/gi)) {\n        window.parent.postMessage("resize", "*");\n    }\n    </script>\n\n</head>\n\n<body translate="no">\n    ').concat(null!==(t=n.get("html"))&&void 0!==t?t:"","\n    <script>\n    ").concat(null!==(l=n.get("js"))&&void 0!==l?l:"","\n    </script>\n</body>\n</html>\n    ")},[n]);return(0,l.jsx)("iframe",{height:"100%",width:"100%",srcDoc:r,title:"code preview",sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation",allow:"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share",scrolling:"auto",allowTransparency:!0,allowFullScreen:!0,className:e.className,loading:"lazy"})};var T=(0,o.memo)(L),I=n(68685),Q=n.n(I);let U=function(e){83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()},X=e=>{let[t,n]=(0,o.useState)(e.value||new Map),r=(e,l)=>{t.set(e,l),n(new Map(t))};return(0,o.useEffect)(()=>(document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}),[]),(0,l.jsx)("div",{className:Q().editor,children:(0,l.jsxs)("div",{className:Q()["iframe-div"],children:[(0,l.jsx)(F,{value:t,onChange:r}),(0,l.jsx)(T,{className:Q()["preview-iframe"],codeMap:t})]})})};var R=(0,o.memo)(X)},77062:function(e,t,n){"use strict";n.r(t);var l=n(56726);t.default=l.Z},63474:function(e){e.exports={"resizable-handle":"style_resizable-handle__H1UWI",box:"style_box__fP9UM","box-header":"style_box-header__FQJMw","box-header-right":"style_box-header-right__lCpoW","box-body":"style_box-body__3_uv7"}},96985:function(e){e.exports={"code-div":"style_code-div__FQ3c9"}},13242:function(e){e.exports={"code-editor":"style_code-editor___apCq"}},82354:function(e){e.exports={"editor-resizer-item":"style_editor-resizer-item__GuW5x","editor-resizer-item-h":"style_editor-resizer-item-h___pQu5"}},68685:function(e){e.exports={editor:"style_editor___pxyy","code-div":"style_code-div__N_u_Q","iframe-div":"style_iframe-div__ZdLZ3","preview-iframe":"style_preview-iframe__T90mh"}}},function(e){e.O(0,[611,762,101,774,888,179],function(){return e(e.s=66780)}),_N_E=e.O()}]);