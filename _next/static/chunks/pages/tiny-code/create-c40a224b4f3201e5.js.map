{"version":3,"file":"static/chunks/pages/tiny-code/create-c40a224b4f3201e5.js","mappings":"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","sources":["webpack://_N_E/?ab45","webpack://_N_E/./pages/tiny-code/Editor/components/Box/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Resizer.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Item.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/index.jsx","webpack://_N_E/./pages/tiny-code/components/Previewer/index.tsx","webpack://_N_E/./pages/tiny-code/create/index.page.jsx","webpack://_N_E/./pages/tiny-code/Editor/components/Box/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/style.module.scss","webpack://_N_E/./pages/tiny-code/components/Previewer/style.module.scss","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/tiny-code/create\",\n      function () {\n        return require(\"private-next-pages/tiny-code/create/index.page.jsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/tiny-code/create\"])\n      });\n    }\n  ","import React, { FC, memo, useMemo, useState } from \"react\";\nimport { BoxProps } from \"./types\";\nimport style from \"./style.module.scss\";\nimport { Resizable, ResizeCallbackData } from \"react-resizable\";\nimport \"react-resizable/css/styles.css\";\n\nconst Box: FC<BoxProps> = (props): JSX.Element => {\n  const { title, extra, children } = props;\n\n  return (\n    <div className={style[\"box\"]} style={props.style ?? {}}>\n      <div className={style[\"box-header\"]}>\n        <div className={style[\"box-header-left\"]}>{title}</div>\n        <div className={style[\"box-header-right\"]}>{extra}</div>\n      </div>\n      <div className={style[\"box-body\"]}>{children}</div>\n    </div>\n  );\n};\n\nexport default memo(Box);\n","import React, { FC, memo, useCallback, useEffect, useRef } from \"react\";\nimport { CodeEditorProps } from \"./types\";\nimport { EditorView, basicSetup } from \"codemirror\";\nimport { javascript as langJS } from \"@codemirror/lang-javascript\";\nimport { css as langCSS } from \"@codemirror/lang-css\";\nimport { html as langHtml } from \"@codemirror/lang-html\";\nimport style from \"./style.module.scss\";\nimport { Compartment, EditorState } from \"@codemirror/state\";\nimport { oneDark } from \"@codemirror/theme-one-dark\";\nimport {\n  drawSelection,\n  keymap,\n  lineNumbers,\n  ViewUpdate,\n} from \"@codemirror/view\";\nimport { defaultKeymap, historyKeymap, history } from \"@codemirror/commands\";\n\nconst editorTheme = new Compartment();\nconst darkTheme = editorTheme.of(oneDark)\n// react-codemirror 地址\n// https://github.com/uiwjs/react-codemirror/blob/master/core/src/useCodeMirror.ts\n\n\nconst LangMap = {\n  javascript: langJS,\n  css: langCSS,\n  html: langHtml,\n}\n\nconst CodeEditor: FC<CodeEditorProps> = (props): JSX.Element => {\n  const codeRef = useRef<HTMLDivElement>();\n\n  const handleChange = useCallback((vu: ViewUpdate) => {\n    if (vu.docChanged && typeof props.onChange === \"function\") {\n      const doc = vu.state.doc;\n      const value = doc.toString();\n      props.onChange(value);\n    }\n  }, []);\n\n  useEffect(() => {\n\n    const lang = LangMap[props.lang || \"html\"]\n\n    const extensions = [\n      basicSetup,\n      lang(),\n      darkTheme,\n      history(),\n      drawSelection(),\n      lineNumbers(),\n      keymap.of([\n        ...defaultKeymap,\n        ...historyKeymap,\n        {\n          key: \"Mod-s\",\n          mac: \"Mod-s\",\n          run: () => {\n            // 出发保存行为\n            props.onChange?.(editor.state.doc.toString());\n          },\n        },\n      ] as any),\n      EditorView.updateListener.of(handleChange),\n    ];\n    if (props.readonly) {\n      extensions.push(EditorState.readOnly.of(true));\n    }\n\n    const editor = new EditorView({\n      doc: props.value,\n      extensions: extensions,\n      parent: codeRef.current,\n    });\n\n    return () => {\n      props.onChange?.(editor.state.doc.toString());\n    };\n  }, []);\n\n  return <div ref={codeRef} className={style[\"code-editor\"]}></div>;\n};\n\nexport default memo(CodeEditor);\n","import React, { FC, memo, useState } from \"react\";\nimport { ResizerProps } from \"./types\";\nimport style from \"./style.module.scss\";\n\nconst Resizer: FC<ResizerProps> = (props): JSX.Element => {\n  const items = React.Children.toArray(props.children);\n  const avgWidth = 1 / items.length;\n\n  // 需要减去 具柄 的宽度\n  const [valueMap, setValueMap] = useState(\n    items.map((_, index) => {\n      return index !== items.length - 1\n        ? 1 - avgWidth * (items.length - 1)\n        : avgWidth;\n    })\n  );\n  const realItems = items.map((ele: React.ReactElement, index) => {\n    const value = valueMap[index]\n    return React.cloneElement(ele, { index, value:  value ?? \"\"});\n  });\n\n  const handleItemChange = (index: number, delta: number): void => {\n    // valueMap[index] = d\n  };\n\n  return <>{realItems}</>;\n};\n\nexport default memo(Resizer);\n","import { FC, memo, useContext, useRef, useState } from \"react\";\nimport { ResizerItemProps } from \"./types\";\nimport React from \"react\";\nimport style from \"./style.module.scss\";\n\nconst ResizerItem: FC<ResizerItemProps> = (props): JSX.Element => {\n  const _ref = useRef<HTMLDivElement>();\n  const [pressed, setPressed] = useState<boolean>();\n  const [point, setPoint] = useState<{ x: number; y: number }>();\n\n  const onClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    setPressed(true);\n    setPoint({\n      x: e.clientX,\n      y: e.clientY,\n    });\n  };\n\n  const onMouseUp = () => {\n    setPoint(null);\n    setPressed(false);\n  };\n  const onMouseLeave = () => {\n    setPoint(null);\n    setPressed(false);\n  };\n\n  const onMouseMove = (e: React.MouseEvent): void => {\n    if (!pressed || !point) {\n      return;\n    }\n    const delta = {\n      x: e.clientX - point.x,\n      y: e.clientY - point.y,\n    }\n  };\n\n  const children = React.cloneElement(props.children, {\n    ...props.children.props,\n    style: { width: `${(props.value || 0) * 100}%` },\n  });\n\n  return (\n    <>\n      <div\n        className={style[\"editor-resizer-item\"]}\n        ref={_ref}\n        onMouseMove={onMouseMove}\n        onClick={onClick}\n        onMouseUp={onMouseUp}\n        onMouseLeave={onMouseLeave}\n      ></div>\n      {children}\n    </>\n  );\n};\n\nexport default memo(ResizerItem);\n","import Resizer from \"./Resizer\";\nimport Item from \"./Item\";\n\nexport default Object.assign(Resizer, { Item });\n","import { FC, memo, useEffect, useRef, useState } from \"react\";\nimport Box from \"../Box\";\nimport CodeEditor from \"../CodeEditor\";\nimport Resizer from \"../Resizer\";\nimport style from \"./style.module.scss\";\nimport { CodeBoxsProps } from \"./types\";\n\nconst CodeBoxs: FC<CodeBoxsProps> = (props) => {\n  const codeDivRef = useRef<HTMLDivElement>();\n  const [loaded, setLoaded] = useState(false);\n  const [codeDivRect, setCodeDivRect] = useState({ width: 0, height: 0 });\n  //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n\n  const windowResize = (e) => {\n    codeDivRef.current &&\n      setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"resize\", windowResize);\n\n    setLoaded(true);\n    return () => {\n      document.removeEventListener(\"resize\", windowResize);\n    };\n  }, []);\n\n  return (\n    <div className={style[\"code-div\"]} ref={codeDivRef}>\n      {loaded ? (\n        <>\n          <Resizer>\n            <Resizer.Item>\n              <Box title={\"HTML\"}>\n                <CodeEditor\n                  lang=\"html\"\n                  value={props.value.get(\"html\")}\n                  onChange={(value) => {\n                    props.onChange(\"html\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box title={\"CSS\"}>\n                <CodeEditor\n                  lang=\"css\"\n                  value={props.value.get(\"css\")}\n                  onChange={(value) => {\n                    props.onChange(\"css\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box title={\"JS\"}>\n                <CodeEditor\n                  lang=\"javascript\"\n                  value={props.value.get(\"javascript\")}\n                  onChange={(value) => {\n                    props.onChange(\"javascript\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n          </Resizer>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default memo(CodeBoxs);\n","import React, { createRef, memo, useEffect, useRef, useState } from \"react\";\nimport CodeBoxs from \"./components/CodeBoxs\";\nimport Previewer from \"../components/Previewer\";\nimport style from \"./style.module.scss\";\n\nconst keydown = function (e) {\n  if (\n    e.keyCode == 83 &&\n    (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\n  ) {\n    e.preventDefault();\n    // 阻止浏览器的默认保存行为\n  }\n};\n\nconst Editor = (props) => {\n  const useCacheData = typeof window !== \"undefined\" &&  props.cachaValue\n  const initValue = [\n    [\n      \"javascript\",\n      useCacheData\n        ? localStorage?.getItem?.(`${location.pathname}_javascript`)\n        : props.data?.javascript,\n    ],\n    [\n      \"css\",\n      useCacheData\n        ? localStorage?.getItem?.(`${location.pathname}_css`)\n        : props.data?.css,\n    ],\n    [\n      \"html\",\n      useCacheData\n        ? localStorage?.getItem?.(`${location.pathname}_html`)\n        : props.data?.html,\n    ],\n  ];\n  const [codeValue, setCodeValue] = useState(new Map(initValue));\n\n  const onCodeChange = (lang, value) => {\n    codeValue.set(lang, value);\n    setCodeValue(new Map(codeValue));\n    if (useCacheData) {\n      localStorage?.setItem?.(`${location.pathname}_${lang}`, value);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keydown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", keydown);\n    };\n  }, []);\n\n  return (\n    <div className={style[\"editor\"]}>\n      <div className={style[\"iframe-div\"]}>\n        <CodeBoxs value={codeValue} onChange={onCodeChange} />\n        <Previewer className={style[\"preview-iframe\"]} codeMap={codeValue} />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Editor);\n","import React, { FC, memo, useMemo } from \"react\";\nimport { PreviewProps } from \"./types\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\n\nconst Preview: FC<PreviewProps> = (props): JSX.Element => {\n  const codeMap = props.codeMap ?? new Map();\n  const srcDoc = useMemo(() => {\n    return `\n      <html lang=\"en\">\n      <head>\n          <meta charset=\"UTF-8\">\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\n          <title>code preview</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n            }\n            body {\n              width: 100vw;\n              height: 100vh;\n            }\n          </style>\n          <style>\n          ${codeMap.get(\"css\") ?? \"\"}\n          </style>\n\n          <script>\n          window.console = window.console || function(t) {};\n          </script>\n\n          <script>\n          if (document.location.search.match(/type=embed/gi)) {\n              window.parent.postMessage(\"resize\", \"*\");\n          }\n          </script>\n\n      </head>\n\n      <body translate=\"no\">\n          ${codeMap.get(\"html\") ?? \"\"}\n          <script>\n          ${codeMap.get(\"javascript\") ?? \"\"}\n          </script>\n      </body>\n      </html>\n    `;\n  }, [codeMap]);\n\n  return (\n    <iframe\n      // height=\"100%\"\n      width=\"100%\"\n      srcDoc={srcDoc}\n      title=\"code preview\"\n      sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\"\n      allow=\"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\"\n      scrolling=\"auto\"\n      allowTransparency\n      //   allowpaymentrequest=\"true\"\n      allowFullScreen\n      className={classNames(style[\"iframe\"], props.className) }\n      loading=\"lazy\"\n      frameBorder=\"none\"\n    ></iframe>\n  );\n};\n\nexport default memo(Preview);\n","import Editor from \"../Editor\";\n\nexport default () => <Editor cachaValue/>;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-editor\":\"style_code-editor__Yc3lP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"editor-resizer-item-h\":\"style_editor-resizer-item-h__yqov3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[87],{\n\n/***/ 895:\n/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/tiny-code/create\",\n      function () {\n        return __webpack_require__(28518);\n      }\n    ]);\n    if(false) {}\n  \n\n/***/ }),\n\n/***/ 94079:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ tiny_code_Editor; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Box/style.module.scss\nvar style_module = __webpack_require__(2620);\nvar style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);\n// EXTERNAL MODULE: ./node_modules/react-resizable/css/styles.css\nvar styles = __webpack_require__(28725);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Box/index.tsx\n\n\n\n\nconst Box = (props)=>{\n    const { title , extra , children  } = props;\n    var _style;\n    return /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n        className: (style_module_default()).box,\n        style: (_style = props.style) !== null && _style !== void 0 ? _style : {},\n        children: [\n            /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n                className: (style_module_default())[\"box-header\"],\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-left\"],\n                        children: title\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-right\"],\n                        children: extra\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                className: (style_module_default())[\"box-body\"],\n                children: children\n            })\n        ]\n    });\n};\n/* harmony default export */ var components_Box = (/*#__PURE__*/(0,react.memo)(Box));\n\n// EXTERNAL MODULE: ./node_modules/codemirror/dist/index.js + 3 modules\nvar dist = __webpack_require__(43070);\n// EXTERNAL MODULE: ./node_modules/@codemirror/view/dist/index.js\nvar view_dist = __webpack_require__(47421);\n// EXTERNAL MODULE: ./node_modules/@codemirror/lang-javascript/dist/index.js + 1 modules\nvar lang_javascript_dist = __webpack_require__(58037);\n// EXTERNAL MODULE: ./node_modules/@codemirror/lang-css/dist/index.js + 1 modules\nvar lang_css_dist = __webpack_require__(61426);\n// EXTERNAL MODULE: ./node_modules/@codemirror/lang-html/dist/index.js + 1 modules\nvar lang_html_dist = __webpack_require__(13804);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeEditor/style.module.scss\nvar CodeEditor_style_module = __webpack_require__(37761);\nvar CodeEditor_style_module_default = /*#__PURE__*/__webpack_require__.n(CodeEditor_style_module);\n// EXTERNAL MODULE: ./node_modules/@codemirror/state/dist/index.js\nvar state_dist = __webpack_require__(78120);\n// EXTERNAL MODULE: ./node_modules/@codemirror/theme-one-dark/dist/index.js\nvar theme_one_dark_dist = __webpack_require__(23732);\n// EXTERNAL MODULE: ./node_modules/@codemirror/commands/dist/index.js\nvar commands_dist = __webpack_require__(45383);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeEditor/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nconst editorTheme = new state_dist/* Compartment */.F6();\nconst darkTheme = editorTheme.of(theme_one_dark_dist/* oneDark */.vk);\n// react-codemirror 地址\n// https://github.com/uiwjs/react-codemirror/blob/master/core/src/useCodeMirror.ts\nconst LangMap = {\n    javascript: lang_javascript_dist/* javascript */.eJ,\n    css: lang_css_dist/* css */.iv,\n    html: lang_html_dist/* html */.dy\n};\nconst CodeEditor = (props)=>{\n    const codeRef = (0,react.useRef)();\n    const handleChange = (0,react.useCallback)((vu)=>{\n        if (vu.docChanged && typeof props.onChange === \"function\") {\n            const doc = vu.state.doc;\n            const value = doc.toString();\n            props.onChange(value);\n        }\n    }, []);\n    (0,react.useEffect)(()=>{\n        const lang = LangMap[props.lang || \"html\"];\n        const extensions = [\n            dist/* basicSetup */.Xy,\n            lang(),\n            darkTheme,\n            (0,commands_dist/* history */.m8)(),\n            (0,view_dist/* drawSelection */.Uw)(),\n            (0,view_dist/* lineNumbers */.Eu)(),\n            view_dist/* keymap.of */.$f.of([\n                ...commands_dist/* defaultKeymap */.wQ,\n                ...commands_dist/* historyKeymap */.f$,\n                {\n                    key: \"Mod-s\",\n                    mac: \"Mod-s\",\n                    run: ()=>{\n                        var // 出发保存行为\n                        ref;\n                        (ref = props.onChange) === null || ref === void 0 ? void 0 : ref.call(props, editor.state.doc.toString());\n                    }\n                }\n            ]),\n            view_dist/* EditorView.updateListener.of */.tk.updateListener.of(handleChange)\n        ];\n        if (props.readonly) {\n            extensions.push(state_dist/* EditorState.readOnly.of */.yy.readOnly.of(true));\n        }\n        const editor = new view_dist/* EditorView */.tk({\n            doc: props.value,\n            extensions: extensions,\n            parent: codeRef.current\n        });\n        return ()=>{\n            var ref;\n            (ref = props.onChange) === null || ref === void 0 ? void 0 : ref.call(props, editor.state.doc.toString());\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        ref: codeRef,\n        className: (CodeEditor_style_module_default())[\"code-editor\"]\n    });\n};\n/* harmony default export */ var components_CodeEditor = (/*#__PURE__*/(0,react.memo)(CodeEditor));\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Resizer.tsx\n\n\nconst Resizer = (props)=>{\n    const items = react.Children.toArray(props.children);\n    const avgWidth = 1 / items.length;\n    // 需要减去 具柄 的宽度\n    const [valueMap, setValueMap] = (0,react.useState)(items.map((_, index)=>{\n        return index !== items.length - 1 ? 1 - avgWidth * (items.length - 1) : avgWidth;\n    }));\n    const realItems = items.map((ele, index)=>{\n        const value = valueMap[index];\n        return /*#__PURE__*/ react.cloneElement(ele, {\n            index,\n            value: value !== null && value !== void 0 ? value : \"\"\n        });\n    });\n    const handleItemChange = (index, delta)=>{\n    // valueMap[index] = d\n    };\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n        children: realItems\n    });\n};\n/* harmony default export */ var Resizer_Resizer = (/*#__PURE__*/(0,react.memo)(Resizer));\n\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Resizer/style.module.scss\nvar Resizer_style_module = __webpack_require__(23337);\nvar Resizer_style_module_default = /*#__PURE__*/__webpack_require__.n(Resizer_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Item.tsx\n\n\n\n\nconst ResizerItem = (props)=>{\n    const _ref = (0,react.useRef)();\n    const [pressed, setPressed] = (0,react.useState)();\n    const [point, setPoint] = (0,react.useState)();\n    const onClick = (e)=>{\n        setPressed(true);\n        setPoint({\n            x: e.clientX,\n            y: e.clientY\n        });\n    };\n    const onMouseUp = ()=>{\n        setPoint(null);\n        setPressed(false);\n    };\n    const onMouseLeave = ()=>{\n        setPoint(null);\n        setPressed(false);\n    };\n    const onMouseMove = (e)=>{\n        if (!pressed || !point) {\n            return;\n        }\n        const delta = {\n            x: e.clientX - point.x,\n            y: e.clientY - point.y\n        };\n    };\n    const children = /*#__PURE__*/ react.cloneElement(props.children, {\n        ...props.children.props,\n        style: {\n            width: \"\".concat((props.value || 0) * 100, \"%\")\n        }\n    });\n    return /*#__PURE__*/ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                className: (Resizer_style_module_default())[\"editor-resizer-item\"],\n                ref: _ref,\n                onMouseMove: onMouseMove,\n                onClick: onClick,\n                onMouseUp: onMouseUp,\n                onMouseLeave: onMouseLeave\n            }),\n            children\n        ]\n    });\n};\n/* harmony default export */ var Item = (/*#__PURE__*/(0,react.memo)(ResizerItem));\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/index.tsx\n\n\n/* harmony default export */ var components_Resizer = (Object.assign(Resizer_Resizer, {\n    Item: Item\n}));\n\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss\nvar CodeBoxs_style_module = __webpack_require__(21779);\nvar CodeBoxs_style_module_default = /*#__PURE__*/__webpack_require__.n(CodeBoxs_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/index.tsx\n\n\n\n\n\n\nconst CodeBoxs = (props)=>{\n    const codeDivRef = (0,react.useRef)();\n    const [loaded, setLoaded] = (0,react.useState)(false);\n    const [codeDivRect, setCodeDivRect] = (0,react.useState)({\n        width: 0,\n        height: 0\n    });\n    //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n    const windowResize = (e)=>{\n        codeDivRef.current && setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"resize\", windowResize);\n        setLoaded(true);\n        return ()=>{\n            document.removeEventListener(\"resize\", windowResize);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (CodeBoxs_style_module_default())[\"code-div\"],\n        ref: codeDivRef,\n        children: loaded ? /*#__PURE__*/ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            title: \"HTML\",\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeEditor, {\n                                lang: \"html\",\n                                value: props.value.get(\"html\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"html\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            title: \"CSS\",\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeEditor, {\n                                lang: \"css\",\n                                value: props.value.get(\"css\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"css\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            title: \"JS\",\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeEditor, {\n                                lang: \"javascript\",\n                                value: props.value.get(\"javascript\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"javascript\", value);\n                                }\n                            })\n                        })\n                    })\n                ]\n            })\n        }) : null\n    });\n};\n/* harmony default export */ var components_CodeBoxs = (/*#__PURE__*/(0,react.memo)(CodeBoxs));\n\n// EXTERNAL MODULE: ./pages/tiny-code/components/Previewer/index.tsx\nvar Previewer = __webpack_require__(35825);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/style.module.scss\nvar Editor_style_module = __webpack_require__(63602);\nvar Editor_style_module_default = /*#__PURE__*/__webpack_require__.n(Editor_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/index.jsx\n\n\n\n\n\nconst keydown = function(e) {\n    if (e.keyCode == 83 && (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\n        e.preventDefault();\n    // 阻止浏览器的默认保存行为\n    }\n};\nconst Editor = (props)=>{\n    var ref, ref1, ref2, ref3, ref4, ref5;\n    const useCacheData =  true && props.cachaValue;\n    const initValue = [\n        [\n            \"javascript\",\n            useCacheData ? localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.getItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_javascript\")) : (ref1 = props.data) === null || ref1 === void 0 ? void 0 : ref1.javascript\n        ],\n        [\n            \"css\",\n            useCacheData ? localStorage === null || localStorage === void 0 ? void 0 : (ref2 = localStorage.getItem) === null || ref2 === void 0 ? void 0 : ref2.call(localStorage, \"\".concat(location.pathname, \"_css\")) : (ref3 = props.data) === null || ref3 === void 0 ? void 0 : ref3.css\n        ],\n        [\n            \"html\",\n            useCacheData ? localStorage === null || localStorage === void 0 ? void 0 : (ref4 = localStorage.getItem) === null || ref4 === void 0 ? void 0 : ref4.call(localStorage, \"\".concat(location.pathname, \"_html\")) : (ref5 = props.data) === null || ref5 === void 0 ? void 0 : ref5.html\n        ]\n    ];\n    const [codeValue, setCodeValue] = (0,react.useState)(new Map(initValue));\n    const onCodeChange = (lang, value)=>{\n        codeValue.set(lang, value);\n        setCodeValue(new Map(codeValue));\n        if (useCacheData) {\n            var ref;\n            localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.setItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_\").concat(lang), value);\n        }\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"keydown\", keydown);\n        return ()=>{\n            document.removeEventListener(\"keydown\", keydown);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (Editor_style_module_default()).editor,\n        children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n            className: (Editor_style_module_default())[\"iframe-div\"],\n            children: [\n                /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeBoxs, {\n                    value: codeValue,\n                    onChange: onCodeChange\n                }),\n                /*#__PURE__*/ (0,jsx_runtime.jsx)(Previewer/* default */.Z, {\n                    className: (Editor_style_module_default())[\"preview-iframe\"],\n                    codeMap: codeValue\n                })\n            ]\n        })\n    });\n};\n/* harmony default export */ var tiny_code_Editor = (/*#__PURE__*/(0,react.memo)(Editor));\n\n\n/***/ }),\n\n/***/ 35825:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85893);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);\n/* harmony import */ var _style_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16856);\n/* harmony import */ var _style_module_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_module_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94184);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst Preview = (props)=>{\n    var _codeMap;\n    const codeMap = (_codeMap = props.codeMap) !== null && _codeMap !== void 0 ? _codeMap : new Map();\n    const srcDoc = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var ref, ref1, ref2;\n        return '\\n      <html lang=\"en\">\\n      <head>\\n          <meta charset=\"UTF-8\">\\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\\n          <title>code preview</title>\\n          <style>\\n            * {\\n              margin: 0;\\n              padding: 0;\\n            }\\n            body {\\n              width: 100vw;\\n              height: 100vh;\\n            }\\n          </style>\\n          <style>\\n          '.concat((ref = codeMap.get(\"css\")) !== null && ref !== void 0 ? ref : \"\", '\\n          </style>\\n\\n          <script>\\n          window.console = window.console || function(t) {};\\n          </script>\\n\\n          <script>\\n          if (document.location.search.match(/type=embed/gi)) {\\n              window.parent.postMessage(\"resize\", \"*\");\\n          }\\n          </script>\\n\\n      </head>\\n\\n      <body translate=\"no\">\\n          ').concat((ref1 = codeMap.get(\"html\")) !== null && ref1 !== void 0 ? ref1 : \"\", \"\\n          <script>\\n          \").concat((ref2 = codeMap.get(\"javascript\")) !== null && ref2 !== void 0 ? ref2 : \"\", \"\\n          </script>\\n      </body>\\n      </html>\\n    \");\n    }, [\n        codeMap\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"iframe\", {\n        // height=\"100%\"\n        width: \"100%\",\n        srcDoc: srcDoc,\n        title: \"code preview\",\n        sandbox: \"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\",\n        allow: \"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\",\n        scrolling: \"auto\",\n        allowTransparency: true,\n        //   allowpaymentrequest=\"true\"\n        allowFullScreen: true,\n        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_style_module_scss__WEBPACK_IMPORTED_MODULE_3___default().iframe), props.className),\n        loading: \"lazy\",\n        frameBorder: \"none\"\n    });\n};\n/* harmony default export */ __webpack_exports__[\"Z\"] = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(Preview));\n\n\n/***/ }),\n\n/***/ 28518:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85893);\n/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94079);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (()=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Editor__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z, {\n        cachaValue: true\n    }));\n\n\n/***/ }),\n\n/***/ 2620:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};\n\n/***/ }),\n\n/***/ 21779:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};\n\n/***/ }),\n\n/***/ 37761:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-editor\":\"style_code-editor__Yc3lP\"};\n\n/***/ }),\n\n/***/ 23337:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"editor-resizer-item-h\":\"style_editor-resizer-item-h__yqov3\"};\n\n/***/ }),\n\n/***/ 63602:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};\n\n/***/ }),\n\n/***/ 16856:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [611,762,504,774,888,179], function() { return __webpack_exec__(895); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ _N_E = __webpack_exports__;\n/******/ }\n]);"],"names":["self","push","__unused_webpack_module","__unused_webpack_exports","__webpack_require__","window","__NEXT_P","__webpack_exports__","d","tiny_code_Editor","jsx_runtime","react","style_module","style_module_default","n","Box","_style","title","extra","children","props","jsxs","className","box","style","jsx","components_Box","memo","dist","view_dist","lang_javascript_dist","lang_css_dist","lang_html_dist","CodeEditor_style_module","CodeEditor_style_module_default","state_dist","theme_one_dark_dist","commands_dist","editorTheme","F6","darkTheme","of","vk","LangMap","javascript","eJ","css","iv","html","dy","CodeEditor","codeRef","useRef","handleChange","useCallback","vu","docChanged","onChange","doc","state","value","toString","useEffect","lang","extensions","Xy","m8","Uw","Eu","$f","wQ","f$","key","mac","ref","call","editor","tk","updateListener","readonly","yy","readOnly","parent","current","components_CodeEditor","Resizer","items","Children","toArray","avgWidth","length","valueMap","setValueMap","useState","map","_","index","realItems","ele","cloneElement","Fragment","Resizer_Resizer","Resizer_style_module","Resizer_style_module_default","ResizerItem","_ref","pressed","setPressed","point","setPoint","onClick","x","e","clientX","y","clientY","onMouseUp","onMouseLeave","onMouseMove","width","concat","components_Resizer","Object","assign","Item","CodeBoxs_style_module","CodeBoxs_style_module_default","CodeBoxs","codeDivRef","loaded","setLoaded","codeDivRect","setCodeDivRect","height","windowResize","getBoundingClientRect","document","addEventListener","removeEventListener","get","components_CodeBoxs","Previewer","Editor_style_module","Editor_style_module_default","keydown","keyCode","navigator","platform","match","metaKey","ctrlKey","preventDefault","Editor","ref1","ref2","ref3","ref4","ref5","useCacheData","cachaValue","initValue","localStorage","getItem","location","pathname","data","codeValue","setCodeValue","Map","onCodeChange","set","setItem","Z","codeMap","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_style_module_scss__WEBPACK_IMPORTED_MODULE_3__","_style_module_scss__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","Preview","_codeMap","srcDoc","useMemo","sandbox","allow","scrolling","allowTransparency","allowFullScreen","iframe","loading","frameBorder","r","_Editor__WEBPACK_IMPORTED_MODULE_1__","module","exports","O","s","_N_E"],"sourceRoot":""}