(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{25380:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=25380,e.exports=t},58862:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tiny-code/embed/[id]",function(){return n(43972)}])},38208:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var s,l,o=n(85893),r=n(67294),a=n(94184),c=n.n(a),i=n(12175);let d=e=>{let t={presets:[],plugins:[]};switch(e){case"typescript":t.plugins.push(["transform-typescript"]);break;case"react-js":t.presets.push("react");break;case"react-ts":t.presets.push("react"),t.plugins.push(["transform-typescript",{isTSX:!0}])}return t},p=e=>{let t={};switch(e){case"react-js":case"react-ts":t.react="https://esm.sh/react",t["react-dom"]="https://esm.sh/react-dom"}return t},m=(e,t)=>{let n=i.transform(t,d(e)).code;return'<script type="module">'.concat(n,"</script>")},u=(e,t)=>{try{return{imports:p(e),code:m(e,t)}}catch(n){return console.error(n),{imports:{},code:""}}};(s=l||(l={})).CSS="css",s.SASS="sass",s.LESS="less";let h=e=>({code:'\n    <script type="module">\n      let styleEle = document.getElementById("css");\n      if (!styleEle) {\n        styleEle = document.createElement("style");\n        styleEle.id = "css";\n        document.head.appendChild(styleEle);\n      }\n      styleEle.innerHTML = `'.concat(e,"`;\n    </script>\n    ")}),v=e=>({imports:{sass:"https://esm.sh/sass"},code:'    \n    <script type="module">\n      import * as sass from \'sass\';\n    \n      let styleEle = document.getElementById("css");\n      if (!styleEle) {\n        styleEle = document.createElement("style");\n        styleEle.id = "css";\n        document.head.appendChild(styleEle);\n      }\n      styleEle.innerHTML = sass.compileString(`'.concat(e,"`)?.css;\n    </script>\n    ")}),y={[l.SASS]:v,[l.CSS]:h},f=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.CSS,n=arguments.length>1?arguments[1]:void 0;return null===(e=y[t])||void 0===e?void 0:e.call(y,n)},w=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s={};return t.forEach(e=>{e&&Object.assign(s,e)}),s},_=e=>'<script type="importmap">'.concat(JSON.stringify({imports:e},void 0,2),"</script>"),b=e=>{var t,n;let s=f(e.get("cssType"),e.get("css")),l=u(e.get("scriptType"),null!==(t=e.get("script"))&&void 0!==t?t:"");return{importMap:_(w(s.imports,l.imports)),htmlCode:null!==(n=e.get("html"))&&void 0!==n?n:"",cssCode:s.code,scriptCode:l.code}};var g=n(95214),E=n(16856),S=n.n(E);let C=e=>{var t;let n=null!==(t=e.codeMap)&&void 0!==t?t:new Map,[s,l]=(0,r.useState)(),a=(0,g.useDebounceFn)(()=>{l(b(n))},1e3),i=(0,r.useMemo)(()=>{var e,t,n,l;return'\n      <html lang="en">\n      <head>\n          <meta charset="UTF-8">\n          <meta name="apple-mobile-web-app-title" content="code preview">\n          <title>code preview</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n            }\n            body {\n              width: 100vw;\n              height: 100vh;\n            }\n          </style>\n          '.concat(null!==(e=null==s?void 0:s.importMap)&&void 0!==e?e:"","\n          ").concat(null!==(t=null==s?void 0:s.cssCode)&&void 0!==t?t:"","\n      </head>\n      <body>\n      ").concat(null!==(n=null==s?void 0:s.htmlCode)&&void 0!==n?n:"","\n      ").concat(null!==(l=null==s?void 0:s.scriptCode)&&void 0!==l?l:"","\n      </body>\n      </html>\n    ")},[s]);return(0,r.useEffect)(()=>{a.run()},[n]),(0,o.jsx)("iframe",{srcDoc:i,width:"100%",className:c()(S().iframe,e.className),title:"code preview",sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation",allow:"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share",scrolling:"auto",allowTransparency:!0,allowFullScreen:!0,loading:"lazy",frameBorder:"none"})};var N=(0,r.memo)(C)},43972:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return i}});var s=n(85893),l=n(67294),o=n(38208),r=n(67952),a=n.n(r);let c=e=>{var t,n,r;let[c,i]=(0,l.useState)(new Map([["javascript",null===(t=e.data)||void 0===t?void 0:t.javascript],["css",null===(n=e.data)||void 0===n?void 0:n.css],["html",null===(r=e.data)||void 0===r?void 0:r.html]])),d=(0,l.useCallback)(()=>{let t="https://vwood.xyz/tiny-code/"+e.data.id;window.open(t)},[]),p=(0,l.useCallback)(()=>{location.reload()},[]);return(0,s.jsxs)("div",{className:a().embed,children:[(0,s.jsx)("div",{className:a()["embed-header"],children:(0,s.jsx)("span",{className:a()["embed-header-logo"],onClick:d,children:"在线编辑"})}),(0,s.jsx)("div",{className:a()["embed-iframe"],children:(0,s.jsx)(o.Z,{codeMap:c})}),(0,s.jsx)("div",{className:a()["embed-footer"],children:(0,s.jsx)("button",{onClick:p,children:"重新运行"})})]})};var i=!0;t.default=(0,l.memo)(c)},16856:function(e){e.exports={iframe:"style_iframe__kw_S7"}},67952:function(e){e.exports={embed:"style_embed__Ai8jv","embed-header":"style_embed-header__PtGnP","embed-header-logo":"style_embed-header-logo__RGkyF","embed-iframe":"style_embed-iframe__9UUBv","embed-footer":"style_embed-footer__IcqAM"}}},function(e){e.O(0,[33,214,774,888,179],function(){return e(e.s=58862)}),_N_E=e.O()}]);
//# sourceMappingURL=[id]-e966c5c4ef1169cf.js.map