(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{94079:function(e,t,l){"use strict";l.d(t,{Z:function(){return A}});var n=l(85893),a=l(67294),i=l(2620),r=l.n(i),o=l(94184),s=l.n(o);let c=e=>{var t;let{title:l,extra:a,children:i}=e;return(0,n.jsxs)("div",{className:s()(r().box,e.className),style:null!==(t=e.style)&&void 0!==t?t:{},children:[(0,n.jsxs)("div",{className:r()["box-header"],children:[(0,n.jsx)("div",{className:r()["box-header-left"],children:l}),(0,n.jsx)("div",{className:r()["box-header-right"],children:a})]}),(0,n.jsx)("div",{className:r()["box-body"],children:i})]})};var d=(0,a.memo)(c),h=l(43070),v=l(47421),u=l(58037),m=l(61426),g=l(13804),p=l(37761),w=l.n(p),x=l(78120),y=l(23732),f=l(45383);let _=new x.F6,b=_.of(y.vk),j={javascript:u.eJ,css:m.iv,html:g.dy},S=e=>{let t=(0,a.useRef)(),l=(0,a.useCallback)(t=>{if(t.docChanged&&"function"==typeof e.onChange){let l=t.state.doc,n=l.toString();e.onChange(n)}},[]);return(0,a.useEffect)(()=>{let n=j[e.lang||"html"],a=[h.Xy,n(),b,(0,f.m8)(),(0,v.Uw)(),(0,v.Eu)(),v.$f.of([...f.wQ,...f.f$,{key:"Mod-s",mac:"Mod-s",run(){var t;null===(t=e.onChange)||void 0===t||t.call(e,i.state.doc.toString())}}]),v.tk.updateListener.of(l)];e.readonly&&a.push(x.yy.readOnly.of(!0));let i=new v.tk({doc:e.value,extensions:a,parent:t.current});return()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,i.state.doc.toString())}},[]),(0,n.jsx)("div",{ref:t,className:w()["code-editor"]})};var z=(0,a.memo)(S),C=l(95214);l(28725);var N=l(23337),k=l.n(N);let M=e=>{let t=a.Children.toArray(e.children),l=1/t.length,i="vertical"===e.type,r=(0,a.useRef)(null),[o,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1),[v,u]=(0,a.useState)([]),m=()=>i?r.current.clientHeight:r.current.clientWidth,g=()=>{let e=m();t.map((n,a)=>{let o=a!==t.length-1?l*e:(1-l*(t.length-1))*e;v[a]={width:i?r.current.clientWidth:o,height:i?o:r.current.clientHeight}}),u([...v])},p=(0,C.useDebounceFn)(()=>{let e=v.map(e=>(i?e.width=r.current.clientWidth:e.height=r.current.clientHeight,e));u([...e])},100);(0,C.useMount)(()=>{c(!0),g()}),(0,a.useEffect)(()=>{let e=new ResizeObserver(p.run);return e.observe(r.current),()=>{e.unobserve(r.current)}},[]);let w=e=>(l,n)=>{let a=i?"height":"width",r=n.size[a]-v[e][a];v[e]=n.size;let o=0;if(t.length>1){r?o=e+1:e-1>=0?o=e-1:e+1<=t.length-1&&(o=e+1);let s=v.reduce((e,t,l)=>o!==l?e+t[a]:e,0),c=m();v[o]={...v[o],[a]:c-s}}u([...v])},x=()=>{h(!0)},y=()=>{h(!1)},f=(0,a.useMemo)(()=>t.map((l,n)=>{let i=v[n];return a.cloneElement(l,{index:n,value:i,onResize:w(n),isFirst:0===n,isLast:n===t.length-1,type:e.type,resizing:d,onResizeStart:x,onResizeStop:y})}),[t,v,o,d]);return(0,n.jsx)("div",{className:s()(k()["vwood-resizer"],{[k()["vwood-resizer-vertical"]]:i}),ref:r,children:o?f:null})};var E=(0,a.memo)(M),R=l(1706);let I=e=>{let{onResize:t,value:l,children:i,isLast:r}=e,o="vertical"===e.type,s=(0,a.useMemo)(()=>({width:"".concat(l.width,"px"),height:"".concat(l.height,"px"),pointerEvents:e.resizing?"none":void 0,userSelect:e.resizing?"none":void 0}),[l.height,l.width,o,e.resizing]),c=()=>(0,n.jsx)("div",{className:k()["editor-resizer-item"],style:s,children:(0,n.jsx)("div",{style:{flex:1,display:"flex",overflow:"hidden"},className:k()["editor-resizer-item-content"],children:i})});return r?c():(0,n.jsx)(R.Resizable,{width:l.width,height:l.height,axis:o?"y":"x",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,handle:r?null:(0,n.jsx)("div",{className:o?"react-resizable-handle-vertical":"react-resizable-handle",onClick(e){e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!0,allowAnyClick:!0},children:c()})};var L=Object.assign(E,{Item:I}),D=l(21779),F=l.n(D);let Z=e=>{let t=(0,a.useRef)(),[l,i]=(0,a.useState)(!1),[r,o]=(0,a.useState)({width:0,height:0}),s=e=>{t.current&&o(t.current.getBoundingClientRect())};return(0,a.useEffect)(()=>(document.addEventListener("resize",s),i(!0),()=>{document.removeEventListener("resize",s)}),[]),(0,n.jsx)("div",{className:F()["code-div"],ref:t,children:l?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(L,{children:[(0,n.jsx)(L.Item,{children:(0,n.jsx)(d,{title:"HTML",children:(0,n.jsx)(z,{lang:"html",value:e.value.get("html"),onChange(t){e.onChange("html",t)}})})}),(0,n.jsx)(L.Item,{children:(0,n.jsx)(d,{title:"CSS",children:(0,n.jsx)(z,{lang:"css",value:e.value.get("css"),onChange(t){e.onChange("css",t)}})})}),(0,n.jsx)(L.Item,{children:(0,n.jsx)(d,{title:"JS",children:(0,n.jsx)(z,{lang:"javascript",value:e.value.get("javascript"),onChange(t){e.onChange("javascript",t)}})})})]})}):null})};var H=(0,a.memo)(Z),O=l(35825),T=l(63602),U=l.n(T);let W=function(e){83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()},Y=e=>{var t,l,i,r,o,s;let c=e.cachaValue,d=[["javascript",c?null==localStorage?void 0:null===(t=localStorage.getItem)||void 0===t?void 0:t.call(localStorage,"".concat(location.pathname,"_javascript")):null===(l=e.data)||void 0===l?void 0:l.javascript],["css",c?null==localStorage?void 0:null===(i=localStorage.getItem)||void 0===i?void 0:i.call(localStorage,"".concat(location.pathname,"_css")):null===(r=e.data)||void 0===r?void 0:r.css],["html",c?null==localStorage?void 0:null===(o=localStorage.getItem)||void 0===o?void 0:o.call(localStorage,"".concat(location.pathname,"_html")):null===(s=e.data)||void 0===s?void 0:s.html]],[h,v]=(0,a.useState)(new Map(d)),u=(e,t)=>{if(h.set(e,t),v(new Map(h)),c){var l;null==localStorage||null===(l=localStorage.setItem)||void 0===l||l.call(localStorage,"".concat(location.pathname,"_").concat(e),t)}};return(0,a.useEffect)(()=>(document.addEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}),[]),(0,n.jsx)("div",{className:U().editor,children:(0,n.jsx)("div",{className:U()["iframe-div"],children:(0,n.jsxs)(L,{type:"vertical",children:[(0,n.jsx)(L.Item,{children:(0,n.jsx)(H,{value:h,onChange:u})}),(0,n.jsx)(L.Item,{children:(0,n.jsx)(O.Z,{className:U()["preview-iframe"],codeMap:h})})]})})})};var A=(0,a.memo)(Y)},35825:function(e,t,l){"use strict";var n=l(85893),a=l(67294),i=l(16856),r=l.n(i),o=l(94184),s=l.n(o);let c=e=>{var t;let l=null!==(t=e.codeMap)&&void 0!==t?t:new Map,i=(0,a.useMemo)(()=>{var e,t,n;return'\n      <html lang="en">\n      <head>\n          <meta charset="UTF-8">\n          <meta name="apple-mobile-web-app-title" content="code preview">\n          <title>code preview</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n            }\n            body {\n              width: 100vw;\n              height: 100vh;\n            }\n          </style>\n          <style>\n          '.concat(null!==(e=l.get("css"))&&void 0!==e?e:"",'\n          </style>\n\n          <script>\n          window.console = window.console || function(t) {};\n          </script>\n\n          <script>\n          if (document.location.search.match(/type=embed/gi)) {\n              window.parent.postMessage("resize", "*");\n          }\n          </script>\n\n      </head>\n\n      <body translate="no">\n          ').concat(null!==(t=l.get("html"))&&void 0!==t?t:"","\n          <script>\n          ").concat(null!==(n=l.get("javascript"))&&void 0!==n?n:"","\n          </script>\n      </body>\n      </html>\n    ")},[l]);return(0,n.jsx)("iframe",{width:"100%",srcDoc:i,title:"code preview",sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation",allow:"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share",scrolling:"auto",allowTransparency:!0,allowFullScreen:!0,className:s()(r().iframe,e.className),loading:"lazy",frameBorder:"none"})};t.Z=(0,a.memo)(c)},2620:function(e){e.exports={"resizable-handle":"style_resizable-handle__DFQrT",box:"style_box__gIe6U","box-header":"style_box-header__7Dg1_","box-header-right":"style_box-header-right__Zb7s8","box-body":"style_box-body___WiYx"}},21779:function(e){e.exports={"code-div":"style_code-div__3_lvb"}},37761:function(e){e.exports={"code-editor":"style_code-editor__Yc3lP"}},23337:function(e){e.exports={"vwood-resizer":"style_vwood-resizer__uV7xv","editor-resizer-item":"style_editor-resizer-item__CtKZZ","vwood-resizer-vertical":"style_vwood-resizer-vertical__Y6Ddg"}},63602:function(e){e.exports={editor:"style_editor__33L3Y","code-div":"style_code-div__AyOuR","iframe-div":"style_iframe-div__VbyrP","preview-iframe":"style_preview-iframe__ri7D3"}},16856:function(e){e.exports={iframe:"style_iframe__kw_S7"}}}]);
//# sourceMappingURL=713-79391f738d37cc39.js.map