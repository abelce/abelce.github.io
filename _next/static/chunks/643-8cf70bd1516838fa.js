(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{25380:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=25380,e.exports=t},55247:function(e,t,s){"use strict";s.d(t,{Z:function(){return Q}});var n=s(85893),r=s(67294),l=s(2620),a=s.n(l),i=s(94184),o=s.n(i),c=s(51819);let d=e=>{var t;let{extra:s,children:r}=e;return(0,n.jsxs)("div",{className:o()(a().box,e.className),style:null!==(t=e.style)&&void 0!==t?t:{},children:[(0,n.jsxs)("div",{className:a()["box-header"],children:[(0,n.jsx)("div",{className:a()["box-header-left"],children:(0,n.jsx)(c.Z,{size:"small",options:e.options,value:e.codeType,onChange:e.onChange})}),(0,n.jsx)("div",{className:a()["box-header-right"],children:s})]}),(0,n.jsx)("div",{className:a()["box-body"],children:r})]})};var u=(0,r.memo)(d),p=s(43070),h=s(47421),m=s(78120),v=s(23732),y=s(45383);let g={javascript:async()=>await Promise.all([s.e(105),s.e(37)]).then(s.bind(s,58037)),css:async()=>await Promise.all([s.e(105),s.e(426)]).then(s.bind(s,61426)),html:async()=>await Promise.all([s.e(105),s.e(37),s.e(426),s.e(804)]).then(s.bind(s,13804))},f=async e=>{var t;let s=await (null===(t=g[e])||void 0===t?void 0:t.call(g));if(s)return null==s?void 0:s[e]};var w=s(37761),x=s.n(w);let b=e=>{switch(e){case"typescript":case"react-js":case"react-ts":return"javascript";case"sass":return"css";default:return e}},_=e=>{switch(e){case"typescript":return{"typescript⁠":!0};case"react-js":return{jsx:!0};case"react-ts":return{jsx:!0,"typescript⁠":!0};default:return{}}},j=new m.F6,S=j.of(v.vk),C=e=>{let t=(0,r.useRef)(),s=(0,r.useRef)(),l=(0,r.useCallback)(t=>{if(t.docChanged&&"function"==typeof e.onChange){let s=t.state.doc,n=s.toString();e.onChange(n)}},[]),a=(0,r.useCallback)(async()=>{let n=b(e.lang)||"html",r=await f(n);if(!r)return;let a=[p.Xy,r(_(e.lang)),S,(0,y.m8)(),(0,h.Uw)(),(0,h.Eu)(),h.$f.of([...y.wQ,...y.f$,{key:"Mod-s",mac:"Mod-s",run(){var t;null===(t=e.onChange)||void 0===t||t.call(e,s.current.state.doc.toString())}}]),h.tk.updateListener.of(l)];e.readonly&&a.push(m.yy.readOnly.of(!0)),s.current=new h.tk({doc:e.value,extensions:a,parent:t.current})},[e.lang,e.config]);return(0,r.useEffect)(()=>(a(),()=>{s.current&&s.current.destroy()}),[e.lang,a]),(0,n.jsx)("div",{ref:t,className:x()["code-editor"]})};var E=(0,r.memo)(C),z=s(95214);s(28725);var N=s(23337),T=s.n(N);let k=e=>{let t=r.Children.toArray(e.children),s=1/t.length,l="vertical"===e.type,a=(0,r.useRef)(null),[i,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)([]),m=()=>l?a.current.clientHeight:a.current.clientWidth,v=()=>{let e=m();t.map((n,r)=>{let i=r!==t.length-1?s*e:(1-s*(t.length-1))*e;p[r]={width:l?a.current.clientWidth:i,height:l?i:a.current.clientHeight}}),h([...p])},y=(0,z.useDebounceFn)(()=>{let e=p.map(e=>(l?e.width=a.current.clientWidth:e.height=a.current.clientHeight,e));h([...e])},100);(0,z.useMount)(()=>{c(!0),v()}),(0,r.useEffect)(()=>{let e=new ResizeObserver(y.run);return e.observe(a.current),()=>{a.current&&e.unobserve(a.current)}},[]);let g=e=>(s,n)=>{let r=l?"height":"width",a=n.size[r]-p[e][r];p[e]=n.size;let i=0;if(t.length>1){a?i=e+1:e-1>=0?i=e-1:e+1<=t.length-1&&(i=e+1);let o=p.reduce((e,t,s)=>i!==s?e+t[r]:e,0),c=m();p[i]={...p[i],[r]:c-o}}h([...p])},f=()=>{u(!0)},w=()=>{u(!1)},x=(0,r.useMemo)(()=>t.map((s,n)=>{let l=p[n];return r.cloneElement(s,{index:n,value:l,onResize:g(n),isFirst:0===n,isLast:n===t.length-1,type:e.type,resizing:d,onResizeStart:f,onResizeStop:w})}),[t,p,i,d]);return(0,n.jsx)("div",{className:o()(T()["vwood-resizer"],{[T()["vwood-resizer-vertical"]]:l}),ref:a,children:i?x:null})};var M=(0,r.memo)(k),R=s(1706);let I=e=>{let{onResize:t,value:s,children:l,isLast:a}=e,i="vertical"===e.type,o=(0,r.useMemo)(()=>({width:"".concat(s.width,"px"),height:"".concat(s.height,"px"),pointerEvents:e.resizing?"none":void 0,userSelect:e.resizing?"none":void 0}),[s.height,s.width,i,e.resizing]),c=()=>(0,n.jsx)("div",{className:T()["editor-resizer-item"],style:o,children:(0,n.jsx)("div",{style:{flex:1,display:"flex",overflow:"hidden"},className:T()["editor-resizer-item-content"],children:l})});return a?c():(0,n.jsx)(R.Resizable,{width:s.width,height:s.height,axis:i?"y":"x",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,handle:a?null:(0,n.jsx)("div",{className:i?"react-resizable-handle-vertical":"react-resizable-handle",onClick(e){e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!0,allowAnyClick:!0},children:c()})};var L=Object.assign(M,{Item:I}),D=s(21779),O=s.n(D);let F=[{label:"css",value:"css"},{label:"sass",value:"sass"}],Z=[{label:"javascript",value:"javascript"},{label:"typescript",value:"typescript"},{label:"react(js)",value:"react-js"},{label:"react(ts)",value:"react-ts"}],A=[{label:"html",value:"html"}],H=e=>{let t=(0,r.useRef)(),[s,l]=(0,r.useState)(!1),[a,i]=(0,r.useState)({width:0,height:0}),o=e=>{t.current&&i(t.current.getBoundingClientRect())},c=(t,s)=>{e.onChange(t,s)};(0,r.useEffect)(()=>(document.addEventListener("resize",o),l(!0),()=>{document.removeEventListener("resize",o)}),[]);let d=e.value.get("htmlType")||"html",p=e.value.get("cssType")||"css",h=e.value.get("scriptType")||"javascript";return(0,n.jsx)("div",{className:O()["code-div"],ref:t,children:s?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(L,{children:[(0,n.jsx)(L.Item,{children:(0,n.jsx)(u,{codeType:d,options:A,onChange:e=>c("htmlType",e),children:(0,n.jsx)(E,{lang:d,value:e.value.get("html"),onChange(t){e.onChange("html",t)}})})}),(0,n.jsx)(L.Item,{children:(0,n.jsx)(u,{codeType:p,options:F,onChange:e=>c("cssType",e),children:(0,n.jsx)(E,{lang:p,value:e.value.get("css"),onChange(t){e.onChange("css",t)}})})}),(0,n.jsx)(L.Item,{children:(0,n.jsx)(u,{codeType:h,options:Z,onChange:e=>c("scriptType",e),children:(0,n.jsx)(E,{lang:h,value:e.value.get("script"),onChange(t){e.onChange("script",t)}})})})]})}):null})};var P=(0,r.memo)(H),U=s(38208),B=s(63602),W=s.n(B);let Y=function(e){83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()},K=["html","htmlType","css","cssType","script","scriptType"],V=e=>{let t=e.cachaValue,s=K.map(s=>{var n,r;return[s,t?null==localStorage?void 0:null===(n=localStorage.getItem)||void 0===n?void 0:n.call(localStorage,"".concat(location.pathname,"_").concat(s)):null===(r=e.data)||void 0===r?void 0:r[s]]}),[l,a]=(0,r.useState)(new Map(s)),i=(e,s)=>{if(l.set(e,s),a(new Map(l)),t){var n;null==localStorage||null===(n=localStorage.setItem)||void 0===n||n.call(localStorage,"".concat(location.pathname,"_").concat(e),s)}};return(0,r.useEffect)(()=>(document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}),[]),(0,n.jsx)("div",{className:W().editor,children:(0,n.jsx)("div",{className:W()["iframe-div"],children:(0,n.jsxs)(L,{type:"vertical",children:[(0,n.jsx)(L.Item,{children:(0,n.jsx)(P,{value:l,onChange:i})}),(0,n.jsx)(L.Item,{children:(0,n.jsx)(U.Z,{className:W()["preview-iframe"],codeMap:l})})]})})})};var Q=(0,r.memo)(V)},38208:function(e,t,s){"use strict";s.d(t,{Z:function(){return C}});var n,r,l=s(85893),a=s(67294),i=s(94184),o=s.n(i),c=s(12175);let d=e=>{let t={presets:[],plugins:[]};switch(e){case"typescript":t.plugins.push(["transform-typescript"]);break;case"react-js":t.presets.push("react");break;case"react-ts":t.presets.push("react"),t.plugins.push(["transform-typescript",{isTSX:!0}])}return t},u=e=>{let t={};switch(e){case"react-js":case"react-ts":t.react="https://esm.sh/react",t["react-dom"]="https://esm.sh/react-dom"}return t},p=(e,t)=>{let s=c.transform(t,d(e)).code;return'<script type="module">'.concat(s,"</script>")},h=(e,t)=>{try{return{imports:u(e),code:p(e,t)}}catch(s){return console.error(s),{imports:{},code:""}}};(n=r||(r={})).CSS="css",n.SASS="sass",n.LESS="less";let m=e=>({code:'\n    <script type="module">\n      let styleEle = document.getElementById("css");\n      if (!styleEle) {\n        styleEle = document.createElement("style");\n        styleEle.id = "css";\n        document.head.appendChild(styleEle);\n      }\n      styleEle.innerHTML = `'.concat(e,"`;\n    </script>\n    ")}),v=e=>({imports:{sass:"https://esm.sh/sass"},code:'    \n    <script type="module">\n      import * as sass from \'sass\';\n    \n      let styleEle = document.getElementById("css");\n      if (!styleEle) {\n        styleEle = document.createElement("style");\n        styleEle.id = "css";\n        document.head.appendChild(styleEle);\n      }\n      styleEle.innerHTML = sass.compileString(`'.concat(e,"`)?.css;\n    </script>\n    ")}),y={[r.SASS]:v,[r.CSS]:m},g=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.CSS,s=arguments.length>1?arguments[1]:void 0;return null===(e=y[t])||void 0===e?void 0:e.call(y,s)},f=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let n={};return t.forEach(e=>{e&&Object.assign(n,e)}),n},w=e=>'<script type="importmap">'.concat(JSON.stringify({imports:e},void 0,2),"</script>"),x=e=>{var t,s;let n=g(e.get("cssType"),e.get("css")),r=h(e.get("scriptType"),null!==(t=e.get("script"))&&void 0!==t?t:"");return{importMap:w(f(n.imports,r.imports)),htmlCode:null!==(s=e.get("html"))&&void 0!==s?s:"",cssCode:n.code,scriptCode:r.code}};var b=s(95214),_=s(16856),j=s.n(_);let S=e=>{var t;let s=null!==(t=e.codeMap)&&void 0!==t?t:new Map,[n,r]=(0,a.useState)(),i=(0,b.useDebounceFn)(()=>{r(x(s))},1e3),c=(0,a.useMemo)(()=>{var e,t,s,r;return'\n      <html lang="en">\n      <head>\n          <meta charset="UTF-8">\n          <meta name="apple-mobile-web-app-title" content="code preview">\n          <title>code preview</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n            }\n            body {\n              width: 100vw;\n              height: 100vh;\n            }\n          </style>\n          '.concat(null!==(e=null==n?void 0:n.importMap)&&void 0!==e?e:"","\n          ").concat(null!==(t=null==n?void 0:n.cssCode)&&void 0!==t?t:"","\n      </head>\n      <body>\n      ").concat(null!==(s=null==n?void 0:n.htmlCode)&&void 0!==s?s:"","\n      ").concat(null!==(r=null==n?void 0:n.scriptCode)&&void 0!==r?r:"","\n      </body>\n      </html>\n    ")},[n]);return(0,a.useEffect)(()=>{i.run()},[s]),(0,l.jsx)("iframe",{srcDoc:c,width:"100%",className:o()(j().iframe,e.className),title:"code preview",sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation",allow:"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share",scrolling:"auto",allowTransparency:!0,allowFullScreen:!0,loading:"lazy",frameBorder:"none"})};var C=(0,a.memo)(S)},2620:function(e){e.exports={"resizable-handle":"style_resizable-handle__DFQrT",box:"style_box__gIe6U","box-header":"style_box-header__7Dg1_","box-header-right":"style_box-header-right__Zb7s8","box-body":"style_box-body___WiYx"}},21779:function(e){e.exports={"code-div":"style_code-div__3_lvb"}},37761:function(e){e.exports={"code-editor":"style_code-editor__Yc3lP"}},23337:function(e){e.exports={"vwood-resizer":"style_vwood-resizer__uV7xv","editor-resizer-item":"style_editor-resizer-item__CtKZZ","vwood-resizer-vertical":"style_vwood-resizer-vertical__Y6Ddg"}},63602:function(e){e.exports={editor:"style_editor__33L3Y","code-div":"style_code-div__AyOuR","iframe-div":"style_iframe-div__VbyrP","preview-iframe":"style_preview-iframe__ri7D3"}},16856:function(e){e.exports={iframe:"style_iframe__kw_S7"}}}]);
//# sourceMappingURL=643-8cf70bd1516838fa.js.map