(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{25380:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=25380,e.exports=t},55247:function(e,t,r){"use strict";r.d(t,{Z:function(){return X}});var l=r(85893),a=r(67294),n=r(2620),s=r.n(n),o=r(94184),i=r.n(o),c=r(51819);let d=e=>{var t;let{extra:r,children:a}=e;return(0,l.jsxs)("div",{className:i()(s().box,e.className),style:null!==(t=e.style)&&void 0!==t?t:{},children:[(0,l.jsxs)("div",{className:s()["box-header"],children:[(0,l.jsx)("div",{className:s()["box-header-left"],children:(0,l.jsx)(c.Z,{size:"small",options:e.options,value:e.codeType,onChange:e.onChange})}),(0,l.jsx)("div",{className:s()["box-header-right"],children:r})]}),(0,l.jsx)("div",{className:s()["box-body"],children:a})]})};var u=(0,a.memo)(d),p=r(43070),h=r(47421),v=r(78120),m=r(23732),g=r(45383);let y={javascript:async()=>await Promise.all([r.e(105),r.e(37)]).then(r.bind(r,58037)),css:async()=>await Promise.all([r.e(105),r.e(426)]).then(r.bind(r,61426)),html:async()=>await Promise.all([r.e(105),r.e(37),r.e(426),r.e(804)]).then(r.bind(r,13804))};function f(e){let t=e.matchBefore(/\w*/);return t.from!=t.to||e.explicit?{from:t.from,options:[{label:"match",type:"keyword"},{label:"hello",type:"variable",info:"(World)"},{label:"magic",type:"text",apply:"⠁⭒*.✩.*⭒⠁",detail:"macro"}]}:null}let w=async e=>{var t;let r=await (null===(t=y[e])||void 0===t?void 0:t.call(y));if(r){let l=null==r?void 0:r["".concat(e,"Language")],a=l.data.of({autocomplete:f});return[null==r?void 0:r[e],a]}};var x=r(37761),b=r.n(x);let _=e=>{switch(e){case"typescript":case"react-js":case"react-ts":return"javascript";case"sass":return"css";default:return e}},j=e=>{switch(e){case"typescript":return{"typescript⁠":!0};case"react-js":return{jsx:!0};case"react-ts":return{jsx:!0,"typescript⁠":!0};default:return{}}},S=new v.F6,C=S.of(m.vk),z=e=>{let t=(0,a.useRef)(),r=(0,a.useRef)(),n=(0,a.useCallback)(t=>{if(t.docChanged&&"function"==typeof e.onChange){let r=t.state.doc,l=r.toString();e.onChange(l)}},[]),s=(0,a.useCallback)(async()=>{var l;let a=_(e.lang)||"html",s=await w(a);if(!s)return;let o=[p.Xy,null===(l=s[0])||void 0===l?void 0:l.call(s,j(e.lang)),s[1],C,(0,g.m8)(),(0,h.Uw)(),(0,h.Eu)(),h.$f.of([...g.wQ,...g.f$,{key:"Mod-s",mac:"Mod-s",run(){var t;null===(t=e.onChange)||void 0===t||t.call(e,r.current.state.doc.toString())}}]),h.tk.updateListener.of(n)];e.readonly&&o.push(v.yy.readOnly.of(!0)),r.current=new h.tk({doc:e.value,extensions:o,parent:t.current})},[e.lang,e.config]);return(0,a.useEffect)(()=>(s(),()=>{r.current&&r.current.destroy()}),[e.lang,s]),(0,l.jsx)("div",{ref:t,className:b()["code-editor"]})};var k=(0,a.memo)(z),N=r(95214);r(28725);var T=r(23337),E=r.n(T);let M=e=>{let t=a.Children.toArray(e.children),r=1/t.length,n="vertical"===e.type,s=(0,a.useRef)(null),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)([]),v=()=>n?s.current.clientHeight:s.current.clientWidth,m=()=>{let e=v();t.map((l,a)=>{let o=a!==t.length-1?r*e:(1-r*(t.length-1))*e;p[a]={width:n?s.current.clientWidth:o,height:n?o:s.current.clientHeight}}),h([...p])},g=(0,N.useDebounceFn)(()=>{let e=p.map(e=>(n?e.width=s.current.clientWidth:e.height=s.current.clientHeight,e));h([...e])},100);(0,N.useMount)(()=>{c(!0),m()}),(0,a.useEffect)(()=>{let e=new ResizeObserver(g.run);return e.observe(s.current),()=>{s.current&&e.unobserve(s.current)}},[]);let y=e=>(r,l)=>{let a=n?"height":"width",s=l.size[a]-p[e][a];p[e]=l.size;let o=0;if(t.length>1){s?o=e+1:e-1>=0?o=e-1:e+1<=t.length-1&&(o=e+1);let i=p.reduce((e,t,r)=>o!==r?e+t[a]:e,0),c=v();p[o]={...p[o],[a]:c-i}}h([...p])},f=()=>{u(!0)},w=()=>{u(!1)},x=(0,a.useMemo)(()=>t.map((r,l)=>{let n=p[l];return a.cloneElement(r,{index:l,value:n,onResize:y(l),isFirst:0===l,isLast:l===t.length-1,type:e.type,resizing:d,onResizeStart:f,onResizeStop:w})}),[t,p,o,d]);return(0,l.jsx)("div",{className:i()(E()["vwood-resizer"],{[E()["vwood-resizer-vertical"]]:n}),ref:s,children:o?x:null})};var R=(0,a.memo)(M),I=r(1706);let D=e=>{let{onResize:t,value:r,children:n,isLast:s}=e,o="vertical"===e.type,i=(0,a.useMemo)(()=>({width:"".concat(r.width,"px"),height:"".concat(r.height,"px"),pointerEvents:e.resizing?"none":void 0,userSelect:e.resizing?"none":void 0}),[r.height,r.width,o,e.resizing]),c=()=>(0,l.jsx)("div",{className:E()["editor-resizer-item"],style:i,children:(0,l.jsx)("div",{style:{flex:1,display:"flex",overflow:"hidden"},className:E()["editor-resizer-item-content"],children:n})});return s?c():(0,l.jsx)(I.Resizable,{width:r.width,height:r.height,axis:o?"y":"x",onResizeStart:e.onResizeStart,onResizeStop:e.onResizeStop,handle:s?null:(0,l.jsx)("div",{className:o?"react-resizable-handle-vertical":"react-resizable-handle",onClick(e){e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!0,allowAnyClick:!0},children:c()})};var L=Object.assign(R,{Item:D}),O=r(21779),P=r.n(O);let F=[{label:"css",value:"css"},{label:"sass",value:"sass"}],Z=[{label:"javascript",value:"javascript"},{label:"typescript",value:"typescript"},{label:"react(js)",value:"react-js"},{label:"react(ts)",value:"react-ts"}],A=[{label:"html",value:"html"}],U=e=>{let t=(0,a.useRef)(),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)({width:0,height:0}),i=e=>{t.current&&o(t.current.getBoundingClientRect())},c=(t,r)=>{e.onChange(t,r)};(0,a.useEffect)(()=>(document.addEventListener("resize",i),n(!0),()=>{document.removeEventListener("resize",i)}),[]);let d=e.value.get("htmlType")||"html",p=e.value.get("cssType")||"css",h=e.value.get("scriptType")||"javascript";return(0,l.jsx)("div",{className:P()["code-div"],ref:t,children:r?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(L,{children:[(0,l.jsx)(L.Item,{children:(0,l.jsx)(u,{codeType:d,options:A,onChange:e=>c("htmlType",e),children:(0,l.jsx)(k,{lang:d,value:e.value.get("html"),onChange(t){e.onChange("html",t)}})})}),(0,l.jsx)(L.Item,{children:(0,l.jsx)(u,{codeType:p,options:F,onChange:e=>c("cssType",e),children:(0,l.jsx)(k,{lang:p,value:e.value.get("css"),onChange(t){e.onChange("css",t)}})})}),(0,l.jsx)(L.Item,{children:(0,l.jsx)(u,{codeType:h,options:Z,onChange:e=>c("scriptType",e),children:(0,l.jsx)(k,{lang:h,value:e.value.get("script"),onChange(t){e.onChange("script",t)}})})})]})}):null})};var W=(0,a.memo)(U),H=r(71510),Y=r(63602),B=r.n(Y);let K=function(e){83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()},V=["html","htmlType","css","cssType","script","scriptType"],Q=e=>{let t=e.cachaValue,r=V.map(r=>{var l,a;return[r,t?null==localStorage?void 0:null===(l=localStorage.getItem)||void 0===l?void 0:l.call(localStorage,"".concat(location.pathname,"_").concat(r)):null===(a=e.data)||void 0===a?void 0:a[r]]}),[n,s]=(0,a.useState)(new Map(r)),o=(e,r)=>{if(n.set(e,r),s(new Map(n)),t){var l;null==localStorage||null===(l=localStorage.setItem)||void 0===l||l.call(localStorage,"".concat(location.pathname,"_").concat(e),r)}};return(0,a.useEffect)(()=>(document.addEventListener("keydown",K),()=>{document.removeEventListener("keydown",K)}),[]),(0,l.jsx)("div",{className:B().editor,children:(0,l.jsx)("div",{className:B()["iframe-div"],children:(0,l.jsxs)(L,{type:"vertical",children:[(0,l.jsx)(L.Item,{children:(0,l.jsx)(W,{value:n,onChange:o})}),(0,l.jsx)(L.Item,{children:(0,l.jsx)(H.Z,{className:B()["preview-iframe"],codeMap:n})})]})})})};var X=(0,a.memo)(Q)},71510:function(e,t,r){"use strict";r.d(t,{Z:function(){return L}});var l,a,n=r(85893),s=r(67294),o=r(94184),i=r.n(o),c=r(12175);let d=[],u=()=>d,p=()=>{d=[]},h=()=>({visitor:{ImportDeclaration(e){d.push(e.node.source.value)}}});c.registerPlugin("collectImportPlugin",h);let v=e=>{let t={presets:[],plugins:["collectImportPlugin"]};switch(e){case"typescript":t.plugins.push(["transform-typescript"]);break;case"react-js":t.presets.push("react");break;case"react-ts":t.presets.push("react"),t.plugins.push(["transform-typescript",{isTSX:!0}])}return t},m=e=>!/^[http|\.+/|\/]/.test(e),g=e=>{let t={},r=u();return r.forEach(e=>{m(e)&&(t[e]="https://esm.sh/".concat(e))}),t},y=(e,t)=>{try{let r=c.transform(t,v(e)).code;return'<script type="module">'.concat(r,"</script>")}catch(l){return""}},f=(e,t)=>{p();let r=y(e,t);try{return{code:r,imports:g(e)}}catch(l){return console.error(l),{imports:{},code:""}}};(l=a||(a={})).CSS="css",l.SASS="sass",l.LESS="less";let w=e=>({code:e});var x=r(33707);console.log(x);let b=e=>({code:x.compileString(e).css});var _=r(39973),j=r(19806),S=r.n(j);let C=(0,_.ZP)([S()]),z={[a.SASS]:b,[a.CSS]:w},k=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.CSS,r=arguments.length>1?arguments[1]:void 0,l=null===(e=z[t])||void 0===e?void 0:e.call(z,r),n=await C.process(l.code);return{...l,code:'<link href="https://esm.sh/normalize.css" rel="stylesheet" type="text/css"><style>'.concat(n.css,"</style>")}},N=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let l={};return t.forEach(e=>{e&&Object.assign(l,e)}),l},T=e=>'<script type="importmap">'.concat(JSON.stringify({imports:e},void 0,2),"</script>"),E=async e=>{var t,r;let l=await k(e.get("cssType"),e.get("css")),a=f(e.get("scriptType"),null!==(t=e.get("script"))&&void 0!==t?t:"");return{importMap:T(N(l.imports,a.imports)),htmlCode:null!==(r=e.get("html"))&&void 0!==r?r:"",cssCode:l.code,scriptCode:a.code}};var M=r(95214),R=r(16856),I=r.n(R);let D=e=>{var t;let r=null!==(t=e.codeMap)&&void 0!==t?t:new Map,[l,a]=(0,s.useState)(),o=(0,M.useDebounceFn)(async()=>{try{let e=await E(r);a(e)}catch(t){}},1e3),c=(0,s.useMemo)(()=>{var e,t,r,a;return'\n      <html lang="en">\n      <head>\n          <meta charset="UTF-8">\n          <meta name="apple-mobile-web-app-title" content="code preview">\n          <title>code preview</title>\n          '.concat(null!==(e=null==l?void 0:l.importMap)&&void 0!==e?e:"","\n          ").concat(null!==(t=null==l?void 0:l.cssCode)&&void 0!==t?t:"","\n      </head>\n      <body>\n      ").concat(null!==(r=null==l?void 0:l.htmlCode)&&void 0!==r?r:"","\n      ").concat(null!==(a=null==l?void 0:l.scriptCode)&&void 0!==a?a:"","\n      </body>\n      </html>\n    ")},[l]);return(0,s.useEffect)(()=>{o.run()},[r]),(0,n.jsx)("iframe",{srcDoc:c,width:"100%",className:i()(I().iframe,e.className),title:"code preview",sandbox:"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation",allow:"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share",scrolling:"auto",allowTransparency:!0,allowFullScreen:!0,loading:"lazy",frameBorder:"none"})};var L=(0,s.memo)(D)},2620:function(e){e.exports={"resizable-handle":"style_resizable-handle__DFQrT",box:"style_box__gIe6U","box-header":"style_box-header__7Dg1_","box-header-right":"style_box-header-right__Zb7s8","box-body":"style_box-body___WiYx"}},21779:function(e){e.exports={"code-div":"style_code-div__3_lvb"}},37761:function(e){e.exports={"code-editor":"style_code-editor__Yc3lP"}},23337:function(e){e.exports={"vwood-resizer":"style_vwood-resizer__uV7xv","editor-resizer-item":"style_editor-resizer-item__CtKZZ","vwood-resizer-vertical":"style_vwood-resizer-vertical__Y6Ddg"}},63602:function(e){e.exports={editor:"style_editor__33L3Y","code-div":"style_code-div__AyOuR","iframe-div":"style_iframe-div__VbyrP","preview-iframe":"style_preview-iframe__ri7D3"}},16856:function(e){e.exports={iframe:"style_iframe__kw_S7"}},72950:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){}}]);
//# sourceMappingURL=601-373dd70f2d67e6f1.js.map