{"version":3,"file":"static/chunks/933-b09d9b7aa083f89b.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@babel/standalone/ sync","webpack://_N_E/./pages/tiny-code/Editor/components/Box/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/langFormat.ts","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Resizer.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Item.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/dict.ts","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/index.jsx","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/scriptParser/collectImportPlugin.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/scriptParser/babelTransform.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/types.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/styleParser/cssParser.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/styleParser/sassParser.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/styleParser/index.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/utils.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/index.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Box/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/style.module.scss","webpack://_N_E/./pages/tiny-code/components/Previewer/style.module.scss","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/browserslist|path","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|./terminal-highlight","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|fs","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|path","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|source-map-js","webpack://_N_E/<anon>"],"sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 25380;\nmodule.exports = webpackEmptyContext;","import React, { FC, memo } from \"react\";\nimport { BoxProps } from \"./types\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\nimport { Select } from \"antd\";\n\nconst Box: FC<BoxProps> = (props): JSX.Element => {\n  const { extra, children } = props;\n\n  return (\n    <div className={classNames(style[\"box\"], props.className)} style={props.style ?? {}}>\n      <div className={style[\"box-header\"]}>\n        <div className={style[\"box-header-left\"]}>\n          <Select size=\"small\" options={props.options} value={props.codeType} onChange={props.onChange}></Select>\n        </div>\n        <div className={style[\"box-header-right\"]}>{extra}</div>\n      </div>\n      <div className={style[\"box-body\"]}>{children}</div>\n    </div>\n  );\n};\n\nexport default memo(Box);\n","export const formatLang = (lang: string): string => {\n  switch (lang) {\n    case \"typescript\":\n      return \"typescript\";\n    case \"sass\":\n      return \"css\";\n    case \"react-js\":\n      return \"javascript\";\n    case \"react-ts\":\n      return \"typescript\";\n    default:\n      return lang;\n  }\n};\n\nexport const formatLangConfig = (lang: string): Record<any, any> => {\n  switch (lang) {\n    case \"typescript\":\n      return {\n        \"typescript⁠\": true,\n      };\n    case \"react-js\":\n      return {\n        jsx: true,\n      };\n    case \"react-ts\":\n      return {\n        jsx: true,\n        \"typescript⁠\": true,\n      };\n    default:\n      return {};\n  }\n};\n","import Editor from \"@monaco-editor/react\";\nimport { FC, useCallback, useMemo } from \"react\";\nimport { CodeEditorProps } from \"./types\";\nimport { formatLang } from \"./langFormat\";\n\n// https://github.com/suren-atoyan/monaco-react\nconst MyEditor: FC<CodeEditorProps> = (props) => {\n\n  const handleChange = useCallback((value: string) => {\n    props.onChange(value);\n  }, []);\n  const lang = useMemo(() => formatLang(props.lang) || \"html\", [props.lang])\n\n  return (\n    <Editor\n      language={lang}\n      defaultValue=\"\"\n      value={props.value}\n      onChange={handleChange}\n      loading={false}\n      theme='vs-dark'\n    />\n  );\n};\n\n\nexport default MyEditor;","import React, { FC, memo, useEffect, useMemo, useRef, useState } from \"react\";\nimport { ResizerProps } from \"./types\";\nimport { ResizeCallbackData } from \"react-resizable\";\nimport { useDebounceFn, useMount } from \"let-hooks/lib\";\nimport classNames from \"classnames\";\nimport \"react-resizable/css/styles.css\";\nimport style from \"./style.module.scss\";\n\nconst Resizer: FC<ResizerProps> = (props): JSX.Element => {\n  const items = React.Children.toArray(props.children);\n  const avgValue = 1 / items.length;\n  const isVertical = props.type === \"vertical\";\n\n  const _ref = useRef<HTMLDivElement>(null);\n\n  const [load, setLoad] = useState(false);\n  const [resizing, setEesizing] = useState(false);\n\n  // value 根据type来确定，默认为宽度,type=vertical时为高度\n  const [valueMap, setValueMap] = useState<{ width: number; height: number }[]>(\n    []\n  );\n\n  const getParentValue = () =>\n    isVertical ? _ref.current.clientHeight : _ref.current.clientWidth;\n\n  // 计算初始宽度\n  const calcWidth = () => {\n    const parentValue = getParentValue();\n\n    items.map((_, index) => {\n      const value =\n        index !== items.length - 1\n          ? avgValue * parentValue\n          : (1 - avgValue * (items.length - 1)) * parentValue;\n      valueMap[index] = {\n        width: isVertical ? _ref.current.clientWidth : value,\n        height: isVertical ? value : _ref.current.clientHeight,\n      };\n    });\n    setValueMap([...valueMap]);\n  };\n\n  const onResize = useDebounceFn(() => {\n    // 窗口改变的时候修改最后一个元素的高度和宽度\n    const newValueMap = valueMap.map(item => {\n      if (isVertical) {\n        item.width = _ref.current.clientWidth\n      } else {\n        item.height = _ref.current.clientHeight\n      }\n\n      return item;\n    })\n\n    setValueMap([...newValueMap])\n  }, 100)\n\n  useMount(() => {\n    setLoad(true);\n    calcWidth();\n  });\n\n\n  useEffect(() => {\n    let observer = new ResizeObserver(onResize.run);\n    observer.observe(_ref.current);\n    return () => {\n      _ref.current && observer.unobserve(_ref.current);\n    };\n  }, []);\n\n  const handleResize =\n    (index: number) =>\n      (e: React.SyntheticEvent<Element>, data: ResizeCallbackData) => {\n        const attr = isVertical ? \"height\" : \"width\";\n        // 确定index所对应的元素大小应该增大还是减少，减少就压缩左右的元素，增大就压缩右边的元素\n        const isGT = data.size[attr] - valueMap[index][attr];\n        valueMap[index] = data.size;\n        // 确定应该减少宽度的index\n        let needIncIndex = 0;\n        if (items.length > 1) {\n          if (isGT) {\n            needIncIndex = index + 1;\n          } else {\n            // 减少左边的宽度\n            if (index - 1 >= 0) {\n              needIncIndex = index - 1;\n            } else if (index + 1 <= items.length - 1) {\n              needIncIndex = index + 1;\n            }\n          }\n\n          // 计算needIncIndex元素的大小\n          const usedValue = valueMap.reduce((prev, cur, index) => {\n            if (needIncIndex !== index) {\n              return prev + cur[attr];\n            }\n            return prev;\n          }, 0);\n          const parentValue = getParentValue();\n          valueMap[needIncIndex] = {\n            ...valueMap[needIncIndex],\n            [attr]: parentValue - usedValue,\n          };\n        }\n\n        setValueMap([...valueMap]);\n      };\n\n  const onResizeStart = () => {\n    setEesizing(true);\n  };\n\n  const onResizeStop = () => {\n    setEesizing(false);\n  };\n\n  const realItems = useMemo(() => {\n    return items.map((ele: React.ReactElement, index) => {\n      const value = valueMap[index];\n      return React.cloneElement(ele, {\n        index,\n        value: value,\n        onResize: handleResize(index),\n        isFirst: index === 0,\n        isLast: index === items.length - 1,\n        type: props.type,\n        resizing,\n        onResizeStart,\n        onResizeStop,\n      });\n    });\n  }, [items, valueMap, load, resizing]);\n\n  return (\n    <div\n      className={classNames(style[\"vwood-resizer\"], {\n        [style[\"vwood-resizer-vertical\"]]: isVertical,\n      })}\n      ref={_ref}\n    >\n      {load ? realItems : null}\n    </div>\n  );\n};\n\nexport default memo(Resizer);\n","import { CSSProperties, useMemo } from \"react\";\nimport React from \"react\";\nimport { Resizable } from \"react-resizable\";\nimport { ResizerItemProps } from \"./types\";\nimport styles from \"./style.module.scss\";\n\nconst ResizerItem = (\n  props: ResizerItemProps\n) => {\n  const { onResize, value, children, isLast } = props;\n\n  const isVertical = props.type === \"vertical\";\n\n  const style = useMemo((): CSSProperties => {\n    return {\n      width: `${value.width}px`,\n      height: `${value.height}px`,\n      pointerEvents: props.resizing ? \"none\" : undefined,\n      userSelect: props.resizing ? \"none\" : undefined,\n    };\n  }, [value.height, value.width, isVertical, props.resizing]);\n\n  const render = () => {\n    return (\n      <div className={styles[\"editor-resizer-item\"]} style={style}>\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            overflow: \"hidden\",\n          }}\n          className={styles[\"editor-resizer-item-content\"]}\n        >\n          {children}\n        </div>\n      </div>\n    );\n  };\n\n  if (isLast) {\n    return render();\n  }\n\n  return (\n    <Resizable\n      width={value.width}\n      height={value.height}\n      axis={isVertical ? \"y\" : \"x\"}\n      onResizeStart={props.onResizeStart}\n      onResizeStop={props.onResizeStop}\n      handle={\n        isLast ? null : (\n          <div\n            className={\n              isVertical\n                ? \"react-resizable-handle-vertical\"\n                : \"react-resizable-handle\"\n            }\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          />\n        )\n      }\n      onResize={onResize}\n      draggableOpts={{ enableUserSelectHack: true, allowAnyClick: true }}\n    >\n      {render()}\n    </Resizable>\n  );\n};\n\nexport default ResizerItem;\n","import Resizer from \"./Resizer\";\nimport Item from \"./Item\";\n\nexport default Object.assign(Resizer, { Item });\n","export const styleOptions = [\n  {\n    label: \"css\",\n    value: \"css\",\n  },\n  {\n    label: \"sass\",\n    value: \"sass\",\n  },\n];\nexport const scriptOptions = [\n  {\n    label: \"javascript\",\n    value: \"javascript\",\n  },\n  {\n    label: \"typescript\",\n    value: \"typescript\",\n  },\n  {\n    label: \"react(js)\",\n    value: \"react-js\",\n  },\n  {\n    label: \"react(ts)\",\n    value: \"react-ts\",\n  },\n];\n\n\nexport const htmlOptions = [\n  {\n    label: \"html\",\n    value: \"html\",\n  },\n];\n\n\nexport const defaultCodeValue = {\n  htmlType: \"html\",\n  \"cssType\": \"css\",\n  \"scriptType\": \"javascript\",\n};","import { FC, memo, useEffect, useRef, useState } from \"react\";\nimport Box from \"../Box\";\nimport CodeEditor from \"../CodeEditor/index\";\nimport Resizer from \"../Resizer\";\nimport style from \"./style.module.scss\";\nimport { CodeBoxsProps } from \"./types\";\nimport { htmlOptions, scriptOptions, styleOptions } from \"../dict\";\n\nconst CodeBoxs: FC<CodeBoxsProps> = (props) => {\n  const codeDivRef = useRef<HTMLDivElement>();\n  const [loaded, setLoaded] = useState(false);\n  const [codeDivRect, setCodeDivRect] = useState({ width: 0, height: 0 });\n  //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n\n  const windowResize = (e) => {\n    codeDivRef.current &&\n      setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n  };\n\n  const handleCodeTypeChange = (codeType: string, value: string) => {\n    props.onChange(codeType, value);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"resize\", windowResize);\n\n    setLoaded(true);\n    return () => {\n      document.removeEventListener(\"resize\", windowResize);\n    };\n  }, []);\n\n  const htmlType = props.value.get(\"htmlType\") || \"html\" as any\n  const cssType = props.value.get(\"cssType\") || \"css\" as any\n  const scriptType = props.value.get(\"scriptType\") || \"javascript\" as any\n  \n  return (\n    <div className={style[\"code-div\"]} ref={codeDivRef}>\n      {loaded ? (\n        <>\n          <Resizer>\n            <Resizer.Item>\n              <Box\n                codeType={htmlType}\n                options={htmlOptions}\n                onChange={(value: string) =>\n                  handleCodeTypeChange(\"htmlType\", value)\n                }\n              >\n                <CodeEditor\n                  lang={htmlType}\n                  value={props.value.get(\"html\")}\n                  onChange={(value) => {\n                    props.onChange(\"html\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box\n                codeType={cssType}\n                options={styleOptions}\n                onChange={(value: string) =>\n                  handleCodeTypeChange(\"cssType\", value)\n                }\n              >\n                <CodeEditor\n                  lang={cssType}\n                  value={props.value.get(\"css\")}\n                  onChange={(value) => {\n                    props.onChange(\"css\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box\n                codeType={scriptType}\n                options={scriptOptions}\n                onChange={(value: string) =>\n                  handleCodeTypeChange(\"scriptType\", value)\n                }\n              >\n                <CodeEditor\n                  lang={scriptType}\n                  value={props.value.get(\"script\")}\n                  onChange={(value) => {\n                    props.onChange(\"script\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n          </Resizer>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default memo(CodeBoxs);\n","import React, { memo, useEffect, useState } from \"react\";\nimport CodeBoxs from \"./components/CodeBoxs\";\nimport Previewer from \"../components/Previewer\";\nimport style from \"./style.module.scss\";\nimport Resizer from \"./components/Resizer\";\nimport { defaultCodeValue } from \"./components/dict\";\n\nconst keydown = function (e) {\n  if (\n    e.keyCode == 83 &&\n    (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\n  ) {\n    e.preventDefault();\n    // 阻止浏览器的默认保存行为\n  }\n};\n\nconst dataKeys = [\"html\", \"htmlType\", \"css\", \"cssType\", \"script\", \"scriptType\"];\n\nconst Editor = (props) => {\n  const useCacheData = typeof window !== \"undefined\" && props.cachaValue;\n  const initValue = dataKeys.map((key) => [\n    key,\n    useCacheData\n      ? (localStorage?.getItem?.(`${location.pathname}_${key}`) || defaultCodeValue[key])\n      : props.data?.[key],\n  ]);\n\n  const [codeValue, setCodeValue] = useState(new Map(initValue));\n\n  const onCodeChange = (key, value) => {\n    codeValue.set(key, value);\n    setCodeValue(new Map(codeValue));\n    if (useCacheData) {\n      localStorage?.setItem?.(`${location.pathname}_${key}`, value);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keydown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", keydown);\n    };\n  }, []);\n\n  return (\n    <div className={style[\"editor\"]}>\n      <div className={style[\"iframe-div\"]}>\n        <Resizer type=\"vertical\">\n          <Resizer.Item>\n            <CodeBoxs value={codeValue} onChange={onCodeChange} />\n          </Resizer.Item>\n          <Resizer.Item>\n            <Previewer\n              className={style[\"preview-iframe\"]}\n              codeMap={codeValue}\n            />\n          </Resizer.Item>\n        </Resizer>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Editor);\n","let scriptImports = [];\nexport const getScriptImports = () => scriptImports;\nexport const resetScriptImports = () => {\n  scriptImports = [];\n};\n\nexport const collectImportPlugin = () => {\n  return {\n    visitor: {\n      ImportDeclaration(path) {\n        scriptImports.push(path.node.source.value);\n      },\n    },\n  };\n};\n","import * as Babel from \"@babel/standalone\";\nimport { ParserReturn } from \"../type\";\nimport { TransformOptions } from \"@babel/core\";\nimport {\n  collectImportPlugin,\n  getScriptImports,\n  resetScriptImports,\n} from \"./collectImportPlugin\";\n\nBabel.registerPlugin(\"collectImportPlugin\", collectImportPlugin);\n\nconst getOptions = (scriptType: string) => {\n  const config: TransformOptions = {\n    presets: [],\n    plugins: [\"collectImportPlugin\"],\n    // ast: true,\n  };\n  switch (scriptType) {\n    case \"typescript\":\n      config.plugins.push([\"transform-typescript\"]);\n      break;\n    case \"react-js\":\n      config.presets.push(\"react\");\n      break;\n    case \"react-ts\":\n      config.presets.push(\"react\");\n      config.plugins.push([\n        \"transform-typescript\",\n        {\n          isTSX: true,\n        },\n      ]);\n      break;\n  }\n  return config;\n};\n\nconst importNeedESMPrefix = (value: string): boolean => {\n  //判断import是否是以: http(s) | ./ | ../ | / 开头的，就不自动拼接esm\n  if (/^[http|\\.+/|\\/]/.test(value)) {\n    return false;\n  }\n\n  return true;\n};\n\n// 添加依赖\nconst addDependencies = (scriptType: string): Record<string, string> => {\n  const imports: Record<string, string> = {};\n  // switch (scriptType) {\n  //   case \"react-js\":\n  //   case \"react-ts\":\n  //     imports.react = \"https://esm.sh/react\";\n  //     imports[\"react-dom\"] = \"https://esm.sh/react-dom\";\n  //     break;\n  // }\n\n  // 通过import自动拼接https://esm.sh/\n  const scriptImports = getScriptImports();\n  scriptImports.forEach((item) => {\n    if (importNeedESMPrefix(item)) {\n      imports[item] = `https://esm.sh/${item}`;\n    }\n  });\n\n  return imports;\n};\n\nconst babelTransform = (scriptType: string, input: string = \"\") => {\n  const outputCode = Babel.transform(input, getOptions(scriptType)).code;\n  return `<script type=\"module\">${outputCode}</script>`;\n};\n\nexport const transformScript = (\n  scriptType: string,\n  input: string\n): ParserReturn => {\n  resetScriptImports();\n\n  const code = babelTransform(scriptType, input);\n\n  try {\n    return {\n      code,\n      imports: addDependencies(scriptType),\n    };\n  } catch (err) {\n    console.error(err);\n    return { imports: {}, code: \"\" };\n  }\n};\n","export interface PreviewProps {\n  css?: string;\n  cssType?: CSSType;\n  js?: string;\n  html?: string;\n  title?: string;\n  className?: string;\n  codeMap: Map<string, string>;\n}\n\nexport enum CSSType {\n  CSS = \"css\",\n  SASS = \"sass\",\n  LESS = \"less\",\n}\n","import { ParserReturn } from \"../type\";\n\nexport const cssParser = (code: string = \"\"): ParserReturn => {\n  return {\n    code,\n  };\n};\n","import { ParserReturn } from \"../type\";\nimport * as sass from \"sass\";\n\nexport const sassParser = (code: string = \"\"): ParserReturn => {\n  return {\n    code: sass.compileString(code).css,\n  };\n};\n","import { CSSType } from \"../../types\";\nimport { ParserReturn } from \"../type\";\nimport { cssParser } from \"./cssParser\";\nimport { sassParser } from \"./sassParser\";\nimport postcss from \"postcss\";\nimport autoprefixer from \"autoprefixer\";\nconst prefixer = postcss([autoprefixer]);\n\nexport const parserMap: Partial<\n  Record<CSSType, (code: string) => ParserReturn>\n> = {\n  [CSSType.SASS]: sassParser,\n  [CSSType.CSS]: cssParser,\n};\n\nexport const styleParser = async (\n  cssType: CSSType = CSSType.CSS,\n  css: string\n): Promise<ParserReturn> => {\n  const praserResult = parserMap[cssType]?.(css);\n  const postcssResult = await prefixer.process(praserResult.code);\n\n  return {\n    ...praserResult,\n    code: `<link href=\"https://esm.sh/normalize.css\" rel=\"stylesheet\" type=\"text/css\"><style>${postcssResult.css}</style>`,\n  };\n};\n","export const mergeImports = (\n  ...rest: Record<string, string>[]\n): Record<string, string> => {\n  const imports: Record<string, string> = {};\n  rest.forEach((map) => {\n    if (map) {\n      Object.assign(imports, map);\n    }\n  });\n\n  return imports;\n};\n\nexport const importmapScript = (imports: Record<string, string>): string => {\n  const Obj = {\n    imports,\n  };\n  return `<script type=\"importmap\">${JSON.stringify(Obj, undefined, 2)}</script>`;\n};\n","import { transformScript } from \"./scriptParser/babelTransform\";\nimport { styleParser } from \"./styleParser\";\nimport { CodeParserReturn } from \"./type\";\nimport { importmapScript, mergeImports } from \"./utils\";\n\nexport const codeParser = async (codeMap: Map<string, any>): Promise<CodeParserReturn> => {\n  const cssParserResult = await styleParser(\n    codeMap.get(\"cssType\"),\n    codeMap.get(\"css\")\n  );\n  const scriptParserResult = transformScript(\n    codeMap.get(\"scriptType\"),\n    codeMap.get(\"script\") ?? \"\"\n  );\n  return {\n    importMap: importmapScript(\n      mergeImports(cssParserResult.imports, scriptParserResult.imports)\n    ),\n    htmlCode: codeMap.get(\"html\") ?? \"\",\n    cssCode: cssParserResult.code,\n    scriptCode: scriptParserResult.code,\n  };\n};\n","import React, {\n  FC,\n  memo,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { PreviewProps } from \"./types\";\nimport classNames from \"classnames\";\nimport { codeParser } from \"./parser\";\nimport { useDebounceFn } from \"let-hooks/lib\";\nimport { CodeParserReturn } from \"./parser/type\";\nimport style from \"./style.module.scss\";\n\nconst Preview: FC<PreviewProps> = (props): JSX.Element => {\n  const codeMap = props.codeMap ?? new Map();\n  const [codeParserResult, setCodeParserResult] = useState<CodeParserReturn>();\n\n  const parseObj = useDebounceFn(async() => {\n   try {\n    const result = await codeParser(codeMap)\n    setCodeParserResult(result)\n   } catch (err) {\n    console.error(err);\n    console.log(\"解析报错\")\n   }\n  }, 1000)\n\n  const srcDoc = useMemo(() => {\n    return `\n      <html lang=\"en\">\n      <head>\n          <meta charset=\"UTF-8\">\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\n          <title>code preview</title>\n          ${codeParserResult?.importMap ?? \"\"}\n          ${codeParserResult?.cssCode ?? \"\"}\n      </head>\n      <body>\n      ${codeParserResult?.htmlCode ?? \"\"}\n      ${codeParserResult?.scriptCode ?? \"\"}\n      </body>\n      </html>\n    `;\n  }, [codeParserResult]);\n\n  useEffect(() => {\n    parseObj.run();\n  }, [codeMap])\n\n  return (\n    <iframe\n      srcDoc={srcDoc}\n      width=\"100%\"\n      className={classNames(style[\"iframe\"], props.className)}\n      title=\"code preview\"\n      sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\"\n      allow=\"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\"\n      scrolling=\"auto\"\n      allowTransparency\n      //   allowpaymentrequest=\"true\"\n      allowFullScreen\n      loading=\"lazy\"\n      frameBorder=\"none\"\n    />\n  );\n};\n\nexport default memo(Preview);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vwood-resizer\":\"style_vwood-resizer__uV7xv\",\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"vwood-resizer-vertical\":\"style_vwood-resizer-vertical__Y6Ddg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[933],{\n\n/***/ 25380:\n/***/ (function(module) {\n\nfunction webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 25380;\nmodule.exports = webpackEmptyContext;\n\n/***/ }),\n\n/***/ 31159:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ tiny_code_Editor; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Box/style.module.scss\nvar style_module = __webpack_require__(2620);\nvar style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(94184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 54 modules\nvar es_select = __webpack_require__(51819);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Box/index.tsx\n\n\n\n\n\nconst Box = (props)=>{\n    const { extra , children  } = props;\n    var _style;\n    return /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n        className: classnames_default()((style_module_default()).box, props.className),\n        style: (_style = props.style) !== null && _style !== void 0 ? _style : {},\n        children: [\n            /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n                className: (style_module_default())[\"box-header\"],\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-left\"],\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(es_select/* default */.Z, {\n                            size: \"small\",\n                            options: props.options,\n                            value: props.codeType,\n                            onChange: props.onChange\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-right\"],\n                        children: extra\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                className: (style_module_default())[\"box-body\"],\n                children: children\n            })\n        ]\n    });\n};\n/* harmony default export */ var components_Box = (/*#__PURE__*/(0,react.memo)(Box));\n\n// EXTERNAL MODULE: ./node_modules/@monaco-editor/react/dist/index.mjs + 11 modules\nvar dist = __webpack_require__(63764);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeEditor/langFormat.ts\nconst formatLang = (lang)=>{\n    switch(lang){\n        case \"typescript\":\n            return \"typescript\";\n        case \"sass\":\n            return \"css\";\n        case \"react-js\":\n            return \"javascript\";\n        case \"react-ts\":\n            return \"typescript\";\n        default:\n            return lang;\n    }\n};\nconst formatLangConfig = (lang)=>{\n    switch(lang){\n        case \"typescript\":\n            return {\n                \"typescript⁠\": true\n            };\n        case \"react-js\":\n            return {\n                jsx: true\n            };\n        case \"react-ts\":\n            return {\n                jsx: true,\n                \"typescript⁠\": true\n            };\n        default:\n            return {};\n    }\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeEditor/index.tsx\n\n\n\n\n// https://github.com/suren-atoyan/monaco-react\nconst MyEditor = (props)=>{\n    const handleChange = (0,react.useCallback)((value)=>{\n        props.onChange(value);\n    }, []);\n    const lang = (0,react.useMemo)(()=>formatLang(props.lang) || \"html\", [\n        props.lang\n    ]);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(dist/* default */.ZP, {\n        language: lang,\n        defaultValue: \"\",\n        value: props.value,\n        onChange: handleChange,\n        loading: false,\n        theme: \"vs-dark\"\n    });\n};\n/* harmony default export */ var CodeEditor = (MyEditor);\n\n// EXTERNAL MODULE: ./node_modules/let-hooks/lib/index.js\nvar lib = __webpack_require__(95214);\n// EXTERNAL MODULE: ./node_modules/react-resizable/css/styles.css\nvar styles = __webpack_require__(28725);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Resizer/style.module.scss\nvar Resizer_style_module = __webpack_require__(23337);\nvar Resizer_style_module_default = /*#__PURE__*/__webpack_require__.n(Resizer_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Resizer.tsx\n\n\n\n\n\n\nconst Resizer = (props)=>{\n    const items = react.Children.toArray(props.children);\n    const avgValue = 1 / items.length;\n    const isVertical = props.type === \"vertical\";\n    const _ref = (0,react.useRef)(null);\n    const [load, setLoad] = (0,react.useState)(false);\n    const [resizing, setEesizing] = (0,react.useState)(false);\n    // value 根据type来确定，默认为宽度,type=vertical时为高度\n    const [valueMap, setValueMap] = (0,react.useState)([]);\n    const getParentValue = ()=>isVertical ? _ref.current.clientHeight : _ref.current.clientWidth;\n    // 计算初始宽度\n    const calcWidth = ()=>{\n        const parentValue = getParentValue();\n        items.map((_, index)=>{\n            const value = index !== items.length - 1 ? avgValue * parentValue : (1 - avgValue * (items.length - 1)) * parentValue;\n            valueMap[index] = {\n                width: isVertical ? _ref.current.clientWidth : value,\n                height: isVertical ? value : _ref.current.clientHeight\n            };\n        });\n        setValueMap([\n            ...valueMap\n        ]);\n    };\n    const onResize = (0,lib.useDebounceFn)(()=>{\n        // 窗口改变的时候修改最后一个元素的高度和宽度\n        const newValueMap = valueMap.map((item)=>{\n            if (isVertical) {\n                item.width = _ref.current.clientWidth;\n            } else {\n                item.height = _ref.current.clientHeight;\n            }\n            return item;\n        });\n        setValueMap([\n            ...newValueMap\n        ]);\n    }, 100);\n    (0,lib.useMount)(()=>{\n        setLoad(true);\n        calcWidth();\n    });\n    (0,react.useEffect)(()=>{\n        let observer = new ResizeObserver(onResize.run);\n        observer.observe(_ref.current);\n        return ()=>{\n            _ref.current && observer.unobserve(_ref.current);\n        };\n    }, []);\n    const handleResize = (index)=>(e, data)=>{\n            const attr = isVertical ? \"height\" : \"width\";\n            // 确定index所对应的元素大小应该增大还是减少，减少就压缩左右的元素，增大就压缩右边的元素\n            const isGT = data.size[attr] - valueMap[index][attr];\n            valueMap[index] = data.size;\n            // 确定应该减少宽度的index\n            let needIncIndex = 0;\n            if (items.length > 1) {\n                if (isGT) {\n                    needIncIndex = index + 1;\n                } else {\n                    // 减少左边的宽度\n                    if (index - 1 >= 0) {\n                        needIncIndex = index - 1;\n                    } else if (index + 1 <= items.length - 1) {\n                        needIncIndex = index + 1;\n                    }\n                }\n                // 计算needIncIndex元素的大小\n                const usedValue = valueMap.reduce((prev, cur, index)=>{\n                    if (needIncIndex !== index) {\n                        return prev + cur[attr];\n                    }\n                    return prev;\n                }, 0);\n                const parentValue = getParentValue();\n                valueMap[needIncIndex] = {\n                    ...valueMap[needIncIndex],\n                    [attr]: parentValue - usedValue\n                };\n            }\n            setValueMap([\n                ...valueMap\n            ]);\n        };\n    const onResizeStart = ()=>{\n        setEesizing(true);\n    };\n    const onResizeStop = ()=>{\n        setEesizing(false);\n    };\n    const realItems = (0,react.useMemo)(()=>{\n        return items.map((ele, index)=>{\n            const value = valueMap[index];\n            return /*#__PURE__*/ react.cloneElement(ele, {\n                index,\n                value: value,\n                onResize: handleResize(index),\n                isFirst: index === 0,\n                isLast: index === items.length - 1,\n                type: props.type,\n                resizing,\n                onResizeStart,\n                onResizeStop\n            });\n        });\n    }, [\n        items,\n        valueMap,\n        load,\n        resizing\n    ]);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: classnames_default()((Resizer_style_module_default())[\"vwood-resizer\"], {\n            [(Resizer_style_module_default())[\"vwood-resizer-vertical\"]]: isVertical\n        }),\n        ref: _ref,\n        children: load ? realItems : null\n    });\n};\n/* harmony default export */ var Resizer_Resizer = (/*#__PURE__*/(0,react.memo)(Resizer));\n\n// EXTERNAL MODULE: ./node_modules/react-resizable/index.js\nvar react_resizable = __webpack_require__(1706);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Item.tsx\n\n\n\n\n\nconst ResizerItem = (props)=>{\n    const { onResize , value , children , isLast  } = props;\n    const isVertical = props.type === \"vertical\";\n    const style = (0,react.useMemo)(()=>{\n        return {\n            width: \"\".concat(value.width, \"px\"),\n            height: \"\".concat(value.height, \"px\"),\n            pointerEvents: props.resizing ? \"none\" : undefined,\n            userSelect: props.resizing ? \"none\" : undefined\n        };\n    }, [\n        value.height,\n        value.width,\n        isVertical,\n        props.resizing\n    ]);\n    const render = ()=>{\n        return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: (Resizer_style_module_default())[\"editor-resizer-item\"],\n            style: style,\n            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                style: {\n                    flex: 1,\n                    display: \"flex\",\n                    overflow: \"hidden\"\n                },\n                className: (Resizer_style_module_default())[\"editor-resizer-item-content\"],\n                children: children\n            })\n        });\n    };\n    if (isLast) {\n        return render();\n    }\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(react_resizable.Resizable, {\n        width: value.width,\n        height: value.height,\n        axis: isVertical ? \"y\" : \"x\",\n        onResizeStart: props.onResizeStart,\n        onResizeStop: props.onResizeStop,\n        handle: isLast ? null : /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: isVertical ? \"react-resizable-handle-vertical\" : \"react-resizable-handle\",\n            onClick: (e)=>{\n                e.stopPropagation();\n            }\n        }),\n        onResize: onResize,\n        draggableOpts: {\n            enableUserSelectHack: true,\n            allowAnyClick: true\n        },\n        children: render()\n    });\n};\n/* harmony default export */ var Item = (ResizerItem);\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/index.tsx\n\n\n/* harmony default export */ var components_Resizer = (Object.assign(Resizer_Resizer, {\n    Item: Item\n}));\n\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss\nvar CodeBoxs_style_module = __webpack_require__(21779);\nvar CodeBoxs_style_module_default = /*#__PURE__*/__webpack_require__.n(CodeBoxs_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/dict.ts\nconst styleOptions = [\n    {\n        label: \"css\",\n        value: \"css\"\n    },\n    {\n        label: \"sass\",\n        value: \"sass\"\n    }\n];\nconst scriptOptions = [\n    {\n        label: \"javascript\",\n        value: \"javascript\"\n    },\n    {\n        label: \"typescript\",\n        value: \"typescript\"\n    },\n    {\n        label: \"react(js)\",\n        value: \"react-js\"\n    },\n    {\n        label: \"react(ts)\",\n        value: \"react-ts\"\n    }\n];\nconst htmlOptions = [\n    {\n        label: \"html\",\n        value: \"html\"\n    }\n];\nconst defaultCodeValue = {\n    htmlType: \"html\",\n    \"cssType\": \"css\",\n    \"scriptType\": \"javascript\"\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/index.tsx\n\n\n\n\n\n\n\nconst CodeBoxs = (props)=>{\n    const codeDivRef = (0,react.useRef)();\n    const [loaded, setLoaded] = (0,react.useState)(false);\n    const [codeDivRect, setCodeDivRect] = (0,react.useState)({\n        width: 0,\n        height: 0\n    });\n    //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n    const windowResize = (e)=>{\n        codeDivRef.current && setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n    };\n    const handleCodeTypeChange = (codeType, value)=>{\n        props.onChange(codeType, value);\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"resize\", windowResize);\n        setLoaded(true);\n        return ()=>{\n            document.removeEventListener(\"resize\", windowResize);\n        };\n    }, []);\n    const htmlType = props.value.get(\"htmlType\") || \"html\";\n    const cssType = props.value.get(\"cssType\") || \"css\";\n    const scriptType = props.value.get(\"scriptType\") || \"javascript\";\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (CodeBoxs_style_module_default())[\"code-div\"],\n        ref: codeDivRef,\n        children: loaded ? /*#__PURE__*/ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            codeType: htmlType,\n                            options: htmlOptions,\n                            onChange: (value)=>handleCodeTypeChange(\"htmlType\", value),\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(CodeEditor, {\n                                lang: htmlType,\n                                value: props.value.get(\"html\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"html\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            codeType: cssType,\n                            options: styleOptions,\n                            onChange: (value)=>handleCodeTypeChange(\"cssType\", value),\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(CodeEditor, {\n                                lang: cssType,\n                                value: props.value.get(\"css\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"css\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            codeType: scriptType,\n                            options: scriptOptions,\n                            onChange: (value)=>handleCodeTypeChange(\"scriptType\", value),\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(CodeEditor, {\n                                lang: scriptType,\n                                value: props.value.get(\"script\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"script\", value);\n                                }\n                            })\n                        })\n                    })\n                ]\n            })\n        }) : null\n    });\n};\n/* harmony default export */ var components_CodeBoxs = (/*#__PURE__*/(0,react.memo)(CodeBoxs));\n\n// EXTERNAL MODULE: ./pages/tiny-code/components/Previewer/index.tsx + 8 modules\nvar Previewer = __webpack_require__(71510);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/style.module.scss\nvar Editor_style_module = __webpack_require__(63602);\nvar Editor_style_module_default = /*#__PURE__*/__webpack_require__.n(Editor_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/index.jsx\n\n\n\n\n\n\n\nconst keydown = function(e) {\n    if (e.keyCode == 83 && (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\n        e.preventDefault();\n    // 阻止浏览器的默认保存行为\n    }\n};\nconst dataKeys = [\n    \"html\",\n    \"htmlType\",\n    \"css\",\n    \"cssType\",\n    \"script\",\n    \"scriptType\"\n];\nconst Editor = (props)=>{\n    const useCacheData =  true && props.cachaValue;\n    const initValue = dataKeys.map((key)=>{\n        var ref, ref1;\n        return [\n            key,\n            useCacheData ? (localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.getItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_\").concat(key))) || defaultCodeValue[key] : (ref1 = props.data) === null || ref1 === void 0 ? void 0 : ref1[key]\n        ];\n    });\n    const [codeValue, setCodeValue] = (0,react.useState)(new Map(initValue));\n    const onCodeChange = (key, value)=>{\n        codeValue.set(key, value);\n        setCodeValue(new Map(codeValue));\n        if (useCacheData) {\n            var ref;\n            localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.setItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_\").concat(key), value);\n        }\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"keydown\", keydown);\n        return ()=>{\n            document.removeEventListener(\"keydown\", keydown);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (Editor_style_module_default()).editor,\n        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: (Editor_style_module_default())[\"iframe-div\"],\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                type: \"vertical\",\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeBoxs, {\n                            value: codeValue,\n                            onChange: onCodeChange\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(Previewer/* default */.Z, {\n                            className: (Editor_style_module_default())[\"preview-iframe\"],\n                            codeMap: codeValue\n                        })\n                    })\n                ]\n            })\n        })\n    });\n};\n/* harmony default export */ var tiny_code_Editor = (/*#__PURE__*/(0,react.memo)(Editor));\n\n\n/***/ }),\n\n/***/ 71510:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ Previewer; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(94184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: ./node_modules/@babel/standalone/babel.js\nvar babel = __webpack_require__(12175);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/scriptParser/collectImportPlugin.ts\nlet scriptImports = [];\nconst getScriptImports = ()=>scriptImports;\nconst resetScriptImports = ()=>{\n    scriptImports = [];\n};\nconst collectImportPlugin = ()=>{\n    return {\n        visitor: {\n            ImportDeclaration (path) {\n                scriptImports.push(path.node.source.value);\n            }\n        }\n    };\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/scriptParser/babelTransform.ts\n\n\nbabel.registerPlugin(\"collectImportPlugin\", collectImportPlugin);\nconst getOptions = (scriptType)=>{\n    const config = {\n        presets: [],\n        plugins: [\n            \"collectImportPlugin\"\n        ]\n    };\n    switch(scriptType){\n        case \"typescript\":\n            config.plugins.push([\n                \"transform-typescript\"\n            ]);\n            break;\n        case \"react-js\":\n            config.presets.push(\"react\");\n            break;\n        case \"react-ts\":\n            config.presets.push(\"react\");\n            config.plugins.push([\n                \"transform-typescript\",\n                {\n                    isTSX: true\n                }\n            ]);\n            break;\n    }\n    return config;\n};\nconst importNeedESMPrefix = (value)=>{\n    //判断import是否是以: http(s) | ./ | ../ | / 开头的，就不自动拼接esm\n    if (/^[http|\\.+/|\\/]/.test(value)) {\n        return false;\n    }\n    return true;\n};\n// 添加依赖\nconst addDependencies = (scriptType)=>{\n    const imports = {};\n    // switch (scriptType) {\n    //   case \"react-js\":\n    //   case \"react-ts\":\n    //     imports.react = \"https://esm.sh/react\";\n    //     imports[\"react-dom\"] = \"https://esm.sh/react-dom\";\n    //     break;\n    // }\n    // 通过import自动拼接https://esm.sh/\n    const scriptImports = getScriptImports();\n    scriptImports.forEach((item)=>{\n        if (importNeedESMPrefix(item)) {\n            imports[item] = \"https://esm.sh/\".concat(item);\n        }\n    });\n    return imports;\n};\nconst babelTransform = function(scriptType) {\n    let input = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n    const outputCode = babel.transform(input, getOptions(scriptType)).code;\n    return '<script type=\"module\">'.concat(outputCode, \"</script>\");\n};\nconst transformScript = (scriptType, input)=>{\n    resetScriptImports();\n    const code = babelTransform(scriptType, input);\n    try {\n        return {\n            code,\n            imports: addDependencies(scriptType)\n        };\n    } catch (err) {\n        console.error(err);\n        return {\n            imports: {},\n            code: \"\"\n        };\n    }\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/types.ts\nvar CSSType;\n(function(CSSType) {\n    CSSType[\"CSS\"] = \"css\";\n    CSSType[\"SASS\"] = \"sass\";\n    CSSType[\"LESS\"] = \"less\";\n})(CSSType || (CSSType = {}));\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/styleParser/cssParser.ts\nconst cssParser = function() {\n    let code = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n    return {\n        code\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/sass/sass.default.js\nvar sass_default = __webpack_require__(33707);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/styleParser/sassParser.ts\n\nconst sassParser = function() {\n    let code = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n    return {\n        code: sass_default/* compileString */.kM(code).css\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/postcss/lib/postcss.mjs\nvar postcss = __webpack_require__(39973);\n// EXTERNAL MODULE: ./node_modules/autoprefixer/lib/autoprefixer.js\nvar autoprefixer = __webpack_require__(19806);\nvar autoprefixer_default = /*#__PURE__*/__webpack_require__.n(autoprefixer);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/styleParser/index.ts\n\n\n\n\n\nconst prefixer = (0,postcss/* default */.ZP)([\n    (autoprefixer_default())\n]);\nconst parserMap = {\n    [CSSType.SASS]: sassParser,\n    [CSSType.CSS]: cssParser\n};\nconst styleParser = async function() {\n    let cssType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : CSSType.CSS, css = arguments.length > 1 ? arguments[1] : void 0;\n    var ref;\n    const praserResult = (ref = parserMap[cssType]) === null || ref === void 0 ? void 0 : ref.call(parserMap, css);\n    const postcssResult = await prefixer.process(praserResult.code);\n    return {\n        ...praserResult,\n        code: '<link href=\"https://esm.sh/normalize.css\" rel=\"stylesheet\" type=\"text/css\"><style>'.concat(postcssResult.css, \"</style>\")\n    };\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/utils.ts\nconst mergeImports = function() {\n    for(var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++){\n        rest[_key] = arguments[_key];\n    }\n    const imports = {};\n    rest.forEach((map)=>{\n        if (map) {\n            Object.assign(imports, map);\n        }\n    });\n    return imports;\n};\nconst importmapScript = (imports)=>{\n    const Obj = {\n        imports\n    };\n    return '<script type=\"importmap\">'.concat(JSON.stringify(Obj, undefined, 2), \"</script>\");\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/index.ts\n\n\n\nconst codeParser = async (codeMap)=>{\n    const cssParserResult = await styleParser(codeMap.get(\"cssType\"), codeMap.get(\"css\"));\n    var ref;\n    const scriptParserResult = transformScript(codeMap.get(\"scriptType\"), (ref = codeMap.get(\"script\")) !== null && ref !== void 0 ? ref : \"\");\n    var ref1;\n    return {\n        importMap: importmapScript(mergeImports(cssParserResult.imports, scriptParserResult.imports)),\n        htmlCode: (ref1 = codeMap.get(\"html\")) !== null && ref1 !== void 0 ? ref1 : \"\",\n        cssCode: cssParserResult.code,\n        scriptCode: scriptParserResult.code\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/let-hooks/lib/index.js\nvar lib = __webpack_require__(95214);\n// EXTERNAL MODULE: ./pages/tiny-code/components/Previewer/style.module.scss\nvar style_module = __webpack_require__(16856);\nvar style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/index.tsx\n\n\n\n\n\n\nconst Preview = (props)=>{\n    var _codeMap;\n    const codeMap = (_codeMap = props.codeMap) !== null && _codeMap !== void 0 ? _codeMap : new Map();\n    const [codeParserResult, setCodeParserResult] = (0,react.useState)();\n    const parseObj = (0,lib.useDebounceFn)(async ()=>{\n        try {\n            const result = await codeParser(codeMap);\n            setCodeParserResult(result);\n        } catch (err) {\n            console.error(err);\n            console.log(\"解析报错\");\n        }\n    }, 1000);\n    const srcDoc = (0,react.useMemo)(()=>{\n        var ref, ref1, ref2, ref3;\n        return '\\n      <html lang=\"en\">\\n      <head>\\n          <meta charset=\"UTF-8\">\\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\\n          <title>code preview</title>\\n          '.concat((ref = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.importMap) !== null && ref !== void 0 ? ref : \"\", \"\\n          \").concat((ref1 = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.cssCode) !== null && ref1 !== void 0 ? ref1 : \"\", \"\\n      </head>\\n      <body>\\n      \").concat((ref2 = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.htmlCode) !== null && ref2 !== void 0 ? ref2 : \"\", \"\\n      \").concat((ref3 = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.scriptCode) !== null && ref3 !== void 0 ? ref3 : \"\", \"\\n      </body>\\n      </html>\\n    \");\n    }, [\n        codeParserResult\n    ]);\n    (0,react.useEffect)(()=>{\n        parseObj.run();\n    }, [\n        codeMap\n    ]);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"iframe\", {\n        srcDoc: srcDoc,\n        width: \"100%\",\n        className: classnames_default()((style_module_default()).iframe, props.className),\n        title: \"code preview\",\n        sandbox: \"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\",\n        allow: \"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\",\n        scrolling: \"auto\",\n        allowTransparency: true,\n        //   allowpaymentrequest=\"true\"\n        allowFullScreen: true,\n        loading: \"lazy\",\n        frameBorder: \"none\"\n    });\n};\n/* harmony default export */ var Previewer = (/*#__PURE__*/(0,react.memo)(Preview));\n\n\n/***/ }),\n\n/***/ 2620:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};\n\n/***/ }),\n\n/***/ 21779:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};\n\n/***/ }),\n\n/***/ 23337:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"vwood-resizer\":\"style_vwood-resizer__uV7xv\",\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"vwood-resizer-vertical\":\"style_vwood-resizer-vertical__Y6Ddg\"};\n\n/***/ }),\n\n/***/ 63602:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};\n\n/***/ }),\n\n/***/ 16856:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};\n\n/***/ }),\n\n/***/ 72950:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 22868:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 14777:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 99830:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 70209:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ })\n\n}]);"],"names":["self","push","module","webpackEmptyContext","req","e","code","keys","resolve","id","exports","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","tiny_code_Editor","jsx_runtime","react","style_module","style_module_default","n","classnames","classnames_default","es_select","Box","_style","extra","children","props","jsxs","className","box","style","jsx","Z","size","options","value","codeType","onChange","components_Box","memo","dist","formatLang","lang","MyEditor","handleChange","useCallback","useMemo","ZP","language","defaultValue","loading","theme","lib","Resizer_style_module","Resizer_style_module_default","Resizer","items","Children","toArray","avgValue","length","isVertical","type","_ref","useRef","load","setLoad","useState","resizing","setEesizing","valueMap","setValueMap","getParentValue","current","clientHeight","clientWidth","calcWidth","parentValue","map","_","index","width","height","onResize","useDebounceFn","newValueMap","item","useMount","useEffect","observer","ResizeObserver","run","observe","unobserve","handleResize","data","attr","isGT","needIncIndex","usedValue","reduce","prev","cur","onResizeStart","onResizeStop","realItems","ele","cloneElement","isFirst","isLast","ref","Resizer_Resizer","react_resizable","ResizerItem","concat","pointerEvents","undefined","userSelect","render","flex","display","overflow","Resizable","axis","handle","stopPropagation","draggableOpts","enableUserSelectHack","allowAnyClick","components_Resizer","Object","assign","Item","CodeBoxs_style_module","CodeBoxs_style_module_default","styleOptions","label","scriptOptions","htmlOptions","defaultCodeValue","htmlType","CodeBoxs","codeDivRef","loaded","setLoaded","codeDivRect","setCodeDivRect","windowResize","getBoundingClientRect","handleCodeTypeChange","document","addEventListener","removeEventListener","get","cssType","scriptType","Fragment","components_CodeBoxs","Previewer","Editor_style_module","Editor_style_module_default","keydown","keyCode","navigator","platform","match","metaKey","ctrlKey","preventDefault","dataKeys","Editor","useCacheData","cachaValue","initValue","ref1","key","localStorage","getItem","call","location","pathname","codeValue","setCodeValue","Map","onCodeChange","set","setItem","editor","codeMap","CSSType","babel","scriptImports","getScriptImports","resetScriptImports","collectImportPlugin","visitor","ImportDeclaration","path","node","source","registerPlugin","getOptions","config","presets","plugins","isTSX","importNeedESMPrefix","test","addDependencies","imports","forEach","babelTransform","input","arguments","outputCode","transform","transformScript","err","console","error","cssParser","sass_default","sassParser","kM","css","postcss","autoprefixer","autoprefixer_default","prefixer","parserMap","SASS","CSS","styleParser","praserResult","postcssResult","process","mergeImports","_len","rest","_key","importmapScript","JSON","stringify","codeParser","cssParserResult","scriptParserResult","importMap","htmlCode","cssCode","scriptCode","Preview","_codeMap","codeParserResult","setCodeParserResult","parseObj","result","log","srcDoc","ref2","ref3","iframe","title","sandbox","allow","scrolling","allowTransparency","allowFullScreen","frameBorder"],"sourceRoot":""}