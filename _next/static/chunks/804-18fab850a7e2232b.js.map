{"version":3,"file":"static/chunks/804-18fab850a7e2232b.js","mappings":"A6BACA,CAAAA,KAAK,gBAAmB,CAAGA,KAAK,gBAAmB,EAAI,EAAE,EAAEC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAElE,MACC,SAASC,CAAM,CAAE,C7BFxB,SAAAC,EAAAC,CAAA,EACA,IAAAC,EAAA,6BAAAD,EAAA,IAEA,OADAC,EAAAC,IAAA,oBACAD,CAAA,CAEAF,EAAAI,IAAA,sBACAJ,EAAAK,OAAA,CAAAL,EACAA,EAAAM,EAAA,OAAAP,EAAAQ,OAAA,CAAAP,CAAA,gBAAAQ,CAAA,CAAAC,CAAA,CAAAC,CAAA,eAAAA,EAAAC,CAAA,CAAAF,EAAA,qBAAAG,CAAA,QAAAC,EAAAH,EAAA,OAAAI,EAAAJ,EAAA,OAAAK,EAAAL,EAAA,OCRoD,IAClDM,EAAQ,WACNC,GAAK,IACH,aAKG,IACH,WALF,MAAK,iBACH,OAMF,IAAK,UACH,OANF,MAAK,UACH,WACF,MAAK,YAKA,KACH,OACF,MAAK,WACH,OACF,MAAK,WACH,OACF,qBAEF,OAAAA,CACA,CAEK,EAkBL,IAAAC,EAAAR,EAAA,OClCYI,EACNK,EAAA,CAAAC,MAAA,EAAAC,MACJ,CACFC,GAAA,0BACD,CAED,GACiD,IAC/CC,EAAO,GAAQ,CAEf,GAAM,CAAAC,EAAAC,EAAe,IAAAV,EAAAW,QAAa,MAChCC,EAAe,GAAAZ,EAAAa,WAAA,MACdC,EAAEC,QAAA,CAAAC,EAEL,MAA8Dd,EAAM,CAAI,EAAAF,EAAAiB,OAAA,MAAAhB,EAAAa,EAAAZ,IAAA,WAACY,EAAAZ,IAAA,CAEzE,QAIa,CAJE,GAAAC,EACbe,QAAU,MAAI,CAChBR,EAAA,GAEA,GACED,GAKY,GAAAX,EAAAqB,GAAA,EAAApB,EAAAqB,EAAA,EACVC,SAAAnB,EACAoB,aAAa,GACbN,MAAAF,EAAUE,KAAA,KACVD,SAAUH,EACVW,QAAO,CAAAd,EAAee,MAAAV,EAAAU,KAAA,WAG5B,GAZG,MAeqB,IAAA3B,EAAAW,CAAA,iBAAAf,CAAA,CAAAC,CAAA,CAAAC,CAAA,eAAAA,EAAAC,CAAA,CAAAF,EAAA,qBAAA+B,CAAA,QAAA3B,EAAAH,EAAA,OAAAK,EAAAL,EAAA,OAAA+B,EAAA/B,EAAA,MAAAgC,EAAAhC,EAAAiC,CAAA,CAAAF,GAAAG,EAAAlC,EAAA,OAAAmC,EAAAnC,EAAAiC,CAAA,CAAAC,GAAAE,EAAApC,EAAA,OCvC0B,IAChDqC,EAAQ,GAAO,KAEfC,EAF4B,GAGwC,CAAAC,MAAAA,CAAA,CAAAC,SAAAA,CAAA,EAAArB,EAAjE,MAAe,GAAAhB,EAAWsC,IAAA,SAAgCC,UAAOP,IAAW,IAAXQ,GAAA,CAAAxB,EAAAuB,SAAiB,EAAAE,MAAA,OAAAN,CAAAA,EAAAnB,EAAAyB,KAAA,GAAAN,KAAA,IAAAA,EAAAA,EAAA,GAAAE,SAAA,CAC5E,CAAW,EAAArC,EAAAsC,IAAA,SAAmBC,UAAA,kBAAAF,SAAA,CAC5B,CAAW,EAAArC,EAAAqB,GAAA,SAAwBkB,UACtC,sBAAC,CAAMF,SAAM,GAAArC,EAAAqB,GAAA,EAAAY,EAAAS,CAAA,EAAQC,KAAA,QAAwBC,QAAO5B,EAAM4B,OAAQ,CAAE1B,MAAAF,EAAU6B,QAAM,CAAQ5B,SAAAD,EAAAC,QAAA,KAEzF,CAAW,EAAAjB,EAAAqB,GAAA,SAAyBkB,UAAG,wBAAAF,SAAAD,CAAA,MAEzC,CAAW,EAAApC,EAAAqB,GAAA,SAAiBkB,UAAG,gBAAAF,SAAAA,CAAA,KAK1C,EAAyB,IAAAS,EAAA,GAAA5C,EAAA6C,IAAA,EAAAb,GAAAnC,EAAAF,EAAA,MAAAQ,EAAAR,EAAA,OAAAA,EAAA,WAAAmD,EAAAnD,EAAA,OAAAoD,EAAApD,EAAAiC,CAAA,CAAAkB,GCdiC,IACxDE,EAAM,GAAQ,CACd,IAAMC,EAAAjD,EAAWkD,QAAU,CAAAC,OAAM,CAAArC,EAAAqB,QAAA,EAC3BiB,EAAA,EAAaH,EAAMI,MAAI,CAEvBC,EAAOxC,aAAAA,EAAAyC,IAAM,CAEbC,EAAO,GAAAxD,EAAQyD,MAAG,QAClB,CAACC,EAAAC,EAAU,IAAA3D,EAAeW,QAAA,MAEhC,CAAAiD,EAAAC,EAAA,IAAA7D,EAAAW,QAA0C,MAKpC,CAAAmD,EAAAC,EACJ,IAAA/D,EAAaW,QAAK,IAAQ,EAE5BqD,EAAS,IAAAV,EAAAE,EAAAS,OAAA,CAAAC,YAAA,CAAAV,EAAAS,OAAA,CAAAE,WAAA,CAEPC,EAAM,KAEN,IAAMC,EAAQL,IAAUf,EACtBqB,GAAA,CAAM,CAAAC,EAAAC,IACJ,CAGF,IAAAxD,EAASwD,IAASvB,EAAAI,MAAA,GAAAD,EAAAiB,EAAA,GAAAjB,EAAAH,CAAAA,EAAAI,MAAA,KAAAgB,CAAA,CAAAP,CAChB,CAAAU,EAAO,EACPC,MAAAnB,EAAQE,EAAaS,OAAQ,CAAAE,WAAa,CAAAnD,CAAA,CAC5C0D,OAAApB,EAAAtC,EAAAwC,EAAAS,OAAA,CAAAC,YAAA,CAEF,GAAYH,EAAI,IAASD,EAC3B,CAEA,EACEa,EAAA,GAAAxE,EAAAyE,aAAwB,OACN,GAChBpB,EAAAS,OAAM,EAAmC,IACvCY,EAAgBf,EAAAQ,GAAA,KACdhB,EACFwB,EAAOL,KAAA,CAAAjB,EAAAS,OAAA,CAAAE,WAAA,CAENW,EAAAJ,MAAA,CAAAlB,EAAAS,OAAA,CAAAC,YAAA,CAGHY,IAEYf,EAAI,IAAYc,EAC7B,CAEA,GAEH,KAAe,GAAA1E,EACbe,QAAQ,EAAI,KACZyC,EAAA,IACFS,GAGA,GAAgB,GAAApE,EACV+E,SAAA,EAAW,IAAI,CACnB,IAAAC,EAAS,IAAQC,eAAYN,EAAAO,GAAA,EAChB,OAAbF,EAAOG,OAAM,CAAA3B,EAAAS,OAAA,EACX,IAAK,CACPT,EAAAS,OAAA,EAAAe,EAAAI,SAAA,CAAA5B,EAAAS,OAAA,CACC,CAEH,MAEoE,IAAAoB,EACjD,IAAAlG,EAAamG,IAAA,CAC1B,IAAAC,EAAAjC,EAAA,iBAEAkC,EAASF,EAAS7C,IAAA,CAAK8C,EAAI,CAAAzB,CAAA,CAAAU,EAAA,CAAAe,EAAA,CAC3BzB,CAAA,CAAAU,EAAA,CAAiBc,EAAA7C,IAAA,CAEjB,IAAIgD,EAAe,EAAG,GACpBxC,EAAII,MAAM,IACRmC,EACFC,EAAOjB,EAAA,EAGHA,EAAA,KACFiB,EAAmBjB,EAAK,EACtBA,EAAe,GAAAvB,EAAQI,MAAA,IACxBoC,CAAAA,EAAAjB,EAAA,GAIqD,IACtDkB,EAAI5B,EAAiB6B,MAAO,EAAAC,EAAAC,EAAArB,IAAA,IACTA,EAClBoB,EAAAC,CAAA,CAAAN,EAAA,CAEAK,CADD,CAEF,GACAvB,EAASL,GAAgBF,CAAAA,CACpB,CAAA2B,EAAS,EACZ,GAAC3B,CAAO,CAAA2B,EAAc,CACxB,CAAAF,EAAA,CAAAlB,EAAAqB,CACD,CAED,GAAgB,IAAS5B,EAC3B,CAEJ,EACEgC,EAAgB,KAClBjC,EAAA,GAEA,EACEkC,EAAiB,KACnBlC,EAAA,GAEA,EACEmC,EAAa,GAAIhG,EAA0BiB,OAAA,EAAU,IACnDgC,EAAMqB,GAAA,EAAQ2B,EAAAzB,IAAS,CACvB,IAAAxD,EAAA8C,CAAO,CAAAU,EAAA,CAAwB,OAC7BxE,EAAAkG,YAAA,CAAAD,EAAA,CACAzB,MAAAA,EACAxD,MAAAA,EACA2D,SAASU,EAAUb,GACnB2B,QAAQ3B,IAAAA,EACR4B,OAAM5B,IAAUvB,EAAAI,MAAA,GAChBE,KAAAzC,EAAAyC,IAAA,CACAK,SAAAA,EACAkC,cAAAA,EACFC,aAAAA,CACF,EACC,IAAQ9C,EAAUa,EAAMJ,EAASE,EAEpC,EACG,MACY,GAAA9D,EAAWqB,GAAA,SAAwBkB,UAC3CP,IAAA,GAAgC,iBAAE,EACrC,gCAAAwB,CACA,GAAK+C,IAAA7C,EAEmBrB,SAAAuB,EAAAsC,EAAA,MAK9B,EAA6B,IAAAM,EAAA,GAAAtG,EAAA6C,IAAA,EAAAG,GAAAuD,EAAA5G,EAAA,MC9IxB,IACH6G,EAAQ,GAAe,CAEvB,GAAM,CAAA7B,SAAAA,CAAA,CAAa3D,MAAAA,CAAA,CAAMmB,SAAAA,CAAS,CAAAiE,OAAAA,CAAA,EAAAtF,EAE5BwC,EAAQxC,aAAAA,EAAAyC,IAAA,CACZhB,EAAO,GAAAvC,EAAAiB,OAAA,MACL,EACAwD,MAAA,GAAQgC,MAAiB,CAAAzF,MAAAA,EAAd,OAAAA,EAAAyD,KAAO,CAAM,MACxBC,OAAA,GAAA+B,MAAe,CAAAzF,MAAAA,EAAmC,OAAAA,EAAA0D,MAAA,OAClDgC,cAAY5F,EAAM8C,QAAW,QAAS+C,KAAAA,CAAS,CACjDC,WAAA9F,EAAA8C,QAAA,QAAA+C,KAAAA,CAAA,CACC,GAAgB3F,MAAAA,EAAA,OAAAA,EAAO0D,MAAK,CAAE1D,MAAAA,EAAA,OAAAA,EAAAyD,KAAA,CAAYnB,EAAexC,EAAA8C,QAAA,CAE5D,EACEiD,EAAA,IACkB,GAAA/G,EAAAqB,GAAA,SAA+BkB,UAAO,2BAAAE,MAAAA,EACnDJ,SACQ,GAAArC,EAAAqB,GAAA,SAAAoB,MACL,CACAuE,KAAA,EACAC,QAAA,OACFC,SAAA,QACA,EAAgD3E,UAE/C,mCAAAF,SAAAA,CAAA,EAIT,UAEY,EAEX0E,IAIgB,CAAK,EAAA/G,EAAAqB,GAAA,EAAAoF,EAAAU,SAAA,EAClBxC,MAAAzD,EAAQyD,KAAM,CACdC,OAAM1D,EAAA0D,MAAa,CACnBwC,KAAA5D,EAAe,IAAM,IACrBwC,cAAchF,EAAMgF,aAAY,CAChCC,aACEjF,EAASiF,YAAI,CACVoB,OACCf,EACE,KACI,GAAAtG,EAAAqB,GAAA,QACA,CAENkB,UAAUiB,EAAM,2DACZ,QAAAnE,EAAA,CACJA,EAAAiI,eAAA,EAEH,CAEH,GACAzC,SAAAA,EAAe0C,cAAE,CAA4BC,qBAAmB,GAACC,cAAA,IAEhEpF,SAAA0E,GAGP,EA3BE,ECxC0C,IAAAW,EAAAC,OAAAC,MAAA,CAAApB,EAAA,CAAIqB,KDqErBnB,CCrEqB,GAAAoB,EAAAjI,EAAA,OAAAkI,EAAAlI,EAAAiC,CAAA,CAAAgG,GCHpB,IAC1BE,EAAA,EAEEC,MAAO,MACT/G,MAAA,KACA,GAEE+G,MAAO,OACT/G,MAAA,MACA,EACK,CACLgH,EAAA,EAEED,MAAO,aACT/G,MAAA,YACA,GAEE+G,MAAO,aACT/G,MAAA,YACA,GAEE+G,MAAO,YACT/G,MAAA,UACA,GAEE+G,MAAO,YACT/G,MAAA,UACA,EAGK,CACLiH,EAAA,EAEEF,MAAO,OACT/G,MAAA,MACA,EAGK,CACLkH,EAAU,CACVC,SAAA,OACA,cACA,yBCjCAC,EAAM,GAAa,CACnB,IAAMC,EAAS,GAAArI,EAAayD,MAAA,IACtB,CAAChD,EAAAC,EAAa,IAAAV,EAAeW,QAAG,MAAW,CAAA2H,EAAOC,EAAA,IAAAvI,EAAAW,QAAA,GAAG8D,MAAA,EAAUC,OAAA,CACrE,GAGE8D,EAAW,GACT,CACJH,EAAApE,OAAA,EAAAsE,EAAAF,EAAApE,OAAA,CAAAwE,qBAAA,GAEA,EACEC,EAAyB,CAAA/F,EAAA3B,IAAA,CAC3BF,EAAAC,QAAA,CAAA4B,EAAA3B,EAEA,EAAgB,GAAAhB,EACd+E,SAAS,OAET4D,SAAAC,gBAAc,UAAAJ,GACd9H,EAAO,IACL,KACFiI,SAAAE,mBAAA,UAAAL,EACC,GAEH,IACA,IAAML,EAAUrH,EAAME,KAAM,CAAA8H,GAAI,cAAc,OACxCC,EAAAjI,EAAaE,KAAM,CAAA8H,GAAM,aAAI,MAEnCE,EAAAlI,EACEE,KAAA,CAAA8H,GAAA,gBAAC,mBAAe,GAAAhJ,EAAAqB,GAAA,SAAmBkB,UAAK,gBAAAgE,IAAAgC,EAEpClG,SAAA1B,EACE,GAAAX,EAAAqB,GAAC,EAAArB,EAAAmJ,QAAO,EAAA9G,SAAA,GAAArC,EAAAsC,IAAA,EAAAoF,EAAA,CAAArF,SAAA,CAEJ,GAAArC,EAAAqB,GAAA,EAAAqG,EAACG,IAAA,EAAGxF,SACQ,GAAArC,EAAAqB,GAAA,EAAAyB,EAAA,CACVD,SAASwF,EACTzF,QAAAuF,EACmClH,SAGnC,GAAA2H,EAAA,WAAC1H,GAAUmB,SACH,GAAArC,EAAAqB,GAAA,EAAAtB,EAAA2C,CAAA,EACNtC,KAAAiI,EACAnH,MAAAF,EAAWE,KAAA,CAAU8H,GAAA,SACb,SAAA9H,EAAS,CACjBF,EAAAC,QAAA,QAAAC,EAAA,QAKJ,GAAAlB,EAAAqB,GAAA,EAAAqG,EAACG,IAAA,EAAGxF,SACQ,GAAArC,EAAAqB,GAAA,EAAAyB,EAAA,CACVD,SAASoG,EACTrG,QAAAoF,EACkC/G,SAGlC,GAAA2H,EAAA,UAAC1H,GAAUmB,SACH,GAAArC,EAAAqB,GAAA,EAAAtB,EAAA2C,CAAA,EACNtC,KAAA6I,EACA/H,MAAAF,EAAWE,KAAA,CAAU8H,GAAA,QACb,SAAA9H,EAAS,CACjBF,EAAAC,QAAA,OAAAC,EAAA,QAKJ,GAAAlB,EAAAqB,GAAA,EAAAqG,EAACG,IAAA,EAAGxF,SACQ,GAAArC,EAAAqB,GAAA,EAAAyB,EAAA,CACVD,SAASqG,EACTtG,QAAAsF,EACqCjH,SAGrC,GAAA2H,EAAA,aAAC1H,GAAUmB,SACH,GAAArC,EAAAqB,GAAA,EAAAtB,EAAA2C,CAAA,EACNtC,KAAA8I,EACAhI,MAAAF,EAAWE,KAAA,CAAU8H,GAAA,WACb,SAAA9H,EAAS,CACjBF,EAAAC,QAAA,UAAAC,EAAA,UAMJ,SAKd,EAA8B,IAAAkI,EAAA,GAAAlJ,EAAA6C,IAAA,EAAAuF,GAAAe,EAAAxJ,EAAA,OAAAyJ,EAAAzJ,EAAA,OAAA0J,EAAA1J,EAAAiC,CAAA,CAAAwH,GC5FD,IAC3BE,EACI,SAAWnK,CAAA,CACZ,CAEC,IAAFA,EAAEoK,OAAA,EAAcC,CAAAA,UAAAC,QAAA,CAAAC,KAAA,QAAAvK,EAAAwK,OAAA,CAAAxK,EAAAyK,OAAA,GAChBzK,EAAA0K,cAAe,EAInB,EAAkBC,EAAA,CAAQ,OAAY,WAAO,MAAW,UAAU,SAAa,aAE/E,CACEC,EAAM,IACN,IAAMC,EAAwBlJ,EAAEmJ,UAAA,CAAAC,EAI1BJ,EAAAxF,GAAA,KAJkC,IAAA+B,EAAA8D,EAAA,MACtC,CACAC,EAGDJ,EAAA,CAAAK,MAAAA,aAAA,cAAAhE,CAAAA,EAAAgE,aAAAC,OAAA,GAAAjE,KAAA,IAAAA,EAAA,OAAAA,EAAAkE,IAAA,CAAAF,aAAA,GAAA5D,MAAA,CAAA+D,SAAAC,QAAA,MAAAhE,MAAA,CAAA2D,GAAA,GAAAlC,CAAA,CAAAkC,EAAA,QAAAD,CAAAA,EAAArJ,EAAAwE,IAAA,GAAA6E,KAAA,IAAAA,EAAA,OAAAA,CAAA,CAAAC,EAAA,IAIK,CAAAM,EAAAC,EAAqB,EAAU,EAAA3K,EAAAW,QAAA,MAAAiK,IAAAV,IACnCW,EAAc,CAAAT,EAAKpJ,IAAA,CAED,GADlB0J,EAAAI,GAAa,CAAAV,EAAIpJ,GACjB2J,EAAI,IAAAC,IAAcF,IAAAV,EAChB,KAAA3D,CACDgE,OAAAA,cAAA,OAAAhE,CAAAA,EAAAgE,aAAAU,OAAA,GAAA1E,KAAA,IAAAA,GAAAA,EAAAkE,IAAA,CAAAF,aAAA,GAAA5D,MAAA,CAAA+D,SAAAC,QAAA,MAAAhE,MAAA,CAAA2D,GAAApJ,EACH,GAWG,MATa,GAAAhB,EACd+E,SAAS,OAET4D,SAAOC,gBAAM,WAAAU,GACX,KACFX,SAAAE,mBAAA,WAAAS,EACC,GAEH,IACkB,GAAAxJ,EAAAqB,GAAA,SAAekB,UAC7B,IAAA2I,MAAC,CAAA7I,SAAe,GAAArC,EAAAqB,GAAA,SAAmBkB,UACjC,iBAAC,CAAOF,SAAM,GAAArC,EAAAsC,IAAA,EAAAoF,EAAA,CAAAjE,KAAA,WAAApB,SAAA,CAEV,GAAArC,EAAAqB,GAAA,EAAAqG,EAACG,IAAA,EAAQxF,SAAQ,GAAArC,EAAAqB,GAAA,EAAA+H,EAAA,CAAWlI,MAAA0J,EAAU3J,SAAA8J,CAAA,KAGtC,GAAA/K,EAAAqB,GAAA,EAAAqG,EAACG,IAAA,EAASxF,SACG,GAAArC,EAAAqB,GAAA,EAAAgI,EAAuB3G,CAAA,EAClCH,UAAS,sBAAA4I,QAAAP,CAAA,SAOvB,EAEA,EAA4B,IAAAjJ,EAAA,GAAAzB,EAAA6C,IAAA,EAAAkH,EAAA,iBAAAtK,CAAA,CAAAC,CAAA,CAAAC,CAAA,eAAAA,EAAAC,CAAA,CAAAF,EAAA,qBAAAyJ,CAAA,QGvDhB+B,EAALA,EHuDqBpL,EAAAH,EAAA,OAAAK,EAAAL,EAAA,OAAAkC,EAAAlC,EAAA,OAAAmC,EAAAnC,EAAAiC,CAAA,CAAAC,GAAAsJ,EAAAxL,EAAA,OChErB,IAAAyL,EAAM,GACAC,EAAA,IAAqBD,EAChCE,EAAkB,KAClBF,EAAA,IAGAG,EAAO,IACL,EAASC,QACP,CAAwBC,kBACRC,CAAK,EACrBN,EAAArM,IAAA,CAAA2M,EAAAC,IAAA,CAAAC,MAAA,CAAA5K,KAAA,CACF,CACF,CACA,GCHFmK,EAAMU,cAAc,uBAAuBN,GAAA,IACzCO,EAAiC,QAC/BzL,EAAW,CACX0L,QAAS,GAAAC,QAAC,CAAsB,sBAElC,EACQ,OACNhD,GAAK,IACH,aAAoB3I,EAAC2L,OAAA,CAAAjN,IAAA,EAAuB,uBAC5C,EACF,KAAK,KACH,WACAsB,EAAM0L,OAAA,CAAAhN,IAAA,UACR,KAAK,KACH,WACAsB,EAAO0L,OAAO,CAAChN,IAAI,CAAC,SAAAsB,EAClB2L,OAAA,CAAAjN,IAAA,EACA,wBAEAkN,MAAA,EACD,EACD,CAEJ,CACF,OAAA5L,CAEA,EACE6L,EAAA,IAEE,kBAAYC,IAAA,CAAAnL,GAQdoL,EAAyC,IACzC,IAAAC,EAAA,GAUAjB,EAAsBC,IAOxB,OAPkCD,EAC1BkB,OAAA,IAAoB,CACtBJ,EAAgBpH,IACjBuH,CAAAA,CAAA,CAAAvH,EAAA,mBAAA2B,MAAA,CAAA3B,EAAA,CAGH,GACFuH,CAEA,EAAmEE,EAAvB,SAAAvD,CAAA,EAC1C,IAAAwD,EAAMC,UAAapJ,MAAA,IAAgBoJ,KAAkB,IAAlBA,SAAO,IAAWA,SAAiB,OACtEC,EAAOvB,EAAAwB,SAAoC,CAAAH,EAAXV,EAAW9C,IAAA5J,IAAA,CAC7C,+BAAAqH,MAAA,CAAAiG,EAAA,YAEO,EAILE,EAAkB,CAAA5D,EAAAwD,IAAA,CAElBlB,IAEA,IAAIlM,EAAAmN,EAAAvD,EAAAwD,GAAA,GACF,CAAO,MACL,CACApN,KAAAA,EACFiN,QAAAD,EAAApD,EACA,CAAY,OACZ6D,EAAQ,CACD,OAAPC,QAAOC,KAAA,CAAAF,GAAE,CAAaR,QAAM,GAAGjN,KAAA,EACjC,CACA,EChFU8L,EAAAA,EAAAA,GAAAA,CAAAA,EAAA,KAEV,UAFUA,EAGV,KAAO,OAHGA,EAAA,YCRkD,IAAA8B,EAApC,WACxB,IAAA5N,EAAOqN,UAAApJ,MAAA,IAAAoJ,KAAA,IAAAA,SAAA,IAAAA,SAAA,aACL,CACFrN,KAAAA,CACA,OAAA6N,EAAAtN,EAAA,OCH6D,IAAAuN,EAApC,WACzB,IAAA9N,EAAOqN,UAAApJ,MAAA,IAAAoJ,KAAA,IAAAA,SAAA,IAAAA,SAAA,aACL,CACFrN,KAAA6N,EAAAE,EAAA,CAAA/N,GAAAgO,GAAA,CACA,MAAAC,EAAA1N,EAAA,OAAA2N,EAAA3N,EAAA,OAAA4N,EAAA5N,EAAAiC,CAAA,CAAA0L,GCDuB,IAACE,EAAA,GAAAH,EAAYjM,EAAA,GAACmM,IAEhC,EAGJE,EAAa,CACd,CAACvC,EAAAwC,IAAY,EAAER,EACf,CAAAhC,EAAAyC,GAAA,EAAAX,CAEK,EAGqBY,EAF1B,qBAGAvH,EAFA,IAEqB0C,EAAA0D,UAAApJ,MAAA,IAAAoJ,KAAA,IAAAA,SAAA,IAAAA,SAAA,IAAAvB,EAAAyC,GAAA,CAAAP,EAAAX,UAAApJ,MAAA,GAAAoJ,SAAA,WACfoB,EAAA,IAAuC,GAAvBxH,CAAAA,EAAMoH,CAAS,CAAA1E,EAAQ,GAAa1C,KAAI,IAAJA,EAAI,OAAAA,EAAAkE,IAAA,CAAAkD,EAAAL,EAAA,CAE9DU,EAAO,MAAAN,EAAAO,OAAA,CAAAF,EAAAzO,IAAA,QACF,CACH,GAAAyO,CAAM,CACRzO,KAAA,qFAAAqH,MAAA,CAAAqH,EAAAV,GAAA,YACA,GCxB2BY,EAAA,WADxB,QAAAC,EAAAxB,UAAApJ,MAAA,CAAA6K,EAAA,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,CAAA,CAAAC,EAAA,CAAA1B,SAAA,CAAA0B,EAAA,CAGH,IAAK9B,EAAS,GAOd,OAPsB6B,EACpB5B,OAAI,CAAK,IACPhI,GACDmD,OAAAC,MAAA,CAAA2E,EAAA/H,EAGH,GACA+H,CAEK,EACL+B,EAAY,GAIZ,4BAAA3H,MAAA,CAAA4H,KAAAC,SAAA,CAHE,CACFjC,QAAAA,CACA,EACA1F,KAAAA,EAAA,gBCZA4H,EAAM,MAAAtD,GAAwB,KAI9B5E,EAIA8D,EANc,IAIZqE,EAAA,MAAAZ,EAAA3C,EAAAnC,GAAA,YAAAmC,EAAAnC,GAAA,SAMU2F,EAAA7B,EAAA3B,EAAAnC,GAAA,sBAAAzC,CAAAA,EAAA4E,EAAAnC,GAAA,aAAAzC,KAAA,IAAAA,EAAAA,EAAA,IAJL,MACL,CAGAqI,UAAUN,EAAQJ,EAAIQ,EAAZnC,OAAA,CAAAoC,EAAyBpC,OAAA,GACnCsC,SAAS,IAAoB,GAApBxE,CAAAA,EAAAc,EAAgBnC,GAAI,WAAAqB,KAAA,IAAAA,EAAAA,EAAA,GAC7ByE,QAAAJ,EAAYpP,IAAA,CACdyP,WAAAJ,EAAArP,IAAA,CACA,MAAAe,EAAAR,EAAA,OAAA+B,EAAA/B,EAAA,OAAAgC,EAAAhC,EAAAiC,CAAA,CAAAF,GCRwD,IAAAoN,EACxC,IAAhB,IAAAC,EACA,IAAM9D,EAAC,IAAyC,GAAzC8D,CAAAA,EAAkBjO,EAAAmK,OAAA,GAAuB8D,KAAQ,IAARA,EAAQA,EAAA,IAAAnE,GAAA,CAElD,CAAAoE,EAAWC,EAAc,EAAW,EAAAjP,EAAAW,QAAA,IACzCuO,EAAI,GAAA/O,EAAAyE,aAAA,eACH,CACA,IAAAuK,EAAA,MAAoBZ,EAAAtD,GACnBgE,EAAYE,EAAA,OACbtC,EAAQ,CACRC,QAAQC,KAAI,CAAAF,GACbC,QAAAsC,GAAA,QACE,CAEH,OAA6BC,EAQnB,GAAArP,EAGJiB,OACA,OAXJ,IAAAoF,EAAO8D,EAAAmF,EAAAC,EAeN,+MAAA9I,MAAA,QAAAJ,CAAAA,EAAA2I,MAAAA,EAAA,OAAAA,EAAAN,SAAA,GAAArI,KAAA,IAAAA,EAAAA,EAAA,mBAAAI,MAAA,QAAA0D,CAAAA,EAAA6E,MAAAA,EAAA,OAAAA,EAAAJ,OAAA,GAAAzE,KAAA,IAAAA,EAAAA,EAAA,4CAAA1D,MAAA,QAAA6I,CAAAA,EAAAN,MAAAA,EAAA,OAAAA,EAAAL,QAAA,GAAAW,KAAA,IAAAA,EAAAA,EAAA,eAAA7I,MAAA,QAAA8I,CAAAA,EAAAP,MAAAA,EAAA,OAAAA,EAAAH,UAAA,GAAAU,KAAA,IAAAA,EAAAA,EAAA,6CAAkBP,EAErB,EAKG,MALa,GAAAhP,EACd+E,SAAY,OACXmK,EAAAhK,GAAA,KAAS+F,EAEZ,EAEY,GAAAnL,EAAAqB,GAAA,YACRkO,OAAMA,EACN5K,MAAA,OACApC,UAAMP,IAAA,IAAA0N,MAAA,CAAA1O,EAAAuB,SAAA,EACNoN,MAAA,eACAC,QAAM,sKACNC,MAAA,gJACAC,UAAA,OAGAC,gBAAQ,GACRtO,QAAA,OAAYuO,YAAA,MAGlB,EAEA,EAA6B,IAAA3G,EAAA,GAAAnJ,EAAA6C,IAAA,EAAAiM,EAAA,gBAAA9P,CAAA,ECnEXA,EAAAQ,OAAA,0NAAAR,CAAA,ECAAA,EAAAQ,OAAA,sDAAAR,CAAA,ECAAA,EAAAQ,OAAA,wLAAAR,CAAA,ECAAA,EAAAQ,OAAA,yKAAAR,CAAA,ECAAA,EAAAQ,OAAA,kDCDlB,mBCAA,mBCAA,mBCAA,mBCAA","sources":["webpack://_N_E/./node_modules/@babel/standalone/ sync","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/langFormat.ts","webpack://_N_E/./pages/tiny-code/Editor/components/CodeEditor/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Box/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Resizer.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/Item.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/dict.ts","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/index.jsx","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/scriptParser/collectImportPlugin.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/scriptParser/babelTransform.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/types.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/styleParser/cssParser.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/styleParser/sassParser.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/styleParser/index.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/utils.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/parser/index.ts","webpack://_N_E/./pages/tiny-code/components/Previewer/index.tsx","webpack://_N_E/./pages/tiny-code/Editor/components/Box/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/components/Resizer/style.module.scss","webpack://_N_E/./pages/tiny-code/Editor/style.module.scss","webpack://_N_E/./pages/tiny-code/components/Previewer/style.module.scss","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/browserslist|path","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|./terminal-highlight","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|fs","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|path","webpack://_N_E/ignored|/Users/tzx/.jenkins/workspace/vwood/node_modules/postcss/lib|source-map-js","webpack://_N_E/<anon>"],"sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 25380;\nmodule.exports = webpackEmptyContext;","export const formatLang = (lang: string): string => {\n  switch (lang) {\n    case \"typescript\":\n      return \"typescript\";\n    case \"sass\":\n      return \"css\";\n    case \"react-js\":\n      return \"javascript\";\n    case \"react-ts\":\n      return \"typescript\";\n    case \"css\":\n    case \"sass\":\n      return \"css\";\n    case \"html\":\n      return \"html\";\n    case \"less\":\n      return \"less\";\n    case \"json\":\n      return \"json\"\n    default:\n      return lang;\n  }\n};\n\nexport const formatLangConfig = (lang: string): Record<any, any> => {\n  switch (lang) {\n    case \"typescript\":\n      return {\n        \"typescript⁠\": true,\n      };\n    case \"react-js\":\n      return {\n        jsx: true,\n      };\n    case \"react-ts\":\n      return {\n        jsx: true,\n        \"typescript⁠\": true,\n      };\n    default:\n      return {};\n  }\n};\n","// import * as monaco from \"monaco-editor\";\nimport Editor, {Monaco, loader} from \"@monaco-editor/react\";\nimport { FC, useCallback, useMemo, useState } from \"react\";\nimport { CodeEditorProps } from \"./types\";\nimport { formatLang } from \"./langFormat\";\nimport { useMount } from \"let-hooks/lib\";\n\n// @ts-ignore\nloader.config({ \n  paths:{\n    vs: \"/plugin/monaco-editor/vs\"\n  }\n });\n\n// https://github.com/suren-atoyan/monaco-react\nconst MyEditor: FC<CodeEditorProps> = (props) => {\n  const [loaded, setLoaded] = useState(false);\n\n  const handleChange = useCallback((value: string) => {\n    props.onChange(value);\n  }, []);\n\n  const lang = useMemo(() => formatLang(props.lang) || \"html\", [props.lang])\n\n  useMount(() => {\n    setLoaded(true);\n  })\n\n  if (!loaded) {\n    return null;\n  }\n\n  return (\n    <Editor\n      language={lang}\n      defaultValue=\"\"\n      value={props.value || \"\"}\n      onChange={handleChange}\n      loading={!loaded}\n      theme={props.theme || \"vs-dark\"}\n    />\n  );\n};\n\n\nexport default MyEditor;","import React, { FC, memo } from \"react\";\nimport { BoxProps } from \"./types\";\nimport style from \"./style.module.scss\";\nimport classNames from \"classnames\";\nimport { Select } from \"antd\";\n\nconst Box: FC<BoxProps> = (props): JSX.Element => {\n  const { extra, children } = props;\n\n  return (\n    <div className={classNames(style[\"box\"], props.className)} style={props.style ?? {}}>\n      <div className={style[\"box-header\"]}>\n        <div className={style[\"box-header-left\"]}>\n          <Select size=\"small\" options={props.options} value={props.codeType} onChange={props.onChange}></Select>\n        </div>\n        <div className={style[\"box-header-right\"]}>{extra}</div>\n      </div>\n      <div className={style[\"box-body\"]}>{children}</div>\n    </div>\n  );\n};\n\nexport default memo(Box);\n","import React, { FC, memo, useEffect, useMemo, useRef, useState } from \"react\";\nimport { ResizerProps } from \"./types\";\nimport { ResizeCallbackData } from \"react-resizable\";\nimport { useDebounceFn, useMount } from \"let-hooks/lib\";\nimport classNames from \"classnames\";\nimport \"react-resizable/css/styles.css\";\nimport style from \"./style.module.scss\";\n\nconst Resizer: FC<ResizerProps> = (props): JSX.Element => {\n  const items = React.Children.toArray(props.children);\n  const avgValue = 1 / items.length;\n  const isVertical = props.type === \"vertical\";\n\n  const _ref = useRef<HTMLDivElement>(null);\n\n  const [load, setLoad] = useState(false);\n  const [resizing, setEesizing] = useState(false);\n\n  // value 根据type来确定，默认为宽度,type=vertical时为高度\n  const [valueMap, setValueMap] = useState<{ width: number; height: number }[]>(\n    []\n  );\n\n  const getParentValue = () =>\n    isVertical ? _ref.current.clientHeight : _ref.current.clientWidth;\n\n  // 计算初始宽度\n  const calcWidth = () => {\n    const parentValue = getParentValue();\n\n    items.map((_, index) => {\n      const value =\n        index !== items.length - 1\n          ? avgValue * parentValue\n          : (1 - avgValue * (items.length - 1)) * parentValue;\n      valueMap[index] = {\n        width: isVertical ? _ref.current.clientWidth : value,\n        height: isVertical ? value : _ref.current.clientHeight,\n      };\n    });\n    setValueMap([...valueMap]);\n  };\n\n  const onResize = useDebounceFn(() => {\n    // 窗口改变的时候修改最后一个元素的高度和宽度\n    if (_ref.current) {\n      const newValueMap = valueMap.map(item => {\n        if (isVertical) {\n          item.width = _ref.current.clientWidth\n        } else {\n          item.height = _ref.current.clientHeight\n        }\n\n        return item;\n      })\n\n      setValueMap([...newValueMap])\n    }\n\n  }, 100)\n\n  useMount(() => {\n    setLoad(true);\n    calcWidth();\n  });\n\n\n  useEffect(() => {\n    let observer = new ResizeObserver(onResize.run);\n    observer.observe(_ref.current);\n    return () => {\n      _ref.current && observer.unobserve(_ref.current);\n    };\n  }, []);\n\n  const handleResize =\n    (index: number) =>\n      (e: React.SyntheticEvent<Element>, data: ResizeCallbackData) => {\n        const attr = isVertical ? \"height\" : \"width\";\n        // 确定index所对应的元素大小应该增大还是减少，减少就压缩左右的元素，增大就压缩右边的元素\n        const isGT = data.size[attr] - valueMap[index][attr];\n        valueMap[index] = data.size;\n        // 确定应该减少宽度的index\n        let needIncIndex = 0;\n        if (items.length > 1) {\n          if (isGT) {\n            needIncIndex = index + 1;\n          } else {\n            // 减少左边的宽度\n            if (index - 1 >= 0) {\n              needIncIndex = index - 1;\n            } else if (index + 1 <= items.length - 1) {\n              needIncIndex = index + 1;\n            }\n          }\n\n          // 计算needIncIndex元素的大小\n          const usedValue = valueMap.reduce((prev, cur, index) => {\n            if (needIncIndex !== index) {\n              return prev + cur[attr];\n            }\n            return prev;\n          }, 0);\n          const parentValue = getParentValue();\n          valueMap[needIncIndex] = {\n            ...valueMap[needIncIndex],\n            [attr]: parentValue - usedValue,\n          };\n        }\n\n        setValueMap([...valueMap]);\n      };\n\n  const onResizeStart = () => {\n    setEesizing(true);\n  };\n\n  const onResizeStop = () => {\n    setEesizing(false);\n  };\n\n  const realItems = useMemo(() => {\n    return items.map((ele: React.ReactElement, index) => {\n      const value = valueMap[index];\n      return React.cloneElement(ele, {\n        index,\n        value: value,\n        onResize: handleResize(index),\n        isFirst: index === 0,\n        isLast: index === items.length - 1,\n        type: props.type,\n        resizing,\n        onResizeStart,\n        onResizeStop,\n      });\n    });\n  }, [items, valueMap, load, resizing]);\n\n  return (\n    <div\n      className={classNames(style[\"vwood-resizer\"], {\n        [style[\"vwood-resizer-vertical\"]]: isVertical,\n      })}\n      ref={_ref}\n    >\n      {load ? realItems : null}\n    </div>\n  );\n};\n\nexport default memo(Resizer);\n","import { CSSProperties, useMemo } from \"react\";\nimport React from \"react\";\nimport { Resizable } from \"react-resizable\";\nimport { ResizerItemProps } from \"./types\";\nimport styles from \"./style.module.scss\";\n\nconst ResizerItem = (\n  props: ResizerItemProps\n) => {\n  const { onResize, value, children, isLast } = props;\n\n  const isVertical = props.type === \"vertical\";\n\n  const style = useMemo((): CSSProperties => {\n    return {\n      width: `${value?.width}px`,\n      height: `${value?.height}px`,\n      pointerEvents: props.resizing ? \"none\" : undefined,\n      userSelect: props.resizing ? \"none\" : undefined,\n    };\n  }, [value?.height, value?.width, isVertical, props.resizing]);\n\n  const render = () => {\n    return (\n      <div className={styles[\"editor-resizer-item\"]} style={style}>\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            overflow: \"hidden\",\n          }}\n          className={styles[\"editor-resizer-item-content\"]}\n        >\n          {children}\n        </div>\n      </div>\n    );\n  };\n\n  if (isLast) {\n    return render();\n  }\n\n  return (\n    <Resizable\n      width={value.width}\n      height={value.height}\n      axis={isVertical ? \"y\" : \"x\"}\n      onResizeStart={props.onResizeStart}\n      onResizeStop={props.onResizeStop}\n      handle={\n        isLast ? null : (\n          <div\n            className={\n              isVertical\n                ? \"react-resizable-handle-vertical\"\n                : \"react-resizable-handle\"\n            }\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          />\n        )\n      }\n      onResize={onResize}\n      draggableOpts={{ enableUserSelectHack: true, allowAnyClick: true }}\n    >\n      {render()}\n    </Resizable>\n  );\n};\n\nexport default ResizerItem;\n","import Resizer from \"./Resizer\";\nimport Item from \"./Item\";\n\nexport default Object.assign(Resizer, { Item });\n","export const styleOptions = [\n  {\n    label: \"css\",\n    value: \"css\",\n  },\n  {\n    label: \"sass\",\n    value: \"sass\",\n  },\n];\nexport const scriptOptions = [\n  {\n    label: \"javascript\",\n    value: \"javascript\",\n  },\n  {\n    label: \"typescript\",\n    value: \"typescript\",\n  },\n  {\n    label: \"react(js)\",\n    value: \"react-js\",\n  },\n  {\n    label: \"react(ts)\",\n    value: \"react-ts\",\n  },\n];\n\n\nexport const htmlOptions = [\n  {\n    label: \"html\",\n    value: \"html\",\n  },\n];\n\n\nexport const defaultCodeValue = {\n  htmlType: \"html\",\n  \"cssType\": \"css\",\n  \"scriptType\": \"javascript\",\n};","import { FC, memo, useEffect, useRef, useState } from \"react\";\nimport Box from \"../Box\";\nimport CodeEditor from \"../CodeEditor/index\";\nimport Resizer from \"../Resizer\";\nimport style from \"./style.module.scss\";\nimport { CodeBoxsProps } from \"./types\";\nimport { htmlOptions, scriptOptions, styleOptions } from \"../dict\";\n\nconst CodeBoxs: FC<CodeBoxsProps> = (props) => {\n  const codeDivRef = useRef<HTMLDivElement>();\n  const [loaded, setLoaded] = useState(false);\n  const [codeDivRect, setCodeDivRect] = useState({ width: 0, height: 0 });\n  //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n\n  const windowResize = (e) => {\n    codeDivRef.current &&\n      setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n  };\n\n  const handleCodeTypeChange = (codeType: string, value: string) => {\n    props.onChange(codeType, value);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"resize\", windowResize);\n\n    setLoaded(true);\n    return () => {\n      document.removeEventListener(\"resize\", windowResize);\n    };\n  }, []);\n\n  const htmlType = props.value.get(\"htmlType\") || \"html\" as any\n  const cssType = props.value.get(\"cssType\") || \"css\" as any\n  const scriptType = props.value.get(\"scriptType\") || \"javascript\" as any\n  \n  return (\n    <div className={style[\"code-div\"]} ref={codeDivRef}>\n      {loaded ? (\n        <>\n          <Resizer>\n            <Resizer.Item>\n              <Box\n                codeType={htmlType}\n                options={htmlOptions}\n                onChange={(value: string) =>\n                  handleCodeTypeChange(\"htmlType\", value)\n                }\n              >\n                <CodeEditor\n                  lang={htmlType}\n                  value={props.value.get(\"html\")}\n                  onChange={(value) => {\n                    props.onChange(\"html\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box\n                codeType={cssType}\n                options={styleOptions}\n                onChange={(value: string) =>\n                  handleCodeTypeChange(\"cssType\", value)\n                }\n              >\n                <CodeEditor\n                  lang={cssType}\n                  value={props.value.get(\"css\")}\n                  onChange={(value) => {\n                    props.onChange(\"css\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n            <Resizer.Item>\n              <Box\n                codeType={scriptType}\n                options={scriptOptions}\n                onChange={(value: string) =>\n                  handleCodeTypeChange(\"scriptType\", value)\n                }\n              >\n                <CodeEditor\n                  lang={scriptType}\n                  value={props.value.get(\"script\")}\n                  onChange={(value) => {\n                    props.onChange(\"script\", value);\n                  }}\n                />\n              </Box>\n            </Resizer.Item>\n          </Resizer>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default memo(CodeBoxs);\n","import React, { memo, useEffect, useState } from \"react\";\nimport CodeBoxs from \"./components/CodeBoxs\";\nimport Previewer from \"../components/Previewer\";\nimport style from \"./style.module.scss\";\nimport Resizer from \"./components/Resizer\";\nimport { defaultCodeValue } from \"./components/dict\";\n\nconst keydown = function (e) {\n  if (\n    e.keyCode == 83 &&\n    (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\n  ) {\n    e.preventDefault();\n    // 阻止浏览器的默认保存行为\n  }\n};\n\nconst dataKeys = [\"html\", \"htmlType\", \"css\", \"cssType\", \"script\", \"scriptType\"];\n\nconst Editor = (props) => {\n  const useCacheData = typeof window !== \"undefined\" && props.cachaValue;\n  const initValue = dataKeys.map((key) => [\n    key,\n    useCacheData\n      ? (localStorage?.getItem?.(`${location.pathname}_${key}`) || defaultCodeValue[key])\n      : props.data?.[key],\n  ]);\n\n  const [codeValue, setCodeValue] = useState(new Map(initValue));\n\n  const onCodeChange = (key, value) => {\n    codeValue.set(key, value);\n    setCodeValue(new Map(codeValue));\n    if (useCacheData) {\n      localStorage?.setItem?.(`${location.pathname}_${key}`, value);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", keydown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", keydown);\n    };\n  }, []);\n\n  return (\n    <div className={style[\"editor\"]}>\n      <div className={style[\"iframe-div\"]}>\n        <Resizer type=\"vertical\">\n          <Resizer.Item>\n            <CodeBoxs value={codeValue} onChange={onCodeChange} />\n          </Resizer.Item>\n          <Resizer.Item>\n            <Previewer\n              className={style[\"preview-iframe\"]}\n              codeMap={codeValue}\n            />\n          </Resizer.Item>\n        </Resizer>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Editor);\n","let scriptImports = [];\nexport const getScriptImports = () => scriptImports;\nexport const resetScriptImports = () => {\n  scriptImports = [];\n};\n\nexport const collectImportPlugin = () => {\n  return {\n    visitor: {\n      ImportDeclaration(path) {\n        scriptImports.push(path.node.source.value);\n      },\n    },\n  };\n};\n","import * as Babel from \"@babel/standalone\";\nimport { ParserReturn } from \"../type\";\nimport { TransformOptions } from \"@babel/core\";\nimport {\n  collectImportPlugin,\n  getScriptImports,\n  resetScriptImports,\n} from \"./collectImportPlugin\";\n\nBabel.registerPlugin(\"collectImportPlugin\", collectImportPlugin);\n\nconst getOptions = (scriptType: string) => {\n  const config: TransformOptions = {\n    presets: [],\n    plugins: [\"collectImportPlugin\"],\n    // ast: true,\n  };\n  switch (scriptType) {\n    case \"typescript\":\n      config.plugins.push([\"transform-typescript\"]);\n      break;\n    case \"react-js\":\n      config.presets.push(\"react\");\n      break;\n    case \"react-ts\":\n      config.presets.push(\"react\");\n      config.plugins.push([\n        \"transform-typescript\",\n        {\n          isTSX: true,\n        },\n      ]);\n      break;\n  }\n  return config;\n};\n\nconst importNeedESMPrefix = (value: string): boolean => {\n  //判断import是否是以: http(s) | ./ | ../ | / 开头的，就不自动拼接esm\n  if (/^[http|\\.+/|\\/]/.test(value)) {\n    return false;\n  }\n\n  return true;\n};\n\n// 添加依赖\nconst addDependencies = (scriptType: string): Record<string, string> => {\n  const imports: Record<string, string> = {};\n  // switch (scriptType) {\n  //   case \"react-js\":\n  //   case \"react-ts\":\n  //     imports.react = \"https://esm.sh/react\";\n  //     imports[\"react-dom\"] = \"https://esm.sh/react-dom\";\n  //     break;\n  // }\n\n  // 通过import自动拼接https://esm.sh/\n  const scriptImports = getScriptImports();\n  scriptImports.forEach((item) => {\n    if (importNeedESMPrefix(item)) {\n      imports[item] = `https://esm.sh/${item}`;\n    }\n  });\n\n  return imports;\n};\n\nconst babelTransform = (scriptType: string, input: string = \"\") => {\n  const outputCode = Babel.transform(input, getOptions(scriptType)).code;\n  return `<script type=\"module\">${outputCode}</script>`;\n};\n\nexport const transformScript = (\n  scriptType: string,\n  input: string\n): ParserReturn => {\n  resetScriptImports();\n\n  const code = babelTransform(scriptType, input);\n\n  try {\n    return {\n      code,\n      imports: addDependencies(scriptType),\n    };\n  } catch (err) {\n    console.error(err);\n    return { imports: {}, code: \"\" };\n  }\n};\n","export interface PreviewProps {\n  css?: string;\n  cssType?: CSSType;\n  js?: string;\n  html?: string;\n  title?: string;\n  className?: string;\n  codeMap: Map<string, string>;\n}\n\nexport enum CSSType {\n  CSS = \"css\",\n  SASS = \"sass\",\n  LESS = \"less\",\n}\n","import { ParserReturn } from \"../type\";\n\nexport const cssParser = (code: string = \"\"): ParserReturn => {\n  return {\n    code,\n  };\n};\n","import { ParserReturn } from \"../type\";\nimport * as sass from \"sass\";\n\nexport const sassParser = (code: string = \"\"): ParserReturn => {\n  return {\n    code: sass.compileString(code).css,\n  };\n};\n","import { CSSType } from \"../../types\";\nimport { ParserReturn } from \"../type\";\nimport { cssParser } from \"./cssParser\";\nimport { sassParser } from \"./sassParser\";\nimport postcss from \"postcss\";\nimport autoprefixer from \"autoprefixer\";\nconst prefixer = postcss([autoprefixer]);\n\nexport const parserMap: Partial<\n  Record<CSSType, (code: string) => ParserReturn>\n> = {\n  [CSSType.SASS]: sassParser,\n  [CSSType.CSS]: cssParser,\n};\n\nexport const styleParser = async (\n  cssType: CSSType = CSSType.CSS,\n  css: string\n): Promise<ParserReturn> => {\n  const praserResult = parserMap[cssType]?.(css);\n  const postcssResult = await prefixer.process(praserResult.code);\n\n  return {\n    ...praserResult,\n    code: `<link href=\"https://esm.sh/normalize.css\" rel=\"stylesheet\" type=\"text/css\"><style>${postcssResult.css}</style>`,\n  };\n};\n","export const mergeImports = (\n  ...rest: Record<string, string>[]\n): Record<string, string> => {\n  const imports: Record<string, string> = {};\n  rest.forEach((map) => {\n    if (map) {\n      Object.assign(imports, map);\n    }\n  });\n\n  return imports;\n};\n\nexport const importmapScript = (imports: Record<string, string>): string => {\n  const Obj = {\n    imports,\n  };\n  return `<script type=\"importmap\">${JSON.stringify(Obj, undefined, 2)}</script>`;\n};\n","import { transformScript } from \"./scriptParser/babelTransform\";\nimport { styleParser } from \"./styleParser\";\nimport { CodeParserReturn } from \"./type\";\nimport { importmapScript, mergeImports } from \"./utils\";\n\nexport const codeParser = async (codeMap: Map<string, any>): Promise<CodeParserReturn> => {\n  const cssParserResult = await styleParser(\n    codeMap.get(\"cssType\"),\n    codeMap.get(\"css\")\n  );\n  const scriptParserResult = transformScript(\n    codeMap.get(\"scriptType\"),\n    codeMap.get(\"script\") ?? \"\"\n  );\n  return {\n    importMap: importmapScript(\n      mergeImports(cssParserResult.imports, scriptParserResult.imports)\n    ),\n    htmlCode: codeMap.get(\"html\") ?? \"\",\n    cssCode: cssParserResult.code,\n    scriptCode: scriptParserResult.code,\n  };\n};\n","import React, {\n  FC,\n  memo,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { PreviewProps } from \"./types\";\nimport classNames from \"classnames\";\nimport { codeParser } from \"./parser\";\nimport { useDebounceFn } from \"let-hooks/lib\";\nimport { CodeParserReturn } from \"./parser/type\";\nimport style from \"./style.module.scss\";\n\nconst Preview: FC<PreviewProps> = (props): JSX.Element => {\n  const codeMap = props.codeMap ?? new Map();\n  const [codeParserResult, setCodeParserResult] = useState<CodeParserReturn>();\n\n  const parseObj = useDebounceFn(async() => {\n   try {\n    const result = await codeParser(codeMap)\n    setCodeParserResult(result)\n   } catch (err) {\n    console.error(err);\n    console.log(\"解析报错\")\n   }\n  }, 1000)\n\n  const srcDoc = useMemo(() => {\n    return `\n      <html lang=\"en\">\n      <head>\n          <meta charset=\"UTF-8\">\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\n          <title>code preview</title>\n          ${codeParserResult?.importMap ?? \"\"}\n          ${codeParserResult?.cssCode ?? \"\"}\n      </head>\n      <body>\n      ${codeParserResult?.htmlCode ?? \"\"}\n      ${codeParserResult?.scriptCode ?? \"\"}\n      </body>\n      </html>\n    `;\n  }, [codeParserResult]);\n\n  useEffect(() => {\n    parseObj.run();\n  }, [codeMap])\n\n  return (\n    <iframe\n      srcDoc={srcDoc}\n      width=\"100%\"\n      className={classNames(style[\"iframe\"], props.className)}\n      title=\"code preview\"\n      sandbox=\"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\"\n      allow=\"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\"\n      scrolling=\"auto\"\n      // allowTransparency\n      //   allowpaymentrequest=\"true\"\n      allowFullScreen\n      loading=\"lazy\"\n      frameBorder=\"none\"\n    />\n  );\n};\n\nexport default memo(Preview);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vwood-resizer\":\"style_vwood-resizer__uV7xv\",\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"vwood-resizer-vertical\":\"style_vwood-resizer-vertical__Y6Ddg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","(self[\"webpackChunk_N_E\"] = self[\"webpackChunk_N_E\"] || []).push([[804],{\n\n/***/ 25380:\n/***/ (function(module) {\n\nfunction webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 25380;\nmodule.exports = webpackEmptyContext;\n\n/***/ }),\n\n/***/ 7699:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ CodeEditor; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/@monaco-editor/react/dist/index.mjs + 11 modules\nvar dist = __webpack_require__(63764);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeEditor/langFormat.ts\nconst formatLang = (lang)=>{\n    switch(lang){\n        case \"typescript\":\n            return \"typescript\";\n        case \"sass\":\n            return \"css\";\n        case \"react-js\":\n            return \"javascript\";\n        case \"react-ts\":\n            return \"typescript\";\n        case \"css\":\n        case \"sass\":\n            return \"css\";\n        case \"html\":\n            return \"html\";\n        case \"less\":\n            return \"less\";\n        case \"json\":\n            return \"json\";\n        default:\n            return lang;\n    }\n};\nconst formatLangConfig = (lang)=>{\n    switch(lang){\n        case \"typescript\":\n            return {\n                \"typescript⁠\": true\n            };\n        case \"react-js\":\n            return {\n                jsx: true\n            };\n        case \"react-ts\":\n            return {\n                jsx: true,\n                \"typescript⁠\": true\n            };\n        default:\n            return {};\n    }\n};\n\n// EXTERNAL MODULE: ./node_modules/let-hooks/lib/index.js\nvar lib = __webpack_require__(95214);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeEditor/index.tsx\n// import * as monaco from \"monaco-editor\";\n\n\n\n\n\n// @ts-ignore\ndist/* loader.config */._m.config({\n    paths: {\n        vs: \"/plugin/monaco-editor/vs\"\n    }\n});\n// https://github.com/suren-atoyan/monaco-react\nconst MyEditor = (props)=>{\n    const [loaded, setLoaded] = (0,react.useState)(false);\n    const handleChange = (0,react.useCallback)((value)=>{\n        props.onChange(value);\n    }, []);\n    const lang = (0,react.useMemo)(()=>formatLang(props.lang) || \"html\", [\n        props.lang\n    ]);\n    (0,lib.useMount)(()=>{\n        setLoaded(true);\n    });\n    if (!loaded) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(dist/* default */.ZP, {\n        language: lang,\n        defaultValue: \"\",\n        value: props.value || \"\",\n        onChange: handleChange,\n        loading: !loaded,\n        theme: props.theme || \"vs-dark\"\n    });\n};\n/* harmony default export */ var CodeEditor = (MyEditor);\n\n\n/***/ }),\n\n/***/ 26451:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ tiny_code_Editor; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Box/style.module.scss\nvar style_module = __webpack_require__(2620);\nvar style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(94184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 54 modules\nvar es_select = __webpack_require__(51819);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Box/index.tsx\n\n\n\n\n\nconst Box = (props)=>{\n    const { extra , children  } = props;\n    var _style;\n    return /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n        className: classnames_default()((style_module_default()).box, props.className),\n        style: (_style = props.style) !== null && _style !== void 0 ? _style : {},\n        children: [\n            /*#__PURE__*/ (0,jsx_runtime.jsxs)(\"div\", {\n                className: (style_module_default())[\"box-header\"],\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-left\"],\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(es_select/* default */.Z, {\n                            size: \"small\",\n                            options: props.options,\n                            value: props.codeType,\n                            onChange: props.onChange\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                        className: (style_module_default())[\"box-header-right\"],\n                        children: extra\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                className: (style_module_default())[\"box-body\"],\n                children: children\n            })\n        ]\n    });\n};\n/* harmony default export */ var components_Box = (/*#__PURE__*/(0,react.memo)(Box));\n\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeEditor/index.tsx + 1 modules\nvar CodeEditor = __webpack_require__(7699);\n// EXTERNAL MODULE: ./node_modules/let-hooks/lib/index.js\nvar lib = __webpack_require__(95214);\n// EXTERNAL MODULE: ./node_modules/react-resizable/css/styles.css\nvar styles = __webpack_require__(28725);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/Resizer/style.module.scss\nvar Resizer_style_module = __webpack_require__(23337);\nvar Resizer_style_module_default = /*#__PURE__*/__webpack_require__.n(Resizer_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Resizer.tsx\n\n\n\n\n\n\nconst Resizer = (props)=>{\n    const items = react.Children.toArray(props.children);\n    const avgValue = 1 / items.length;\n    const isVertical = props.type === \"vertical\";\n    const _ref = (0,react.useRef)(null);\n    const [load, setLoad] = (0,react.useState)(false);\n    const [resizing, setEesizing] = (0,react.useState)(false);\n    // value 根据type来确定，默认为宽度,type=vertical时为高度\n    const [valueMap, setValueMap] = (0,react.useState)([]);\n    const getParentValue = ()=>isVertical ? _ref.current.clientHeight : _ref.current.clientWidth;\n    // 计算初始宽度\n    const calcWidth = ()=>{\n        const parentValue = getParentValue();\n        items.map((_, index)=>{\n            const value = index !== items.length - 1 ? avgValue * parentValue : (1 - avgValue * (items.length - 1)) * parentValue;\n            valueMap[index] = {\n                width: isVertical ? _ref.current.clientWidth : value,\n                height: isVertical ? value : _ref.current.clientHeight\n            };\n        });\n        setValueMap([\n            ...valueMap\n        ]);\n    };\n    const onResize = (0,lib.useDebounceFn)(()=>{\n        // 窗口改变的时候修改最后一个元素的高度和宽度\n        if (_ref.current) {\n            const newValueMap = valueMap.map((item)=>{\n                if (isVertical) {\n                    item.width = _ref.current.clientWidth;\n                } else {\n                    item.height = _ref.current.clientHeight;\n                }\n                return item;\n            });\n            setValueMap([\n                ...newValueMap\n            ]);\n        }\n    }, 100);\n    (0,lib.useMount)(()=>{\n        setLoad(true);\n        calcWidth();\n    });\n    (0,react.useEffect)(()=>{\n        let observer = new ResizeObserver(onResize.run);\n        observer.observe(_ref.current);\n        return ()=>{\n            _ref.current && observer.unobserve(_ref.current);\n        };\n    }, []);\n    const handleResize = (index)=>(e, data)=>{\n            const attr = isVertical ? \"height\" : \"width\";\n            // 确定index所对应的元素大小应该增大还是减少，减少就压缩左右的元素，增大就压缩右边的元素\n            const isGT = data.size[attr] - valueMap[index][attr];\n            valueMap[index] = data.size;\n            // 确定应该减少宽度的index\n            let needIncIndex = 0;\n            if (items.length > 1) {\n                if (isGT) {\n                    needIncIndex = index + 1;\n                } else {\n                    // 减少左边的宽度\n                    if (index - 1 >= 0) {\n                        needIncIndex = index - 1;\n                    } else if (index + 1 <= items.length - 1) {\n                        needIncIndex = index + 1;\n                    }\n                }\n                // 计算needIncIndex元素的大小\n                const usedValue = valueMap.reduce((prev, cur, index)=>{\n                    if (needIncIndex !== index) {\n                        return prev + cur[attr];\n                    }\n                    return prev;\n                }, 0);\n                const parentValue = getParentValue();\n                valueMap[needIncIndex] = {\n                    ...valueMap[needIncIndex],\n                    [attr]: parentValue - usedValue\n                };\n            }\n            setValueMap([\n                ...valueMap\n            ]);\n        };\n    const onResizeStart = ()=>{\n        setEesizing(true);\n    };\n    const onResizeStop = ()=>{\n        setEesizing(false);\n    };\n    const realItems = (0,react.useMemo)(()=>{\n        return items.map((ele, index)=>{\n            const value = valueMap[index];\n            return /*#__PURE__*/ react.cloneElement(ele, {\n                index,\n                value: value,\n                onResize: handleResize(index),\n                isFirst: index === 0,\n                isLast: index === items.length - 1,\n                type: props.type,\n                resizing,\n                onResizeStart,\n                onResizeStop\n            });\n        });\n    }, [\n        items,\n        valueMap,\n        load,\n        resizing\n    ]);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: classnames_default()((Resizer_style_module_default())[\"vwood-resizer\"], {\n            [(Resizer_style_module_default())[\"vwood-resizer-vertical\"]]: isVertical\n        }),\n        ref: _ref,\n        children: load ? realItems : null\n    });\n};\n/* harmony default export */ var Resizer_Resizer = (/*#__PURE__*/(0,react.memo)(Resizer));\n\n// EXTERNAL MODULE: ./node_modules/react-resizable/index.js\nvar react_resizable = __webpack_require__(1706);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/Item.tsx\n\n\n\n\n\nconst ResizerItem = (props)=>{\n    const { onResize , value , children , isLast  } = props;\n    const isVertical = props.type === \"vertical\";\n    const style = (0,react.useMemo)(()=>{\n        return {\n            width: \"\".concat(value === null || value === void 0 ? void 0 : value.width, \"px\"),\n            height: \"\".concat(value === null || value === void 0 ? void 0 : value.height, \"px\"),\n            pointerEvents: props.resizing ? \"none\" : undefined,\n            userSelect: props.resizing ? \"none\" : undefined\n        };\n    }, [\n        value === null || value === void 0 ? void 0 : value.height,\n        value === null || value === void 0 ? void 0 : value.width,\n        isVertical,\n        props.resizing\n    ]);\n    const render = ()=>{\n        return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: (Resizer_style_module_default())[\"editor-resizer-item\"],\n            style: style,\n            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n                style: {\n                    flex: 1,\n                    display: \"flex\",\n                    overflow: \"hidden\"\n                },\n                className: (Resizer_style_module_default())[\"editor-resizer-item-content\"],\n                children: children\n            })\n        });\n    };\n    if (isLast) {\n        return render();\n    }\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(react_resizable.Resizable, {\n        width: value.width,\n        height: value.height,\n        axis: isVertical ? \"y\" : \"x\",\n        onResizeStart: props.onResizeStart,\n        onResizeStop: props.onResizeStop,\n        handle: isLast ? null : /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: isVertical ? \"react-resizable-handle-vertical\" : \"react-resizable-handle\",\n            onClick: (e)=>{\n                e.stopPropagation();\n            }\n        }),\n        onResize: onResize,\n        draggableOpts: {\n            enableUserSelectHack: true,\n            allowAnyClick: true\n        },\n        children: render()\n    });\n};\n/* harmony default export */ var Item = (ResizerItem);\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/Resizer/index.tsx\n\n\n/* harmony default export */ var components_Resizer = (Object.assign(Resizer_Resizer, {\n    Item: Item\n}));\n\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/style.module.scss\nvar CodeBoxs_style_module = __webpack_require__(21779);\nvar CodeBoxs_style_module_default = /*#__PURE__*/__webpack_require__.n(CodeBoxs_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/dict.ts\nconst styleOptions = [\n    {\n        label: \"css\",\n        value: \"css\"\n    },\n    {\n        label: \"sass\",\n        value: \"sass\"\n    }\n];\nconst scriptOptions = [\n    {\n        label: \"javascript\",\n        value: \"javascript\"\n    },\n    {\n        label: \"typescript\",\n        value: \"typescript\"\n    },\n    {\n        label: \"react(js)\",\n        value: \"react-js\"\n    },\n    {\n        label: \"react(ts)\",\n        value: \"react-ts\"\n    }\n];\nconst htmlOptions = [\n    {\n        label: \"html\",\n        value: \"html\"\n    }\n];\nconst defaultCodeValue = {\n    htmlType: \"html\",\n    \"cssType\": \"css\",\n    \"scriptType\": \"javascript\"\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/components/CodeBoxs/index.tsx\n\n\n\n\n\n\n\nconst CodeBoxs = (props)=>{\n    const codeDivRef = (0,react.useRef)();\n    const [loaded, setLoaded] = (0,react.useState)(false);\n    const [codeDivRect, setCodeDivRect] = (0,react.useState)({\n        width: 0,\n        height: 0\n    });\n    //   const [widthList, setWidthList] = useState([0.3333, 0.3333, 0.3334]);\n    const windowResize = (e)=>{\n        codeDivRef.current && setCodeDivRect(codeDivRef.current.getBoundingClientRect());\n    };\n    const handleCodeTypeChange = (codeType, value)=>{\n        props.onChange(codeType, value);\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"resize\", windowResize);\n        setLoaded(true);\n        return ()=>{\n            document.removeEventListener(\"resize\", windowResize);\n        };\n    }, []);\n    const htmlType = props.value.get(\"htmlType\") || \"html\";\n    const cssType = props.value.get(\"cssType\") || \"css\";\n    const scriptType = props.value.get(\"scriptType\") || \"javascript\";\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (CodeBoxs_style_module_default())[\"code-div\"],\n        ref: codeDivRef,\n        children: loaded ? /*#__PURE__*/ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            codeType: htmlType,\n                            options: htmlOptions,\n                            onChange: (value)=>handleCodeTypeChange(\"htmlType\", value),\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(CodeEditor/* default */.Z, {\n                                lang: htmlType,\n                                value: props.value.get(\"html\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"html\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            codeType: cssType,\n                            options: styleOptions,\n                            onChange: (value)=>handleCodeTypeChange(\"cssType\", value),\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(CodeEditor/* default */.Z, {\n                                lang: cssType,\n                                value: props.value.get(\"css\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"css\", value);\n                                }\n                            })\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Box, {\n                            codeType: scriptType,\n                            options: scriptOptions,\n                            onChange: (value)=>handleCodeTypeChange(\"scriptType\", value),\n                            children: /*#__PURE__*/ (0,jsx_runtime.jsx)(CodeEditor/* default */.Z, {\n                                lang: scriptType,\n                                value: props.value.get(\"script\"),\n                                onChange: (value)=>{\n                                    props.onChange(\"script\", value);\n                                }\n                            })\n                        })\n                    })\n                ]\n            })\n        }) : null\n    });\n};\n/* harmony default export */ var components_CodeBoxs = (/*#__PURE__*/(0,react.memo)(CodeBoxs));\n\n// EXTERNAL MODULE: ./pages/tiny-code/components/Previewer/index.tsx + 8 modules\nvar Previewer = __webpack_require__(71510);\n// EXTERNAL MODULE: ./pages/tiny-code/Editor/style.module.scss\nvar Editor_style_module = __webpack_require__(63602);\nvar Editor_style_module_default = /*#__PURE__*/__webpack_require__.n(Editor_style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/Editor/index.jsx\n\n\n\n\n\n\n\nconst keydown = function(e) {\n    if (e.keyCode == 83 && (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\n        e.preventDefault();\n    // 阻止浏览器的默认保存行为\n    }\n};\nconst dataKeys = [\n    \"html\",\n    \"htmlType\",\n    \"css\",\n    \"cssType\",\n    \"script\",\n    \"scriptType\"\n];\nconst Editor = (props)=>{\n    const useCacheData =  true && props.cachaValue;\n    const initValue = dataKeys.map((key)=>{\n        var ref, ref1;\n        return [\n            key,\n            useCacheData ? (localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.getItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_\").concat(key))) || defaultCodeValue[key] : (ref1 = props.data) === null || ref1 === void 0 ? void 0 : ref1[key]\n        ];\n    });\n    const [codeValue, setCodeValue] = (0,react.useState)(new Map(initValue));\n    const onCodeChange = (key, value)=>{\n        codeValue.set(key, value);\n        setCodeValue(new Map(codeValue));\n        if (useCacheData) {\n            var ref;\n            localStorage === null || localStorage === void 0 ? void 0 : (ref = localStorage.setItem) === null || ref === void 0 ? void 0 : ref.call(localStorage, \"\".concat(location.pathname, \"_\").concat(key), value);\n        }\n    };\n    (0,react.useEffect)(()=>{\n        document.addEventListener(\"keydown\", keydown);\n        return ()=>{\n            document.removeEventListener(\"keydown\", keydown);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n        className: (Editor_style_module_default()).editor,\n        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(\"div\", {\n            className: (Editor_style_module_default())[\"iframe-div\"],\n            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(components_Resizer, {\n                type: \"vertical\",\n                children: [\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(components_CodeBoxs, {\n                            value: codeValue,\n                            onChange: onCodeChange\n                        })\n                    }),\n                    /*#__PURE__*/ (0,jsx_runtime.jsx)(components_Resizer.Item, {\n                        children: /*#__PURE__*/ (0,jsx_runtime.jsx)(Previewer/* default */.Z, {\n                            className: (Editor_style_module_default())[\"preview-iframe\"],\n                            codeMap: codeValue\n                        })\n                    })\n                ]\n            })\n        })\n    });\n};\n/* harmony default export */ var tiny_code_Editor = (/*#__PURE__*/(0,react.memo)(Editor));\n\n\n/***/ }),\n\n/***/ 71510:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ Previewer; }\n});\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(94184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n// EXTERNAL MODULE: ./node_modules/@babel/standalone/babel.js\nvar babel = __webpack_require__(12175);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/scriptParser/collectImportPlugin.ts\nlet scriptImports = [];\nconst getScriptImports = ()=>scriptImports;\nconst resetScriptImports = ()=>{\n    scriptImports = [];\n};\nconst collectImportPlugin = ()=>{\n    return {\n        visitor: {\n            ImportDeclaration (path) {\n                scriptImports.push(path.node.source.value);\n            }\n        }\n    };\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/scriptParser/babelTransform.ts\n\n\nbabel.registerPlugin(\"collectImportPlugin\", collectImportPlugin);\nconst getOptions = (scriptType)=>{\n    const config = {\n        presets: [],\n        plugins: [\n            \"collectImportPlugin\"\n        ]\n    };\n    switch(scriptType){\n        case \"typescript\":\n            config.plugins.push([\n                \"transform-typescript\"\n            ]);\n            break;\n        case \"react-js\":\n            config.presets.push(\"react\");\n            break;\n        case \"react-ts\":\n            config.presets.push(\"react\");\n            config.plugins.push([\n                \"transform-typescript\",\n                {\n                    isTSX: true\n                }\n            ]);\n            break;\n    }\n    return config;\n};\nconst importNeedESMPrefix = (value)=>{\n    //判断import是否是以: http(s) | ./ | ../ | / 开头的，就不自动拼接esm\n    if (/^[http|\\.+/|\\/]/.test(value)) {\n        return false;\n    }\n    return true;\n};\n// 添加依赖\nconst addDependencies = (scriptType)=>{\n    const imports = {};\n    // switch (scriptType) {\n    //   case \"react-js\":\n    //   case \"react-ts\":\n    //     imports.react = \"https://esm.sh/react\";\n    //     imports[\"react-dom\"] = \"https://esm.sh/react-dom\";\n    //     break;\n    // }\n    // 通过import自动拼接https://esm.sh/\n    const scriptImports = getScriptImports();\n    scriptImports.forEach((item)=>{\n        if (importNeedESMPrefix(item)) {\n            imports[item] = \"https://esm.sh/\".concat(item);\n        }\n    });\n    return imports;\n};\nconst babelTransform = function(scriptType) {\n    let input = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n    const outputCode = babel.transform(input, getOptions(scriptType)).code;\n    return '<script type=\"module\">'.concat(outputCode, \"</script>\");\n};\nconst transformScript = (scriptType, input)=>{\n    resetScriptImports();\n    const code = babelTransform(scriptType, input);\n    try {\n        return {\n            code,\n            imports: addDependencies(scriptType)\n        };\n    } catch (err) {\n        console.error(err);\n        return {\n            imports: {},\n            code: \"\"\n        };\n    }\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/types.ts\nvar CSSType;\n(function(CSSType) {\n    CSSType[\"CSS\"] = \"css\";\n    CSSType[\"SASS\"] = \"sass\";\n    CSSType[\"LESS\"] = \"less\";\n})(CSSType || (CSSType = {}));\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/styleParser/cssParser.ts\nconst cssParser = function() {\n    let code = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n    return {\n        code\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/sass/sass.default.js + 1 modules\nvar sass_default = __webpack_require__(91474);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/styleParser/sassParser.ts\n\nconst sassParser = function() {\n    let code = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n    return {\n        code: sass_default/* compileString */.kM(code).css\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/postcss/lib/postcss.mjs\nvar postcss = __webpack_require__(39973);\n// EXTERNAL MODULE: ./node_modules/autoprefixer/lib/autoprefixer.js\nvar autoprefixer = __webpack_require__(19806);\nvar autoprefixer_default = /*#__PURE__*/__webpack_require__.n(autoprefixer);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/styleParser/index.ts\n\n\n\n\n\nconst prefixer = (0,postcss/* default */.ZP)([\n    (autoprefixer_default())\n]);\nconst parserMap = {\n    [CSSType.SASS]: sassParser,\n    [CSSType.CSS]: cssParser\n};\nconst styleParser = async function() {\n    let cssType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : CSSType.CSS, css = arguments.length > 1 ? arguments[1] : void 0;\n    var ref;\n    const praserResult = (ref = parserMap[cssType]) === null || ref === void 0 ? void 0 : ref.call(parserMap, css);\n    const postcssResult = await prefixer.process(praserResult.code);\n    return {\n        ...praserResult,\n        code: '<link href=\"https://esm.sh/normalize.css\" rel=\"stylesheet\" type=\"text/css\"><style>'.concat(postcssResult.css, \"</style>\")\n    };\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/utils.ts\nconst mergeImports = function() {\n    for(var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++){\n        rest[_key] = arguments[_key];\n    }\n    const imports = {};\n    rest.forEach((map)=>{\n        if (map) {\n            Object.assign(imports, map);\n        }\n    });\n    return imports;\n};\nconst importmapScript = (imports)=>{\n    const Obj = {\n        imports\n    };\n    return '<script type=\"importmap\">'.concat(JSON.stringify(Obj, undefined, 2), \"</script>\");\n};\n\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/parser/index.ts\n\n\n\nconst codeParser = async (codeMap)=>{\n    const cssParserResult = await styleParser(codeMap.get(\"cssType\"), codeMap.get(\"css\"));\n    var ref;\n    const scriptParserResult = transformScript(codeMap.get(\"scriptType\"), (ref = codeMap.get(\"script\")) !== null && ref !== void 0 ? ref : \"\");\n    var ref1;\n    return {\n        importMap: importmapScript(mergeImports(cssParserResult.imports, scriptParserResult.imports)),\n        htmlCode: (ref1 = codeMap.get(\"html\")) !== null && ref1 !== void 0 ? ref1 : \"\",\n        cssCode: cssParserResult.code,\n        scriptCode: scriptParserResult.code\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/let-hooks/lib/index.js\nvar lib = __webpack_require__(95214);\n// EXTERNAL MODULE: ./pages/tiny-code/components/Previewer/style.module.scss\nvar style_module = __webpack_require__(16856);\nvar style_module_default = /*#__PURE__*/__webpack_require__.n(style_module);\n;// CONCATENATED MODULE: ./pages/tiny-code/components/Previewer/index.tsx\n\n\n\n\n\n\nconst Preview = (props)=>{\n    var _codeMap;\n    const codeMap = (_codeMap = props.codeMap) !== null && _codeMap !== void 0 ? _codeMap : new Map();\n    const [codeParserResult, setCodeParserResult] = (0,react.useState)();\n    const parseObj = (0,lib.useDebounceFn)(async ()=>{\n        try {\n            const result = await codeParser(codeMap);\n            setCodeParserResult(result);\n        } catch (err) {\n            console.error(err);\n            console.log(\"解析报错\");\n        }\n    }, 1000);\n    const srcDoc = (0,react.useMemo)(()=>{\n        var ref, ref1, ref2, ref3;\n        return '\\n      <html lang=\"en\">\\n      <head>\\n          <meta charset=\"UTF-8\">\\n          <meta name=\"apple-mobile-web-app-title\" content=\"code preview\">\\n          <title>code preview</title>\\n          '.concat((ref = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.importMap) !== null && ref !== void 0 ? ref : \"\", \"\\n          \").concat((ref1 = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.cssCode) !== null && ref1 !== void 0 ? ref1 : \"\", \"\\n      </head>\\n      <body>\\n      \").concat((ref2 = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.htmlCode) !== null && ref2 !== void 0 ? ref2 : \"\", \"\\n      \").concat((ref3 = codeParserResult === null || codeParserResult === void 0 ? void 0 : codeParserResult.scriptCode) !== null && ref3 !== void 0 ? ref3 : \"\", \"\\n      </body>\\n      </html>\\n    \");\n    }, [\n        codeParserResult\n    ]);\n    (0,react.useEffect)(()=>{\n        parseObj.run();\n    }, [\n        codeMap\n    ]);\n    return /*#__PURE__*/ (0,jsx_runtime.jsx)(\"iframe\", {\n        srcDoc: srcDoc,\n        width: \"100%\",\n        className: classnames_default()((style_module_default()).iframe, props.className),\n        title: \"code preview\",\n        sandbox: \"allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation\",\n        allow: \"accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share\",\n        scrolling: \"auto\",\n        // allowTransparency\n        //   allowpaymentrequest=\"true\"\n        allowFullScreen: true,\n        loading: \"lazy\",\n        frameBorder: \"none\"\n    });\n};\n/* harmony default export */ var Previewer = (/*#__PURE__*/(0,react.memo)(Preview));\n\n\n/***/ }),\n\n/***/ 2620:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"resizable-handle\":\"style_resizable-handle__DFQrT\",\"box\":\"style_box__gIe6U\",\"box-header\":\"style_box-header__7Dg1_\",\"box-header-right\":\"style_box-header-right__Zb7s8\",\"box-body\":\"style_box-body___WiYx\"};\n\n/***/ }),\n\n/***/ 21779:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"code-div\":\"style_code-div__3_lvb\"};\n\n/***/ }),\n\n/***/ 23337:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"vwood-resizer\":\"style_vwood-resizer__uV7xv\",\"editor-resizer-item\":\"style_editor-resizer-item__CtKZZ\",\"vwood-resizer-vertical\":\"style_vwood-resizer-vertical__Y6Ddg\"};\n\n/***/ }),\n\n/***/ 63602:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"style_editor__33L3Y\",\"code-div\":\"style_code-div__AyOuR\",\"iframe-div\":\"style_iframe-div__VbyrP\",\"preview-iframe\":\"style_preview-iframe__ri7D3\"};\n\n/***/ }),\n\n/***/ 16856:\n/***/ (function(module) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"iframe\":\"style_iframe__kw_S7\"};\n\n/***/ }),\n\n/***/ 72950:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 22868:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 14777:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 99830:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 70209:\n/***/ (function() {\n\n/* (ignored) */\n\n/***/ })\n\n}]);"],"names":["self","push","module","webpackEmptyContext","req","e","code","keys","resolve","id","exports","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","CodeEditor","jsx_runtime","dist","react","formatLang","lang","lib","_m","config","paths","vs","MyEditor","loaded","setLoaded","useState","handleChange","useCallback","props","onChange","value","useMemo","useMount","jsx","ZP","language","defaultValue","loading","theme","tiny_code_Editor","style_module","style_module_default","n","classnames","classnames_default","es_select","Box","_style","extra","children","jsxs","className","box","style","Z","size","options","codeType","components_Box","memo","Resizer_style_module","Resizer_style_module_default","Resizer","items","Children","toArray","avgValue","length","isVertical","type","_ref","useRef","load","setLoad","resizing","setEesizing","valueMap","setValueMap","getParentValue","current","clientHeight","clientWidth","calcWidth","parentValue","map","_","index","width","height","onResize","useDebounceFn","newValueMap","item","useEffect","observer","ResizeObserver","run","observe","unobserve","handleResize","data","attr","isGT","needIncIndex","usedValue","reduce","prev","cur","onResizeStart","onResizeStop","realItems","ele","cloneElement","isFirst","isLast","ref","Resizer_Resizer","react_resizable","ResizerItem","concat","pointerEvents","undefined","userSelect","render","flex","display","overflow","Resizable","axis","handle","stopPropagation","draggableOpts","enableUserSelectHack","allowAnyClick","components_Resizer","Object","assign","Item","CodeBoxs_style_module","CodeBoxs_style_module_default","styleOptions","label","scriptOptions","htmlOptions","defaultCodeValue","htmlType","CodeBoxs","codeDivRef","codeDivRect","setCodeDivRect","windowResize","getBoundingClientRect","handleCodeTypeChange","document","addEventListener","removeEventListener","get","cssType","scriptType","Fragment","components_CodeBoxs","Previewer","Editor_style_module","Editor_style_module_default","keydown","keyCode","navigator","platform","match","metaKey","ctrlKey","preventDefault","dataKeys","Editor","useCacheData","cachaValue","initValue","ref1","key","localStorage","getItem","call","location","pathname","codeValue","setCodeValue","Map","onCodeChange","set","setItem","editor","codeMap","CSSType","babel","scriptImports","getScriptImports","resetScriptImports","collectImportPlugin","visitor","ImportDeclaration","path","node","source","registerPlugin","getOptions","presets","plugins","isTSX","importNeedESMPrefix","test","addDependencies","imports","forEach","babelTransform","input","arguments","outputCode","transform","transformScript","err","console","error","cssParser","sass_default","sassParser","kM","css","postcss","autoprefixer","autoprefixer_default","prefixer","parserMap","SASS","CSS","styleParser","praserResult","postcssResult","process","mergeImports","_len","rest","_key","importmapScript","JSON","stringify","codeParser","cssParserResult","scriptParserResult","importMap","htmlCode","cssCode","scriptCode","Preview","_codeMap","codeParserResult","setCodeParserResult","parseObj","result","log","srcDoc","ref2","ref3","iframe","title","sandbox","allow","scrolling","allowFullScreen","frameBorder"],"sourceRoot":""}